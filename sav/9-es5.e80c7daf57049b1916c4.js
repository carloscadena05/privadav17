!function(){function t(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return c=t.done,t},e:function(t){s=!0,a=t},f:function(){try{c||null==o.return||o.return()}finally{if(s)throw a}}}}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function e(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}function o(t,n){return(o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function i(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=a(t);if(n){var i=a(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return r(this,e)}}function r(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function s(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,n,e){return n&&s(t.prototype,n),e&&s(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+nnP":function(n,o,r){"use strict";r.r(o),r.d(o,"ConfidentialModule",(function(){return wt}));var a,s,l=r("ofXK"),d=r("1kSV"),b=r("UBNF"),f=r("tyNb"),h=r("LA/q"),p=r("fXoL"),g=r("mrSG"),v=r("AcyG"),m=r("HDdC"),y=r("dfvj"),R=r("qGxU"),C=r("7iOT"),k=r("CZ4s"),M=((a=function(){function t(n){c(this,t),this.router=n,console.log("hi from student-header constructor")}return u(t,[{key:"ngOnInit",value:function(){this.subscribeForStudentGUIds2()}},{key:"subscribeForStudentGUIds2",value:function(){var t=this;this.subscription=this.currentGUId$.subscribe((function(n){t.studentGUId=n,console.log("************NGXS: header new StudentGUId received"+t.studentGUId)}))}}]),t}()).\u0275fac=function(t){return new(t||a)(p.Mb(f.b))},a.\u0275cmp=p.Gb({type:a,selectors:[["app-student-header-confidential"]],decls:11,vars:1,consts:[[1,"row"],[1,"col-4"],[3,"showSearchButton"],[1,"col-2"],[1,"col-6"]],template:function(t,n){1&t&&(p.Rb(0,"div"),p.Rb(1,"div",0),p.Rb(2,"div",1),p.Rb(3,"div",0),p.Nb(4,"app-student-lookup",2),p.Qb(),p.Qb(),p.Rb(5,"div",3),p.Rb(6,"div",0),p.Nb(7,"app-student-photo"),p.Qb(),p.Qb(),p.Rb(8,"div",4),p.Rb(9,"div",0),p.Nb(10,"app-student-header-details"),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&t&&(p.zb(4),p.jc("showSearchButton",!1))},directives:[R.a,C.a,k.a],encapsulation:2}),Object(g.a)([Object(v.d)(y.a.getSelectedStudentGUId),Object(g.b)("design:type",m.a)],a.prototype,"currentGUId$",void 0),a),w=r("WYmY"),S=r("tk/3"),I=r("JIr8"),O=r("jEWH"),j=r("HS3z"),Q=((s=function(t){e(o,t);var n=i(o);function o(t,e){var i;return c(this,o),(i=n.call(this,t,e)).http=t,i.webApiPrefixService=e,i}return u(o,[{key:"getConfidentialReportRPTsViaGUID",value:function(t,n){var e=this.WebApiPrefix+"confidential_reports/"+t+"/"+n;return console.log("sending AuthHttp get request for ConfidentailReports with "+e),this.http.get(e).pipe(Object(I.a)(this.handleError))}},{key:"getLatestConfidentialReportRPTs",value:function(){var t=this.WebApiPrefix+"confidential_reports";return console.log("sending AuthHttp get request for ConfidentailReports with "+t),this.http.get(t).pipe(Object(I.a)(this.handleError))}},{key:"addConfidentialReport",value:function(t){var n=this.WebApiPrefix+"confidential_reports",e=JSON.stringify({confidentialReport:t}),o=JSON.parse(e);e=JSON.stringify(o.confidentialReport);var i=(new S.c).set("Content-Type","application/json");return this.http.post(n,e,{headers:i})}}]),o}(O.a)).\u0275fac=function(t){return new(t||s)(p.Zb(S.a),p.Zb(j.a))},s.\u0275prov=p.Ib({token:s,factory:s.\u0275fac,providedIn:"root"}),s),z=r("Dn1Q"),P=r("T8Dl"),G=r("JlJ6"),_=r("MEvh"),N=r("aNuS");function D(t,n){if(1&t&&(p.Rb(0,"div",2),p.Rb(1,"div",3),p.Rb(2,"div",4),p.Rb(3,"span",5),p.Bc(4),p.Qb(),p.Rb(5,"span",5),p.Bc(6),p.fc(7,"truncateDate"),p.Qb(),p.Rb(8,"span",5),p.Bc(9),p.fc(10,"alphaMonth"),p.Qb(),p.Rb(11,"span",5),p.Bc(12," \xa0Emoji: "),p.Nb(13,"img",6),p.Qb(),p.Qb(),p.Rb(14,"div",4),p.Rb(15,"div",7),p.Bc(16," \xa0Narrative (English): "),p.Qb(),p.Nb(17,"div",8),p.fc(18,"unsafeHtml"),p.Qb(),p.Rb(19,"div",4),p.Rb(20,"div",7),p.Bc(21," \xa0Narrative (Spanish): "),p.Qb(),p.Nb(22,"div",8),p.fc(23,"unsafeHtml"),p.Qb(),p.Qb(),p.Qb()),2&t){var e=n.$implicit,o=p.ec();p.zb(4),p.Dc(" \xa0Reported By: ",e.adminName," "),p.zb(2),p.Dc(" \xa0Report Date: ",p.gc(7,7,e.reportDateTime)," "),p.zb(3),p.Ec(" \xa0Last Contact Month: ",p.gc(10,9,e.lastContactMonth),"-",e.lastContactYear," "),p.zb(4),p.kc("src",o.smileys[e.emoji+1],p.uc),p.zb(4),p.jc("innerHTML",p.gc(18,11,e.narrative_English),p.tc),p.zb(5),p.jc("innerHTML",p.gc(23,13,e.narrative_Spanish),p.tc)}}var B,x=((B=function(){function t(n){c(this,t),this.router=n,console.log("###confidentialReportsList constructor"),this.smileys=w.a.smileys}return u(t,[{key:"monthlyReportEdit",value:function(t){console.log("in monthly-reports2: monthlyReportEdit, ready to navigate"),null!==this.studentId&&this.router.navigateByUrl("/confidential/monthly-reports-edit/"+t)}}]),t}()).\u0275fac=function(t){return new(t||B)(p.Mb(f.b))},B.\u0275cmp=p.Gb({type:B,selectors:[["app-confidential-reports-list"]],inputs:{confidentialReports:"confidentialReports"},decls:2,vars:1,consts:[[1,"card-body","bg-white"],["class","row","style","border-bottom: 3px solid #ccc; margin-top: 2px;",4,"ngFor","ngForOf"],[1,"row",2,"border-bottom","3px solid #ccc","margin-top","2px"],[1,"col-md-12"],[1,"row"],[1,"padded"],["width","28px",3,"src"],[1,"col-md2","padded"],[1,"col-md-10",3,"innerHTML"]],template:function(t,n){1&t&&(p.Rb(0,"div",0),p.zc(1,D,24,15,"div",1),p.Qb()),2&t&&(p.zb(1),p.jc("ngForOf",n.confidentialReports))},directives:[l.k],pipes:[G.a,_.a,N.a],encapsulation:2}),B);function U(t,n){if(1&t&&(p.Rb(0,"div",4),p.Bc(1),p.Qb()),2&t){var e=p.ec();p.zb(1),p.Dc(" ",e.errorMessage,"\n")}}function A(t,n){1&t&&(p.Rb(0,"div",5),p.Nb(1,"app-loading-container"),p.Qb())}function E(t,n){if(1&t){var e=p.Sb();p.Rb(0,"div",7),p.Rb(1,"div",8),p.Rb(2,"span"),p.Bc(3,"Past Reports / Informes Anteriores -- "),p.Qb(),p.Rb(4,"span"),p.Bc(5),p.Qb(),p.Rb(6,"span"),p.Rb(7,"span"),p.Rb(8,"span",9),p.cc("click",(function(){return p.sc(e),p.ec(2).confidentialReportAdd()})),p.Bc(9," Add New Report /A\xf1adir un Nuevo Informe "),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Nb(10,"app-confidential-reports-list",10),p.Qb()}if(2&t){var o=p.ec(2);p.zb(5),p.Cc(o.studentName),p.zb(5),p.jc("confidentialReports",o.confidentialReports)}}function F(t,n){if(1&t&&(p.Rb(0,"div"),p.zc(1,E,11,2,"div",6),p.Qb()),2&t){var e=p.ec();p.zb(1),p.jc("ngIf",!e.errorMessage)}}var q,L=((q=function(){function n(t,e,o,i){c(this,n),this.currRoute=t,this.router=e,this.confidentialReportData=o,this.session=i,console.log("confidentialReports constructor"),this.smileys=w.a.smileys}return u(n,[{key:"ngOnInit",value:function(){console.log("confidentialReports ngOnInit"),this.adminId=this.session.getUserId(),console.log("mentorId "+this.adminId),this.haveCurrentReport=!1,this.subscribeForStudentGUIds2()}},{key:"subscribeForStudentGUIds2",value:function(){var t=this;this.subscription=this.currentGUId$.subscribe((function(n){t.studentGUId=n,console.log("************NGXS: header new StudentGUId received"+t.studentGUId),t.studentGUId&&"0000"!==t.studentGUId&&t.fetchData()}))}},{key:"fetchData",value:function(){var n=this;console.log("cr fetchData"),this.isLoading=!0,this.isLoading=!0,this.haveCurrentReport=!1,this.confidentialReportData.getConfidentialReportRPTsViaGUID(0,this.studentGUId).subscribe((function(t){n.confidentialReports=t}),(function(t){return console.error("Subscribe error: "+t)}),(function(){console.log("done: "),n.isLoading=!1;var e,o=t(n.confidentialReports);try{for(o.s();!(e=o.n()).done;)2086===e.value.reviewedStatusId&&(n.haveCurrentReport=!0)}catch(i){o.e(i)}finally{o.f()}}))}},{key:"confidentialReportAdd",value:function(){if(console.log("in confidential-reports: monthlyReportAdd, ready to navigate"),console.log(this.studentGUId),null!==this.studentGUId){var t=["/confidential/confidential-reports-add",{adminId:this.adminId,studentGUId:this.studentGUId}];console.log("navigating to "+JSON.stringify(t)),this.router.navigate(t)}}},{key:"confidentialReportEdit",value:function(t){console.log("in confidential-reports: confidentialReportEdit, ready to navigate"),null!==this.studentGUId&&this.router.navigateByUrl("/confidential/confidential-reports-edit/"+t)}}]),n}()).\u0275fac=function(t){return new(t||q)(p.Mb(f.a),p.Mb(f.b),p.Mb(Q),p.Mb(z.a))},q.\u0275cmp=p.Gb({type:q,selectors:[["app-confidential-reports"]],decls:6,vars:4,consts:[["class","alert alert-danger",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"text-center","col-md-4","col-md-offset-4"],["class","card bg-primary",4,"ngIf"],[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],["data-cy","add-confidential",1,"btn","btn-default","active",2,"margin","4px 0 0 10px",3,"click"],[3,"confidentialReports"]],template:function(t,n){1&t&&(p.zc(0,U,2,1,"div",0),p.Rb(1,"h4"),p.Bc(2,"\xa0"),p.Qb(),p.Rb(3,"div",1),p.zc(4,A,2,0,"div",2),p.zc(5,F,2,1,"div",3),p.Qb()),2&t&&(p.jc("ngIf",n.errorMessage),p.zb(3),p.jc("ngSwitch",n.isLoading),p.zb(1),p.jc("ngSwitchCase",!0),p.zb(1),p.jc("ngSwitchCase",!1))},directives:[l.l,l.m,l.n,P.a,x],encapsulation:2}),Object(g.a)([Object(v.d)(y.a.getSelectedStudentGUId),Object(g.b)("design:type",m.a)],q.prototype,"currentGUId$",void 0),q);function T(t,n){1&t&&p.Nb(0,"app-confidential-reports")}var H,V=((H=function(){function t(n){c(this,t),this.route=n}return u(t,[{key:"ngOnInit",value:function(){this.processRouteParams()}},{key:"processRouteParams",value:function(){console.log(" getting studentGUId from queryParams");var t=this.route.snapshot.queryParams.studentGUId;t&&console.log("ConfHome: have studentGUId from route "+t)}}]),t}()).\u0275fac=function(t){return new(t||H)(p.Mb(f.a))},H.\u0275cmp=p.Gb({type:H,selectors:[["app-confidential-home"]],decls:8,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"col"],["title","Confidential Reports"],["ngbTabContent",""]],template:function(t,n){1&t&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Nb(2,"app-student-header-confidential"),p.Qb(),p.Qb(),p.Rb(3,"div",0),p.Rb(4,"div",2),p.Rb(5,"ngb-tabset"),p.Rb(6,"ngb-tab",3),p.zc(7,T,1,0,"ng-template",4),p.Qb(),p.Qb(),p.Qb(),p.Qb())},directives:[M,d.d,d.b,d.c,L],encapsulation:2}),H),Y=r("3Pt+"),J=function t(n,e,o,i,r,a,s,u,l,d){c(this,t),this.confidentialReportId=n,this.adminId=e,this.reportDateTime=o,this.lastContactYear=i,this.lastContactMonth=r,this.emoji=a,this.narrative_English=s,this.narrative_Spanish=u,this.reviewedStatusId=l,this.studentGUId=d},X=r("EoNH");function Z(t,n){if(1&t&&(p.Rb(0,"div",33),p.Bc(1),p.Qb()),2&t){var e=p.ec();p.zb(1),p.Cc(e.errorMessage)}}function $(t,n){if(1&t&&(p.Rb(0,"div",34),p.Bc(1),p.Qb()),2&t){var e=p.ec();p.zb(1),p.Cc(e.successMessage)}}function K(t,n){if(1&t&&(p.Rb(0,"option",14),p.Bc(1),p.Qb()),2&t){var e=n.$implicit;p.jc("value",e.value),p.zb(1),p.Cc(e.label)}}function W(t,n){1&t&&(p.Rb(0,"span",35),p.Bc(1," Select Year"),p.Qb())}function tt(t,n){if(1&t&&(p.Rb(0,"option",14),p.Bc(1),p.Qb()),2&t){var e=n.$implicit;p.jc("value",e.value),p.zb(1),p.Cc(e.label)}}function nt(t,n){1&t&&(p.Rb(0,"span",35),p.Bc(1,"Please select an emoji."),p.Qb())}var et,ot=function(t){return{red:t}},it=function(){return{required:"An entry is required, even if it is just N/A. Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"Entry cannot exceed 4000 characters in length.<br />La entrada no puede exceder 4000 caracteres del largo."}},rt=((et=function(){function t(n,e,o,i,r){c(this,t),this.currRoute=n,this.router=e,this.confidentialReportData=o,this._fb=i,this.session=r,this.confidentialReport=new J,this.isSubmitted=!1,this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.contactYears=w.a.years,this.contactMonths=w.a.months,console.log("Hi from MonthlyReportsAddComponent"),this.myForm=i.group({lastContactYearSelector:["2020"],lastContactMonthSelector:["0",{validators:[this.validateMonth]}],inputEmoji:[666,{validators:[Y.u.required,this.validateEmojis]}],narrative_English:["",Y.u.required],narrative_Spanish:[""],confidentialReportId:[this.reportIdCtl]}),this.lastYearCtl=this.myForm.controls.lastContactYearSelector,this.lastMonthCtl=this.myForm.controls.lastContactMonthSelector,this.emojiCtl=this.myForm.controls.inputEmoji,this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.confidentialReportId,this.confidentialReport.reviewedStatusId=2087,this.errorMessage="",this.successMessage="",this.isSubmitted=!1}return u(t,[{key:"ngOnInit",value:function(){var t=this;console.log("monthlyReportsAdd ngOnInit"),this.confidentialReport.adminId=this.currRoute.snapshot.params.adminId,this.confidentialReport.studentGUId=this.currRoute.snapshot.params.studentGUId,console.log("mentorId "+this.confidentialReport.adminId),console.log("studentGUId "+this.confidentialReport.studentGUId);var n=new Date;this.confidentialReport.reportDateTime=new Date(n.getTime()-6e4*n.getTimezoneOffset()),console.log("reportDateTime = "+this.confidentialReport.reportDateTime),this.confidentialReport.lastContactYear=2020,this.confidentialReport.lastContactMonth=0,this.myForm.valueChanges.subscribe((function(n){console.log("valueChanges fired for form with values"),console.log(JSON.stringify(n)),t.errorMessage="",t.successMessage="",t.isSubmitted=!1,t.checkFormControlsAreValid(!1)}))}},{key:"checkFormControlsAreValid",value:function(t){console.log("checking for valid form controls");var n=!0;return this.errorMessage="",this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.lastMonthCtl.invalid&&(this.lastMonthCtl.dirty||t)&&(this.monthValidationMessage="Please select the correct month. Por favor selecciona el mes corecto",n=!1),this.emojiCtl.invalid&&(this.emojiCtl.dirty||t)&&(this.emojiValidationMessage="An emoji must be selected. Se debe seleccionar un Emoji",n=!1),this.narrative_EnglishCtl.invalid&&(this.narrative_EnglishCtl.dirty||t)&&(this.narrativeValidationMessage="Description must be filled in. Descripcione debe rellenarse",n=!1),window.scrollTo(0,0),n}},{key:"onSubmit",value:function(){var t=this;console.log("Hi from mentor Report2 Submit"),this.isSubmitted||this.checkFormControlsAreValid(!0)&&(this.isSubmitted=!0,console.log("###before submitting update model with form control values"),this.confidentialReport.lastContactYear=this.lastYearCtl.value,this.confidentialReport.lastContactMonth=this.lastMonthCtl.value,this.confidentialReport.emoji=this.emojiCtl.value,this.confidentialReport.narrative_English=this.narrative_EnglishCtl.value,this.confidentialReport.narrative_Spanish=this.narrative_SpanishCtl.value,this.confidentialReportData.addConfidentialReport(this.confidentialReport).subscribe((function(n){console.log(t.successMessage=n),t.isLoading=!1,console.log("after call to addConfidentialReport; navigating to /confidential"),t.router.navigateByUrl("/confidential")}),(function(n){t.errorMessage=n,t.isLoading=!1})),this.isSubmitted=!0)}},{key:"onCancel",value:function(){console.log("navigating to /confidential"),this.router.navigateByUrl("/confidential")}},{key:"validateMonth",value:function(t){return console.log("validateMonth has input "+t.value),""+t.value=="0"?(console.log("validateMonth failed"),{validateMonth:!0}):null}},{key:"validateEmojis",value:function(t){return 666===t.value?(console.log("validate emoji failed"),{validateEmojis:!0}):null}},{key:"hasChanges",value:function(){return console.log("hasChanges has submitted "+this.isSubmitted),console.log("hasChanges has form dirty "+this.myForm.dirty),this.myForm.dirty&&!this.isSubmitted}}]),t}()).\u0275fac=function(t){return new(t||et)(p.Mb(f.a),p.Mb(f.b),p.Mb(Q),p.Mb(Y.d),p.Mb(z.a))},et.\u0275cmp=p.Gb({type:et,selectors:[["ng-component"]],decls:71,vars:20,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],[1,"controls"],["for","lastContactYearSelector"],["formControlName","lastContactYearSelector"],[3,"value",4,"ngFor","ngForOf"],["class","red",4,"ngIf"],["formControlName","lastContactMonthSelector"],[3,"value"],[3,"ngClass"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","1",3,"checked"],["src","/assets/images/celebrate.jpg","width","32px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","0",3,"checked"],["src","/assets/images/thumbsUp.jpg","width","30px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","-1",3,"checked"],["src","/assets/images/needsAttention.jpg","width","30px"],["hidden","",1,"controls"],["for","confidentialReportId"],["id","confidentialReportId","formControlName","confidentialReportId","type","text",1,"form-control","input-sm"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm"],["success",""],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],["type","submit",1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"red"]],template:function(t,n){1&t&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Bc(2),p.Qb(),p.Rb(3,"div",2),p.zc(4,Z,2,1,"div",3),p.zc(5,$,2,1,"div",4),p.Rb(6,"form",5),p.cc("ngSubmit",(function(){return n.onSubmit()})),p.Rb(7,"fieldset",6),p.Rb(8,"div",7),p.Rb(9,"div",8),p.Rb(10,"label",9),p.Bc(11," Year/Month you Last Communicated with Student"),p.Nb(12,"br"),p.Bc(13,"A\xf1o/Mes la \xfaltima vez que se comunic\xf3 con el estudiante\xa0"),p.Qb(),p.Rb(14,"select",10),p.zc(15,K,2,2,"option",11),p.Qb(),p.zc(16,W,2,0,"span",12),p.Rb(17,"select",13),p.Rb(18,"option",14),p.Bc(19,"Select Month"),p.Qb(),p.zc(20,tt,2,2,"option",11),p.Qb(),p.Rb(21,"span",15),p.Bc(22),p.Qb(),p.Qb(),p.Qb(),p.Rb(23,"div",7),p.Rb(24,"div",8),p.Rb(25,"span"),p.Bc(26," Student Emoji: (How are things going overall with the student?)"),p.Nb(27,"br"),p.Bc(28,"Emoji de Estudiante: (c\xf3mo van las cosas en general con el estudiante?)"),p.Qb(),p.Rb(29,"label"),p.Bc(30,"\xa0\xa0\xa0\xa0 "),p.Nb(31,"input",16),p.Nb(32,"img",17),p.Bc(33," Celebrar "),p.Qb(),p.Rb(34,"label"),p.Bc(35,"\xa0\xa0\xa0\xa0 "),p.Nb(36,"input",18),p.Nb(37,"img",19),p.Bc(38," Todo Bien "),p.Qb(),p.Rb(39,"label"),p.Bc(40,"\xa0\xa0\xa0\xa0 "),p.Nb(41,"input",20),p.Nb(42,"img",21),p.Bc(43," Problemas "),p.zc(44,nt,2,0,"span",12),p.Qb(),p.Qb(),p.Qb(),p.Rb(45,"div",22),p.Rb(46,"label",23),p.Bc(47,"Id"),p.Qb(),p.Rb(48,"textarea",24),p.Bc(49,"          "),p.Qb(),p.Qb(),p.Rb(50,"div",8),p.Rb(51,"label",25),p.Bc(52,"Describe positive events or special challenges in the student's life during the past month"),p.Nb(53,"br"),p.Bc(54,"Describa logros y eventos positivos o obst\xe1culos en la vida del estudiante"),p.Qb(),p.Rb(55,"textarea",26,27),p.Bc(57,"          "),p.Qb(),p.Nb(58,"app-display-errors",28),p.Qb(),p.Rb(59,"div",29),p.Rb(60,"span"),p.Rb(61,"button",30),p.cc("click",(function(){return n.onSubmit()})),p.Bc(62," Submit "),p.Qb(),p.Qb(),p.Bc(63,"\xa0 "),p.Rb(64,"span"),p.Rb(65,"button",31),p.cc("click",(function(){return n.onCancel()})),p.Bc(66," Cancel "),p.Qb(),p.Rb(67,"div",32),p.Bc(68,"Year, Month, Emoji and description must be filled in before saving."),p.Nb(69,"br"),p.Bc(70,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Qb()),2&t&&(p.zb(2),p.Dc(" Confidential Report for ",n.studentName," "),p.zb(2),p.jc("ngIf",n.errorMessage),p.zb(1),p.jc("ngIf",n.successMessage),p.zb(1),p.jc("formGroup",n.myForm),p.zb(1),p.jc("disabled",n.isSubmitted),p.zb(8),p.jc("ngForOf",n.contactYears),p.zb(1),p.jc("ngIf",!n.lastYearCtl.valid&&n.lastYearCtl.touched),p.zb(2),p.jc("value",0),p.zb(2),p.jc("ngForOf",n.contactMonths),p.zb(1),p.jc("ngClass",p.nc(17,ot,n.monthValidationMessage)),p.zb(1),p.Cc(n.monthValidationMessage),p.zb(9),p.jc("checked",1==n.emojiCtl.value),p.zb(5),p.jc("checked",0==n.emojiCtl.value),p.zb(5),p.jc("checked",-1==n.emojiCtl.value),p.zb(3),p.jc("ngIf",n.emojiCtl.hasError("required")),p.zb(14),p.jc("errors",p.mc(19,it)),p.zb(9),p.jc("hidden",n.myForm.valid))},directives:[l.l,Y.w,Y.n,Y.f,Y.t,Y.m,Y.e,l.k,Y.p,Y.v,l.j,Y.q,Y.b,X.a],encapsulation:2}),et);function at(t,n){if(1&t&&(p.Rb(0,"span",8),p.Bc(1),p.Qb()),2&t){var e=p.ec();p.zb(1),p.Cc(e.errorMessage)}}function ct(t,n){if(1&t&&(p.Rb(0,"span",9),p.Bc(1),p.Qb()),2&t){var e=p.ec();p.zb(1),p.Cc(e.successMessage)}}function st(t,n){1&t&&(p.Rb(0,"div",10),p.Nb(1,"app-loading-container"),p.Qb())}function ut(t,n){if(1&t){var e=p.Sb();p.Rb(0,"div",12),p.Rb(1,"div",13),p.Rb(2,"div",14),p.Bc(3," \xa0 "),p.Rb(4,"span",15),p.cc("click",(function(){p.sc(e);var t=n.$implicit;return p.ec(2).gotoStudent(t.studentGUId,t.studentName)})),p.Bc(5),p.Qb(),p.Rb(6,"span",16),p.Bc(7),p.Qb(),p.Qb(),p.Rb(8,"div",17),p.Rb(9,"span",16),p.Bc(10),p.Qb(),p.Qb(),p.Rb(11,"div",17),p.Rb(12,"span",16),p.Bc(13),p.fc(14,"truncateDate"),p.Qb(),p.Rb(15,"span",16),p.Bc(16),p.fc(17,"alphaMonth"),p.Qb(),p.Rb(18,"span",16),p.Bc(19," \xa0Emoji: "),p.Nb(20,"img",18),p.Qb(),p.Qb(),p.Rb(21,"div",19),p.Rb(22,"div",20),p.Bc(23," \xa0Description (English) "),p.Qb(),p.Nb(24,"div",21),p.fc(25,"unsafeHtml"),p.Qb(),p.Rb(26,"div",19),p.Rb(27,"div",20),p.Bc(28," \xa0Description (Spanish) "),p.Qb(),p.Nb(29,"div",21),p.fc(30,"unsafeHtml"),p.Qb(),p.Qb(),p.Qb()}if(2&t){var o=n.$implicit,i=p.ec(2);p.zb(2),p.kc("id",o.confidentialReportId),p.zb(3),p.Dc(" [Student: ",o.studentName," ] "),p.zb(2),p.Dc(" [Sponsor: ",o.sponsorGroupName," ] "),p.zb(3),p.Dc(" \xa0Reviewed Status: ",o.reviewedStatus," "),p.zb(3),p.Dc(" \xa0Submitted Date: ",p.gc(14,12,o.reportDateTime)," "),p.zb(3),p.Ec(" \xa0Last Contact Month: ",p.gc(17,14,o.lastContactMonth),"-",o.lastContactYear," "),p.zb(4),p.kc("src",i.smileys[o.emoji+1],p.uc),p.zb(1),p.jc("hidden",!i.displayOriginalFields),p.zb(3),p.jc("innerHTML",p.gc(25,16,o.narrative_English),p.tc),p.zb(2),p.jc("hidden",!i.displayOriginalFields),p.zb(3),p.jc("innerHTML",p.gc(30,18,o.narrative_Spanish),p.tc)}}function lt(t,n){if(1&t&&(p.Rb(0,"div"),p.zc(1,ut,31,20,"div",11),p.Qb()),2&t){var e=p.ec();p.zb(1),p.jc("ngForOf",e.confidentialReports)}}var dt,bt,ft,ht,pt,gt=((dt=function(){function t(n,e,o,i){c(this,t),this.router=n,this.session=e,this.confidntialReportData=o,this.route=i,this.displayOriginalFields=!0,this.years=w.a.years,this.months=w.a.months,this.smileys=w.a.smileys}return u(t,[{key:"ngOnInit",value:function(){console.log("onInit"),this.processRouteParams(),this.fetchFilteredData()}},{key:"processRouteParams",value:function(){}},{key:"fetchFilteredData",value:function(){var t=this;this.isLoading=!0,console.log("in fetchData for LatedConfidentialReports"),this.confidntialReportData.getLatestConfidentialReportRPTs().subscribe((function(n){t.confidentialReports=n,console.log("mentorReportByMonth has")}),(function(t){return console.error("Subscribe error: "+t)}),(function(){console.log("data loaded now set timeout for scroll"),setTimeout((function(){t.scrollIntoView()}),0),t.isLoading=!1}))}},{key:"scrollIntoView",value:function(){if(console.log("in scrollIntoView"),this.route.snapshot.queryParams.id){console.log(this.route.snapshot.queryParams.id);var t="#"+this.route.snapshot.queryParams.id;console.log("id param = "+this.route.snapshot.queryParams.id);var n=document.querySelector(t);n&&(console.log("querySelector returns element "+n),n.scrollIntoView(!0))}}},{key:"gotoStudent",value:function(t,n){console.log("setting studentName to "+n);var e=["admins/students/student",{guid:t}];console.log("navigating to "+e),this.router.navigate(e)}},{key:"getHighlightColor",value:function(t){return 2106===t?"green-row":2105===t?"red-row":""}},{key:"addDays",value:function(t,n){var e=new Date(t);return e.setDate(e.getDate()+n),e}}]),t}()).\u0275fac=function(t){return new(t||dt)(p.Mb(f.b),p.Mb(z.a),p.Mb(Q),p.Mb(f.a))},dt.\u0275cmp=p.Gb({type:dt,selectors:[["ng-component"]],decls:11,vars:5,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["class","row","style","border-bottom: 3px solid #ccc; margin-top: 2px;",4,"ngFor","ngForOf"],[1,"row",2,"border-bottom","3px solid #ccc","margin-top","2px"],[1,"col-md-12"],[1,"row",3,"id"],[1,"padded","link",3,"click"],[1,"padded"],[1,"row"],["width","24px",3,"src"],[1,"row",3,"hidden"],[1,"col-md2","padded"],[1,"col-md-10",3,"innerHTML"]],template:function(t,n){1&t&&(p.Rb(0,"div",0),p.Rb(1,"div",1),p.Bc(2," Confidential Report Review "),p.Qb(),p.Rb(3,"div",2),p.zc(4,at,2,1,"span",3),p.zc(5,ct,2,1,"span",4),p.Nb(6,"div"),p.Rb(7,"div",5),p.zc(8,st,2,0,"div",6),p.zc(9,lt,2,1,"div",7),p.Qb(),p.Qb(),p.Qb(),p.Bc(10," l")),2&t&&(p.zb(4),p.jc("ngIf",n.errorMessage),p.zb(1),p.jc("ngIf",n.successMessage),p.zb(2),p.jc("ngSwitch",n.isLoading),p.zb(1),p.jc("ngSwitchCase",!0),p.zb(1),p.jc("ngSwitchCase",!1))},directives:[l.l,l.m,l.n,P.a,l.k],pipes:[G.a,_.a,N.a],styles:[".green-row[_ngcontent-%COMP%]{background-color:#dff0d8}.red-row[_ngcontent-%COMP%]{background-color:#ffb6c1}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),dt),vt=function(){return["active"]},mt=function(){return["/confidential/tracking"]},yt=function(){return["/confidential"]},Rt=function(){return{exact:!0}},Ct=((bt=function t(){c(this,t)}).\u0275fac=function(t){return new(t||bt)},bt.\u0275cmp=p.Gb({type:bt,selectors:[["app-confidential-navbar"]],decls:5,vars:10,consts:[[3,"routerLinkActive","routerLink"],[3,"routerLinkActive","routerLink","routerLinkActiveOptions"]],template:function(t,n){1&t&&(p.Rb(0,"nav"),p.Rb(1,"a",0),p.Bc(2,"Review Status"),p.Qb(),p.Rb(3,"a",1),p.Bc(4,"Review/Edit Reports"),p.Qb(),p.Qb()),2&t&&(p.zb(1),p.jc("routerLinkActive",p.mc(5,vt))("routerLink",p.mc(6,mt)),p.zb(2),p.jc("routerLinkActive",p.mc(7,vt))("routerLink",p.mc(8,yt))("routerLinkActiveOptions",p.mc(9,Rt)))},directives:[f.d,f.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:38px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#add8e6}"]}),bt),kt=[{path:"",component:(ft=function t(){c(this,t),console.log("ConfidentialComponent")},ft.\u0275fac=function(t){return new(t||ft)},ft.\u0275cmp=p.Gb({type:ft,selectors:[["ng-component"]],decls:2,vars:0,template:function(t,n){1&t&&(p.Nb(0,"app-confidential-navbar"),p.Nb(1,"router-outlet"))},directives:[Ct,f.f],encapsulation:2}),ft),canActivate:[h.a],children:[{path:"",pathMatch:"full",component:V},{path:"confidential-reports-add",component:rt},{path:"tracking",component:gt}]}],Mt=((pt=function t(){c(this,t)}).\u0275mod=p.Kb({type:pt}),pt.\u0275inj=p.Jb({factory:function(t){return new(t||pt)},imports:[[f.e.forChild(kt)],f.e]}),pt),wt=((ht=function t(){c(this,t)}).\u0275mod=p.Kb({type:ht}),ht.\u0275inj=p.Jb({factory:function(t){return new(t||ht)},imports:[[l.c,b.a,Mt,d.a]]}),ht)},"7iOT":function(t,n,e){"use strict";e.d(n,"a",(function(){return f}));var o=e("mrSG"),i=e("AcyG"),r=e("HDdC"),a=e("dfvj"),s=e("fXoL"),l=e("HS3z"),d=e("ofXK");function b(t,n){if(1&t&&(s.Rb(0,"div"),s.Rb(1,"div",3),s.Nb(2,"img",4),s.Qb(),s.Qb()),2&t){var e=s.ec();s.zb(2),s.jc("src",e.fullPhotoPathname,s.uc)}}var f=function(){var t=function(){function t(n){c(this,t),console.log("hi from student-photo constructor"),this.clientUrl=n.getClientUrl(),this.subscribeForPhotoPathname()}return u(t,[{key:"subscribeForPhotoPathname",value:function(){var t=this;this.subscription=this.photoPathname$.subscribe((function(n){t.photoPathname=n,console.log("************NGXS: photoPathname received"+t.photoPathname),t.fullPhotoPathname=t.clientUrl+"/assets/images/StudentPhotos/"+t.photoPathname}))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(s.Mb(l.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-student-photo"]],decls:3,vars:1,consts:[[1,"row"],[1,"col"],[4,"ngIf"],[2,"width","100%"],["height","160",3,"src"]],template:function(t,n){1&t&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.zc(2,b,3,1,"div",2),s.Qb(),s.Qb()),2&t&&(s.zb(2),s.jc("ngIf",n.fullPhotoPathname))},directives:[d.l],encapsulation:2}),Object(o.a)([Object(i.d)(a.a.getPhotoPathname),Object(o.b)("design:type",r.a)],t.prototype,"photoPathname$",void 0),t}()},CZ4s:function(t,n,e){"use strict";e.d(n,"a",(function(){return v}));var o=e("mrSG"),i=e("AcyG"),r=e("HDdC"),a=e("6VDH"),s=e("dfvj"),l=e("fXoL"),d=e("2vts"),b=e("ofXK"),f=e("T8Dl");function h(t,n){1&t&&l.Nb(0,"div",4)}function p(t,n){1&t&&(l.Rb(0,"div",5),l.Nb(1,"app-loading-container"),l.Qb())}function g(t,n){if(1&t&&(l.Rb(0,"div"),l.Rb(1,"div",6),l.Rb(2,"div",7),l.Rb(3,"label"),l.Bc(4,"Year Joined JA:"),l.Qb(),l.Bc(5),l.Rb(6,"label"),l.Bc(7,"Grad Year/Month:"),l.Qb(),l.Bc(8),l.Qb(),l.Qb(),l.Rb(9,"div",6),l.Rb(10,"div",7),l.Rb(11,"label"),l.Bc(12,"Major:"),l.Qb(),l.Bc(13),l.Nb(14,"br"),l.Rb(15,"label"),l.Bc(16,"University:"),l.Qb(),l.Bc(17),l.Nb(18,"br"),l.Rb(19,"label"),l.Bc(20,"Mentor Name:"),l.Qb(),l.Bc(21),l.Nb(22,"br"),l.Rb(23,"label"),l.Bc(24,"Sponsor Name:"),l.Qb(),l.Bc(25),l.Qb(),l.Qb(),l.Qb()),2&t){var e=l.ec();l.zb(5),l.Dc(" ",e.student.yearJoinedJa,"\xa0\xa0\xa0\xa0\xa0 "),l.zb(3),l.Ec(" ",e.student.gradYear," / ",e.student.gradMonth," "),l.zb(5),l.Dc(" ",e.student.major," "),l.zb(4),l.Dc(" ",e.student.universityName," "),l.zb(4),l.Dc(" ",e.student.mentorName," "),l.zb(4),l.Dc(" ",e.student.sponsorGroupName," ")}}var v=function(){var t=function(){function t(n,e,o){c(this,t),this.store=n,this.studentData=e,this.location=o,this.loadingState=0,this.bReadOnly=!0,console.log("hi from StudentHeaderDetails constructor"),this.errorMessage="",this.successMessage="",this.submitted=!1}return u(t,[{key:"ngOnInit",value:function(){this.loadingState=0,this.subscribeForStudentGUIds2()}},{key:"subscribeForStudentGUIds2",value:function(){var t=this;this.subscription=this.currentGUId$.subscribe((function(n){t.studentGUId=n,console.log("************NGXS: header details new StudentGUId received"+t.studentGUId),t.fetchData()}))}},{key:"fetchData",value:function(){var t=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&(this.loadingState=1,this.studentData.getStudentHeaderDTO(this.studentGUId).subscribe((function(n){t.student=n}),(function(n){t.errorMessage=n}),(function(){t.loadingState=2,t.store.dispatch(new a.b(t.student.photoUrl))})))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(l.Mb(i.g),l.Mb(d.a),l.Mb(b.h))},t.\u0275cmp=l.Gb({type:t,selectors:[["app-student-header-details"]],decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-center col-md-12 ",4,"ngSwitchCase"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"text-center","col-md-12"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"row"],[1,"col-12"]],template:function(t,n){1&t&&(l.Rb(0,"div",0),l.zc(1,h,1,0,"div",1),l.zc(2,p,2,0,"div",2),l.zc(3,g,26,7,"div",3),l.Qb()),2&t&&(l.jc("ngSwitch",n.loadingState),l.zb(1),l.jc("ngSwitchCase",0),l.zb(1),l.jc("ngSwitchCase",1),l.zb(1),l.jc("ngSwitchCase",2))},directives:[b.m,b.n,f.a],encapsulation:2}),Object(o.a)([Object(i.d)(s.a.getSelectedStudentGUId),Object(o.b)("design:type",r.a)],t.prototype,"currentGUId$",void 0),t}()},EoNH:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("fXoL"),i=e("3Pt+"),r=function(){var t=function(){function t(n){c(this,t),this.myFormGroupDirective=n}return u(t,[{key:"currentError",get:function(){var t=this;this.myFormGroup=this.myFormGroupDirective.control;var n=this.myFormGroup.controls[this.control],e=[];return!n||!n.touched&&n.pristine||(e=Object.keys(this.errors).map((function(e){return n.hasError(e)?t.errors[e]:null})).filter((function(t){return!!t}))),e.pop()}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Mb(i.f,1))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-display-errors"]],inputs:{errors:"errors",control:"control"},decls:2,vars:1,template:function(t,n){1&t&&(o.Rb(0,"div"),o.Bc(1),o.Qb()),2&t&&(o.zb(1),o.Cc(n.currentError))},encapsulation:2}),t}()},JlJ6:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("fXoL"),i=function(){var t=function(){function t(){c(this,t)}return u(t,[{key:"transform",value:function(t){var n=null!=t?t.indexOf("T"):0;return t="1900-01-01T00:00:00"===t?"":t,n>0?t.substring(0,n):""}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=o.Lb({name:"truncateDate",type:t,pure:!0}),t}()},Kj3r:function(t,n,o){"use strict";o.d(n,"a",(function(){return s}));var r=o("7o/Q"),a=o("D0XW");function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a;return function(e){return e.lift(new l(t,n))}}var l=function(){function t(n,e){c(this,t),this.dueTime=n,this.scheduler=e}return u(t,[{key:"call",value:function(t,n){return n.subscribe(new d(t,this.dueTime,this.scheduler))}}]),t}(),d=function(t){e(o,t);var n=i(o);function o(t,e,i){var r;return c(this,o),(r=n.call(this,t)).dueTime=e,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return u(o,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(b,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),o}(r.a);function b(t){t.debouncedNext()}},"LA/q":function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return l})),e.d(n,"c",(function(){return d})),e.d(n,"d",(function(){return b})),e.d(n,"g",(function(){return f})),e.d(n,"f",(function(){return h})),e.d(n,"e",(function(){return p}));var o=e("dLGn"),i=e("Dn1Q"),r=e("fXoL"),a=e("tyNb"),s=function(){var t=function(){function t(n,e,o){c(this,t),this.auth=n,this.router=e,this.session=o}return u(t,[{key:"canActivate",value:function(t,n){return console.log("canActivate for Admin AuthGuard with url"+n.url),this.auth.loggedIn?(console.log("Can Activate Admin 1"),this.session.isAdmin()?(console.log("Authenticated and Can Activate Admin"),!0):(console.log("Authenticated but unauthorized for Admin"),!1)):(console.log("Not authenticated -- Can't Activate Admin"),this.router.navigate([""]),this.auth.login(n.url),!1)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(r.Zb(o.a),r.Zb(a.b),r.Zb(i.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),l=function(){var t=function(){function t(n,e,o){c(this,t),this.auth=n,this.router=e,this.session=o}return u(t,[{key:"canActivate",value:function(t,n){return console.log("canActivate for /mentors"),this.auth.loggedIn?!!this.session.isMentor()&&(console.log("Authenticated and Can Activate Mentor"),!0):(console.log("link to Mentor but not authenticated -- save /mentors retry url:"),this.router.navigate([""]),this.auth.login(n.url),!1)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(r.Zb(o.a),r.Zb(a.b),r.Zb(i.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),d=function(){var t=function(){function t(n,e,o){c(this,t),this.auth=n,this.router=e,this.session=o}return u(t,[{key:"canActivate",value:function(t,n){return console.log("canActivate for /sponsors"),this.auth.loggedIn?!!this.session.isSponsor()&&(console.log("Authenticated and Can Activate Sponsor"),!0):(console.log("link to Sponsor but not authenticated -- save /sponsors retry url:"),this.router.navigate([""]),this.auth.login(n.url),!1)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(r.Zb(o.a),r.Zb(a.b),r.Zb(i.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),b=function(){var t=function(){function t(n,e,o){c(this,t),this.auth=n,this.router=e,this.session=o}return u(t,[{key:"canActivate",value:function(t,n){return console.log("canActivate for /students"),this.auth.loggedIn?this.session.isStudent()?(console.log("Authenticated and Can Activate Student"),!0):(console.log("Authenticated but unauthorized for Student"),!1):(console.log("link to Mentor but not authenticated -- save /students retry url:"),this.router.navigate([""]),this.auth.login(n.url),!1)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(r.Zb(o.a),r.Zb(a.b),r.Zb(i.a))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),f=function(){var t=function(){function t(){c(this,t)}return u(t,[{key:"canDeactivate",value:function(t){return!t.hasChanges()||(console.log("CanDeactivate"),window.confirm("You have unsaved changes. Click OK to leave the page without saving.\nTiene cambios no guardados. Haga clic OK para salir de la p\xe1gina sin guardar"))}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),h=function(){var t=function(){function t(){c(this,t)}return u(t,[{key:"canDeactivate",value:function(t){return t.hasChanges()?(console.log("CanDeactivate"),window.confirm("You have unsaved changes. Click OK to leave the page without saving.\nTiene cambios no guardados. Haga clic OK para salir de la p\xe1gina sin guardar")):(console.log("CanDeactivate for MRSummaryUpdates clearing unauthenticate_retry+url"),localStorage.removeItem("unauthenticated_retry_url"),!0)}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),p=function(){var t=function(){function t(){c(this,t)}return u(t,[{key:"canDeactivate",value:function(t){return t.hasChanges()?(console.log("CanDeactivate"),window.confirm("You have unsaved changes. Click OK to leave the page without saving.\nTiene cambios no guardados. Haga clic OK para salir de la p\xe1gina sin guardar")):(console.log("CanDeactivate for GradesEdit clearing unauthenticate_retry+url"),localStorage.removeItem("unauthenticated_retry_url"),!0)}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},MEvh:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("fXoL"),i=function(){var t=function(){function t(){c(this,t),this.months=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}return u(t,[{key:"transform",value:function(t){return t>""?this.months[+t]:"[NO MONTH!]"}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=o.Lb({name:"alphaMonth",type:t,pure:!0}),t}()},T8Dl:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("fXoL"),i=function(){var t=function t(){c(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-loading-container"]],decls:18,vars:0,consts:[[1,"uil-squares-css",2,"transform","scale(0.25)"]],template:function(t,n){1&t&&(o.Rb(0,"div"),o.Rb(1,"div",0),o.Rb(2,"div"),o.Nb(3,"div"),o.Qb(),o.Rb(4,"div"),o.Nb(5,"div"),o.Qb(),o.Rb(6,"div"),o.Nb(7,"div"),o.Qb(),o.Rb(8,"div"),o.Nb(9,"div"),o.Qb(),o.Rb(10,"div"),o.Nb(11,"div"),o.Qb(),o.Rb(12,"div"),o.Nb(13,"div"),o.Qb(),o.Rb(14,"div"),o.Nb(15,"div"),o.Qb(),o.Rb(16,"div"),o.Nb(17,"div"),o.Qb(),o.Qb(),o.Qb())},styles:["width[_ngcontent-%COMP%]:   100%[_ngcontent-%COMP%];\n      @-webkit-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-webkit-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-moz-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-ms-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-moz-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-webkit-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-o-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      .uil-squares-css[_ngcontent-%COMP%] {\n        background: none;\n        position: relative;\n        width: 200px;\n        height: 200px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n        position: absolute;\n        z-index: 1;\n        width: 40px;\n        height: 40px;\n        background-color: #047ab3;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        -ms-animation: uilsquare 1s linear infinite;\n        -moz-animation: uilsquare 1s linear infinite;\n        -webkit-animation: uilsquare 1s linear infinite;\n        -o-animation: uilsquare 1s linear infinite;\n        animation: uilsquare 1s linear infinite;\n        width: 40px;\n        height: 40px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(1) {\n        top: 30px;\n        left: 30px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(1)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0s;\n        -moz-animation-delay: 0s;\n        -webkit-animation-delay: 0s;\n        -o-animation-delay: 0s;\n        animation-delay: 0s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(2) {\n        top: 30px;\n        left: 80px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(2)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.125s;\n        -moz-animation-delay: 0.125s;\n        -webkit-animation-delay: 0.125s;\n        -o-animation-delay: 0.125s;\n        animation-delay: 0.125s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(3) {\n        top: 30px;\n        left: 130px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(3)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.25s;\n        -moz-animation-delay: 0.25s;\n        -webkit-animation-delay: 0.25s;\n        -o-animation-delay: 0.25s;\n        animation-delay: 0.25s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(4) {\n        top: 80px;\n        left: 130px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(4)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.375s;\n        -moz-animation-delay: 0.375s;\n        -webkit-animation-delay: 0.375s;\n        -o-animation-delay: 0.375s;\n        animation-delay: 0.375s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(5) {\n        top: 130px;\n        left: 130px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(5)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.5s;\n        -moz-animation-delay: 0.5s;\n        -webkit-animation-delay: 0.5s;\n        -o-animation-delay: 0.5s;\n        animation-delay: 0.5s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(6) {\n        top: 130px;\n        left: 80px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(6)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.625s;\n        -moz-animation-delay: 0.625s;\n        -webkit-animation-delay: 0.625s;\n        -o-animation-delay: 0.625s;\n        animation-delay: 0.625s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(7) {\n        top: 130px;\n        left: 30px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(7)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.75s;\n        -moz-animation-delay: 0.75s;\n        -webkit-animation-delay: 0.75s;\n        -o-animation-delay: 0.75s;\n        animation-delay: 0.75s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(8) {\n        top: 80px;\n        left: 30px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(8)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.875s;\n        -moz-animation-delay: 0.875s;\n        -webkit-animation-delay: 0.875s;\n        -o-animation-delay: 0.875s;\n        animation-delay: 0.875s;\n      }"]}),t}()},aNuS:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("fXoL"),i=e("jhN1"),r=function(){var t=function(){function t(n){c(this,t),this.sanitizer=n}return u(t,[{key:"transform",value:function(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}]),t}();return t.\u0275fac=function(n){return new(n||t)(o.Mb(i.b))},t.\u0275pipe=o.Lb({name:"unsafeHtml",type:t,pure:!1}),t}()},qGxU:function(t,n,e){"use strict";e.d(n,"a",(function(){return S}));var o=e("mrSG"),i=e("AcyG"),r=e("LRne"),a=e("HDdC"),s=e("vkgz"),l=e("Kj3r"),d=e("/uUt"),b=e("eIep"),f=e("JIr8"),h=e("6VDH"),p=e("dfvj"),g=e("fXoL"),v=e("2vts"),m=e("tyNb"),y=e("ofXK"),R=e("3Pt+"),C=e("1kSV");function k(t,n){1&t&&(g.Rb(0,"span"),g.Bc(1," Or: "),g.Qb())}function M(t,n){if(1&t){var e=g.Sb();g.Rb(0,"span",10),g.cc("click",(function(){return g.sc(e),g.ec().gotoStudentList()})),g.Bc(1,"Browse Students "),g.Qb()}}var w=function(){var t=function(){function t(n){c(this,t),this.studentData=n}return u(t,[{key:"search",value:function(t){return""===t?Object(r.a)([]):this.studentData.getCurrentStudentMiniDTOs(t).pipe(Object(s.a)((function(t){return console.log(t)})))}}]),t}();return t.\u0275fac=function(n){return new(n||t)(g.Zb(v.a))},t.\u0275prov=g.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),S=function(){var t=function(){function t(n,e,o,i){var a=this;c(this,t),this._service=n,this.router=e,this.studentData=o,this.store=i,this.searching=!1,this.searchFailed=!1,this.currentGUId="0000",this.search=function(t){return t.pipe(Object(l.a)(500),Object(d.a)(),Object(s.a)((function(){return a.searching=!0})),Object(b.a)((function(t){return a._service.search(t).pipe(Object(s.a)((function(){return a.searchFailed=!1})),Object(s.a)((function(t){return console.log(t[0].studentName)})),Object(f.a)((function(){return a.searchFailed=!0,Object(r.a)([])})))})),Object(s.a)((function(){return a.searching=!1})))},this.formatter=function(t){return t.studentName+" <"+t.email+">"},console.log("name-lookup constructor!")}return u(t,[{key:"ngOnInit",value:function(){this.subscribeForStudentGUIds2()}},{key:"onSelect",value:function(t){console.log(t.item.studentId),console.log(t.item.studentGUId),this.currentGUId=t.item.studentGUId,this.store.dispatch(new h.c(this.currentGUId)),this.email=t.item.email,this.studentName=t.item.studentName}},{key:"onFocus",value:function(){var t=document.getElementById("search-string");t.focus(),t.select()}},{key:"onInput",value:function(){0===document.getElementById("search-string").value.length&&this.resetStudentData()}},{key:"onClear",value:function(){console.log("onClear");var t=document.getElementById("search-string");t.focus(),t.value="",this.resetStudentData()}},{key:"subscribeForStudentGUIds2",value:function(){var t=this;this.subscription=this.currentGUId$.subscribe((function(n){t.studentGUId=n,console.log("************NGXS: header new StudentGUId received"+t.studentGUId),t.studentGUId&&"0000"!==t.studentGUId&&(t.currentGUId=t.studentGUId,t.fetchData())}))}},{key:"resetStudentData",value:function(){console.log("studentLookup reset"),this.currentGUId="0000",this.store.dispatch(new h.c(this.studentGUId))}},{key:"fetchData",value:function(){var t=this;this.studentData.getCurrentStudentMiniDTO(this.currentGUId).subscribe((function(n){t.studentMiniDTO=n}),(function(t){return console.error("Subscribe error: "+t)}),(function(){t.email=t.studentMiniDTO.email,t.studentName=t.studentMiniDTO.studentName}))}},{key:"gotoStudentList",value:function(){this.router.navigateByUrl("admins/students/studentList")}},{key:"gotoStudent",value:function(){if("0000"!==this.currentGUId){var t=["admins/students/student",{guid:this.currentGUId}];console.log("navigating to "+t),this.router.navigate(t)}}}]),t}();return t.\u0275fac=function(n){return new(n||t)(g.Mb(w),g.Mb(m.b),g.Mb(v.a),g.Mb(i.g))},t.\u0275cmp=g.Gb({type:t,selectors:[["app-student-lookup"]],inputs:{showSearchButton:"showSearchButton"},decls:17,vars:13,consts:[["for","search-string"],[2,"margin-bottom","2px","margin-left","3rem"],[4,"ngIf"],["style","margin-bottom: 2px; margin-left: 1rem;","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between"],["id","search-string","type","text","placeholder","Last Name or First Name or Email",1,"form-control",3,"editable","ngModel","ngbTypeahead","inputFormatter","resultFormatter","ngModelChange","input","focus","selectItem"],[1,"btn",2,"margin-left","-25px",3,"click"],[1,"row"],[1,"link",2,"margin-top",".4rem","margin-left","1rem",3,"hidden","click"],[2,"margin-left","1rem","margin-top",".2rem",3,"hidden"],[1,"btn","btn-sm","btn-primary",2,"margin-bottom","2px","margin-left","1rem",3,"click"]],template:function(t,n){1&t&&(g.Rb(0,"label",0),g.Bc(1,"Search for Student:"),g.Qb(),g.Rb(2,"span",1),g.zc(3,k,2,0,"span",2),g.zc(4,M,2,0,"span",3),g.Qb(),g.Rb(5,"div",4),g.Rb(6,"input",5),g.cc("ngModelChange",(function(t){return n.studentMiniDTO=t}))("input",(function(){return n.onInput()}))("focus",(function(){return n.onFocus()}))("selectItem",(function(t){return n.onSelect(t)})),g.Qb(),g.Rb(7,"span"),g.Rb(8,"button",6),g.cc("click",(function(){return n.onClear()})),g.Rb(9,"b"),g.Bc(10,"[\u2716]"),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Rb(11,"div",7),g.Rb(12,"span",8),g.cc("click",(function(){return n.gotoStudent()})),g.Bc(13),g.Qb(),g.Nb(14,"br"),g.Rb(15,"span",9),g.Bc(16),g.Qb(),g.Qb()),2&t&&(g.zb(3),g.jc("ngIf",n.showSearchButton),g.zb(1),g.jc("ngIf",n.showSearchButton),g.zb(2),g.Eb("is-invalid",n.searchFailed),g.jc("editable",!1)("ngModel",n.studentMiniDTO)("ngbTypeahead",n.search)("inputFormatter",n.formatter)("resultFormatter",n.formatter),g.zb(6),g.jc("hidden","0000"==n.currentGUId),g.zb(1),g.Dc("Student Profile: ",n.studentName," "),g.zb(2),g.jc("hidden","0000"==n.currentGUId),g.zb(1),g.Dc(" Email: ",n.email," "))},directives:[y.l,R.b,C.e,R.m,R.o],styles:[".form-control[_ngcontent-%COMP%] { width: 300px; display: inline; }"]}),Object(o.a)([Object(i.d)(p.a.getSelectedStudentGUId),Object(o.b)("design:type",a.a)],t.prototype,"currentGUId$",void 0),t}()}}])}();