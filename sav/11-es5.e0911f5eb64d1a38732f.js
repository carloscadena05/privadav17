!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,s=r(e);if(t){var i=r(this).constructor;o=Reflect.construct(s,arguments,i)}else o=s.apply(this,arguments);return n(this,o)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{JHQQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("fXoL"),s=n("oIRo"),c=n("ofXK"),a=["app-sortable-column",""];function u(e,t){1&e&&r.Nb(0,"span",2)}function d(e,t){1&e&&r.Nb(0,"span",3)}var l=["*"],b=function(){var e=function(){function e(t){o(this,e),this.columnSortService=t,this.onSortColumn=new r.o,this.sortCriteria={sortColumn:"",sortDirection:""}}return i(e,[{key:"headerClicked",value:function(){console.log("app-sortable-column has headerClick"),this.sortDirection="asc"===this.sortDirection?"desc":"asc",console.log("direction = "+this.sortDirection),console.log("emitting sortColumnClick with columnName = "+this.columnName),this.sortCriteria.sortColumn=this.columnName,this.sortCriteria.sortDirection=this.sortDirection,this.onSortColumn.emit(this.sortCriteria),this.columnSortService.columnSorted(this.sortCriteria)}},{key:"ngOnInit",value:function(){var e=this;this.columnSortedSubscription=this.columnSortService.columnSorted$.subscribe((function(t){console.log("have column sort subscribption event"),e.columnName!==t.sortColumn&&(e.sortDirection="")}))}},{key:"ngOnDestroy",value:function(){this.columnSortedSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Mb(s.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["","app-sortable-column",""]],hostBindings:function(e,t){1&e&&r.cc("click",(function(){return t.headerClicked()}))},inputs:{columnName:["app-sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"]},outputs:{onSortColumn:"onSortColumn"},attrs:a,ngContentSelectors:l,decls:3,vars:2,consts:[["class","up-arrow",4,"ngIf"],["class","down-arrow",4,"ngIf"],[1,"up-arrow"],[1,"down-arrow"]],template:function(e,t){1&e&&(r.ic(),r.zc(0,u,1,0,"span",0),r.zc(1,d,1,0,"span",1),r.hc(2)),2&e&&(r.jc("ngIf","asc"===t.sortDirection),r.zb(1),r.jc("ngIf","desc"===t.sortDirection))},directives:[c.l],styles:[".up-arrow[_ngcontent-%COMP%]:after {\n        content: '^';\n      }\n\n      .down-arrow[_ngcontent-%COMP%]:after {\n        content: 'v';\n      }"]}),e}()},JlJ6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("fXoL"),s=function(){var e=function(){function e(){o(this,e)}return i(e,[{key:"transform",value:function(e){var t=null!=e?e.indexOf("T"):0;return e="1900-01-01T00:00:00"===e?"":e,t>0?e.substring(0,t):""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Lb({name:"truncateDate",type:e,pure:!0}),e}()},SC10:function(n,r,s){"use strict";s.d(r,"a",(function(){return b}));var c=s("vkgz"),a=s("UXun"),u=s("JIr8"),d=s("jEWH"),l=s("fXoL"),b=function(){var n=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(s,n);var r=t(s);function s(){var e;return o(this,s),(e=r.apply(this,arguments)).mentorsUrl=e.WebApiPrefix+"lookup/mentors",e.adminsUrl=e.WebApiPrefix+"lookup/admins",e.sponsorGroupsUrl=e.WebApiPrefix+"lookup/sponsorgroups",e.sponsorGroups$=e.http.get(e.sponsorGroupsUrl).pipe(Object(c.a)((function(e){return console.log("sponsorGroups ",JSON.stringify(e[0]))})),Object(a.a)(1),Object(u.a)(e.handleError)),e.universitiesUrl=e.WebApiPrefix+"lookup/universities",e.universities$=e.http.get(e.universitiesUrl).pipe(Object(c.a)((function(e){return console.log("universities ",JSON.stringify(e[0]))})),Object(a.a)(1),Object(u.a)(e.handleError)),e.universityGradeMonthsUrl=e.WebApiPrefix+"lookup/universities/grade-months",e.universityGradeMonths$=e.http.get(e.universityGradeMonthsUrl).pipe(Object(c.a)((function(e){return console.log("universitiy Grade Months ",JSON.stringify(e[0]))})),Object(a.a)(1),Object(u.a)(e.handleError)),e.prepasUrl=e.WebApiPrefix+"lookup/prepas",e.prepas$=e.http.get(e.prepasUrl).pipe(Object(c.a)((function(e){return console.log("prepas ",JSON.stringify(e[0]))})),Object(a.a)(1),Object(u.a)(e.handleError)),e}return i(s,[{key:"getMentors$",value:function(){return this.http.get(this.mentorsUrl).pipe(Object(c.a)((function(e){return console.log("mentorNames ",JSON.stringify(e[0]))})),Object(a.a)(1),Object(u.a)(this.handleError))}},{key:"getAdmins$",value:function(){return this.http.get(this.adminsUrl).pipe(Object(c.a)((function(e){return console.log("adminNames ",JSON.stringify(e[0]))})),Object(a.a)(1),Object(u.a)(this.handleError))}}]),s}(d.a);return n.\u0275fac=function(e){return g(e||n)},n.\u0275prov=l.Ib({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),g=l.Tb(b)},k25x:function(e,t,n){"use strict";n.r(t),n.d(t,"BecasModule",(function(){return xe}));var r,s,c=n("ofXK"),a=n("1kSV"),u=n("UBNF"),d=n("tyNb"),l=n("LA/q"),b=n("fXoL"),g=function(){return["active"]},f=function(){return["/becas"]},p=function(){return{exact:!0}},h=function(){return["/becas/grades-edit"]},m=function(){return["/becas/self-reports/tracking"]},v=((s=function e(){o(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=b.Gb({type:s,selectors:[["app-becas-navbar"]],decls:7,vars:14,consts:[[3,"routerLinkActive","routerLink","routerLinkActiveOptions"],[3,"routerLinkActive","routerLink"]],template:function(e,t){1&e&&(b.Rb(0,"nav"),b.Rb(1,"a",0),b.Bc(2,"Grades List"),b.Qb(),b.Rb(3,"a",1),b.Bc(4,"Review/Edit Grades"),b.Qb(),b.Rb(5,"a",1),b.Bc(6,"StudentRpts"),b.Qb(),b.Qb()),2&e&&(b.zb(1),b.jc("routerLinkActive",b.mc(7,g))("routerLink",b.mc(8,f))("routerLinkActiveOptions",b.mc(9,p)),b.zb(2),b.jc("routerLinkActive",b.mc(10,g))("routerLink",b.mc(11,h)),b.zb(2),b.jc("routerLinkActive",b.mc(12,g))("routerLink",b.mc(13,m)))},directives:[d.d,d.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:48px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{padding:5px;background-color:#add8e6;color:#05579e}"]}),s),y=((r=function e(){o(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=b.Gb({type:r,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,t){1&e&&(b.Nb(0,"app-becas-navbar"),b.Nb(1,"router-outlet"))},directives:[v,d.f],encapsulation:2}),r),R=n("mrSG"),S=n("3Pt+"),w=n("AcyG"),C=n("EY2u"),k=n("HDdC"),Q=n("JIr8"),D=n("JlJ6"),O=n("dfvj"),P=n("a3qr"),I=n("SC10"),G=n("Dn1Q"),M=n("oIRo"),z=n("T8Dl");function j(e,t){if(1&e&&(b.Rb(0,"span",8),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.errorMessage)}}function N(e,t){if(1&e&&(b.Rb(0,"span",9),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.successMessage)}}function B(e,t){1&e&&(b.Rb(0,"div",10),b.Nb(1,"app-loading-container"),b.Qb())}function x(e,t){if(1&e&&(b.Rb(0,"option",27),b.Bc(1),b.Qb()),2&e){var n=t.$implicit;b.jc("value",n.value),b.zb(1),b.Cc(n.label)}}function E(e,t){if(1&e){var n=b.Sb();b.Rb(0,"div"),b.Rb(1,"select",25),b.cc("change",(function(e){b.sc(n);var t=b.ec().index;return b.ec(2).setConfirmedBy(t,e.target.value)})),b.zc(2,x,2,2,"option",26),b.Qb(),b.Qb()}if(2&e){var r=t.ngIf;b.zb(2),b.jc("ngForOf",r)}}function F(e,t){1&e&&(b.Rb(0,"td"),b.Bc(1," +-+ "),b.Qb())}function _(e,t){1&e&&b.Nb(0,"td")}function U(e,t){if(1&e){var n=b.Sb();b.Rb(0,"tr",16),b.Pb(1,17),b.Rb(2,"td"),b.Nb(3,"input",18),b.Qb(),b.Rb(4,"td"),b.Nb(5,"input",19),b.Qb(),b.Rb(6,"td"),b.Rb(7,"input",20),b.cc("dblclick",(function(e){b.sc(n);var r=t.index;return b.ec(2).setReceivedDate(r,e.target.value)})),b.Qb(),b.Qb(),b.Rb(8,"td"),b.Nb(9,"input",21),b.Qb(),b.zc(10,E,3,1,"div",22),b.fc(11,"async"),b.Rb(12,"td"),b.Nb(13,"input",23),b.Qb(),b.Rb(14,"td"),b.Nb(15,"input",24),b.Qb(),b.zc(16,F,2,0,"td",22),b.zc(17,_,1,0,"td",22),b.Ob(),b.Qb()}if(2&e){var r=t.index,o=b.ec(2);b.zb(1),b.jc("formGroupName",r),b.zb(9),b.jc("ngIf",b.gc(11,4,o.admins$)),b.zb(6),b.jc("ngIf",o.isRowDirty(r)),b.zb(1),b.jc("ngIf",!o.isRowDirty(r))}}function A(e,t){if(1&e){var n=b.Sb();b.Rb(0,"div"),b.Rb(1,"form",11),b.Rb(2,"p"),b.Rb(3,"button",12),b.cc("click",(function(){return b.sc(n),b.ec().saveAllChangedEntries()})),b.Bc(4,"Save"),b.Qb(),b.Rb(5,"button",13),b.cc("click",(function(){return b.sc(n),b.ec().location.back()})),b.Bc(6,"Back"),b.Qb(),b.Qb(),b.Rb(7,"table",14),b.Rb(8,"thead"),b.Rb(9,"tr"),b.Rb(10,"th"),b.Bc(11,"Period End"),b.Qb(),b.Rb(12,"th"),b.Bc(13,"Grades Due"),b.Qb(),b.Rb(14,"th"),b.Bc(15,"Grades Turned In"),b.Qb(),b.Rb(16,"th"),b.Bc(17,"GPA"),b.Qb(),b.Rb(18,"th"),b.Bc(19,"Confirmed By"),b.Qb(),b.Rb(20,"th"),b.Bc(21,"Confirmed Date"),b.Qb(),b.Rb(22,"th"),b.Bc(23,"Exception"),b.Qb(),b.Nb(24,"th"),b.Qb(),b.Qb(),b.Rb(25,"tbody"),b.zc(26,U,18,6,"tr",15),b.Qb(),b.Qb(),b.Qb(),b.Qb()}if(2&e){var r=b.ec();b.zb(1),b.jc("formGroup",r.myForm),b.zb(2),b.jc("disabled",r.myForm.pristine),b.zb(23),b.jc("ngForOf",r.studentGradesData)}}var T,Y,L=((T=function(){function e(t,n,r,s,i,c,a){var u=this;o(this,e),this.becaData=t,this.router=n,this.miscData=r,this.session=s,this.columnSorter=i,this._fb=c,this.location=a,this.admins$=this.miscData.getAdmins$().pipe(Object(Q.a)((function(e){return u.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),C.a}))),console.log("Hi from gradesEdit Ctrl controller function"),this.isLoading=!1,this.myForm=this._fb.group({studentGUId:["0000"],gradeEntryRows:this._fb.array([])})}return i(e,[{key:"gradeEntryRows",value:function(){return this.myForm.get("gradeEntryRows")}},{key:"createEmptyGradeEntryRow",value:function(){return console.log("CreateEmptyGradeEntry create empty row to be populated"),this._fb.group({gradesGivenDate:{value:"",disabled:!0},gradesDueDate:{value:"",disabled:!0},gradesTurnedInDate:[{value:""},S.u.compose([S.u.pattern(/^\d{4}\-\d{1,2}\-\d{1,2}$/),S.u.maxLength(10)])],gradePointAvg:[{value:""},S.u.pattern(/^\d{1,2}\.\d{1,1}$/)],exception:[""],confirmedDate:{value:"",disabled:!0},confirmedById:[""]})}},{key:"updateGradeEntryRow",value:function(e,t){return console.log("updateGradeEntryRow update existing row with actual data"),console.log(JSON.stringify(t)),e.patchValue({gradesGivenDate:(new D.a).transform(""+t.gradesGivenDate),gradesDueDate:(new D.a).transform(""+t.gradesDueDate),gradesTurnedInDate:(new D.a).transform(""+t.gradesTurnedInDate),gradePointAvg:this.toFixedValue(t.gradePointAvg),exception:t.exception,confirmedById:t.confirmedById,confirmedDate:(new D.a).transform(""+t.confirmedDate)}),e.markAsPristine(),e}},{key:"addGradeEntryRow",value:function(e){var t=this.createEmptyGradeEntryRow();this.updateGradeEntryRow(t,e),console.log("addGradeEntry: push new populated row intoFormArray"),this.gradeEntryRows().push(t)}},{key:"ngOnInit",value:function(){console.log("gradesEdit ngOnInit"),this.subscribeForStudentGUIds2(),this.subscribeForStudentNames()}},{key:"subscribeForStudentNames",value:function(){var e=this;this.subscription=this.currentName$.subscribe((function(t){e.studentName=t,console.log("************NGXS: grades edit new StudentName received"+e.studentName)}))}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: grades edit new StudentGUId received"+e.studentGUId),e.studentGUId&&"0000"!==e.studentGUId&&e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&(this.isLoading=!0,this.becaData.getStudentGrades(this.studentGUId).subscribe((function(t){e.studentGradesData=t}),(function(t){e.errorMessage=t}),(function(){e.studentGradesData.forEach((function(t){e.addGradeEntryRow(t)})),console.log("data loaded now set timeout for scroll"),setTimeout((function(){e.scrollIntoView()}),0),e.isLoading=!1})))}},{key:"scrollIntoView",value:function(){var e=document.body;e&&e.scrollIntoView(!0)}},{key:"gotoStudent",value:function(e,t){console.log("setting studentName to "+t);var n=["admins/students/student",{guid:e}];console.log("navigating to "+n),this.router.navigate(n)}},{key:"saveAllChangedEntries",value:function(){console.log("studentGradesData length is "+this.studentGradesData.length);for(var e=0;e<this.studentGradesData.length;++e)console.log("saveEntry "+e),this.saveEntry(e);this.myForm.markAsPristine()}},{key:"resetAllChangedEntries",value:function(){console.log("studentGradesData length is "+this.studentGradesData.length);for(var e=0;e<this.studentGradesData.length;++e)console.log("saveEntry "+e),this.resetEntry(e);this.myForm.markAsPristine()}},{key:"retrieveFormValuesForRow",value:function(e){console.log("retrieveFormValues for row"+JSON.stringify(this.gradeEntryRows().value[e])),this.studentGradesData[e]=Object.assign(Object.assign({},this.studentGradesData[e]),this.gradeEntryRows().value[e])}},{key:"isRowDirty",value:function(e){return this.gradeEntryRows().controls[e].dirty}},{key:"saveEntry",value:function(e){var t=this;return console.log("saveEntry for "+e),this.isLoading=!0,this.errorMessage="",console.log("row dirty value is "+this.gradeEntryRows().controls[e].dirty),this.gradeEntryRows().controls[e].dirty&&(this.gradeEntryRows().controls[e].get("confirmedDate").enable(),this.retrieveFormValuesForRow(e),this.becaData.updateStudentGrades(this.studentGradesData[e]).subscribe((function(n){console.log("subscribe result in updateGradeRowData"),console.log(JSON.stringify(n)),window.setTimeout((function(){t.successMessage="Changes were saved successfully."}),0),t.gradeEntryRows().controls[e].markAsPristine(),t.gradeEntryRows().controls[e].get("confirmedDate").disable(),t.isLoading=!1,window.scrollTo(0,0),window.setTimeout((function(){t.successMessage=""}),3e3)}),(function(){t.errorMessage="Please check Date Format, must be YYYY-MM-DD",t.isLoading=!1}))),!1}},{key:"resetEntry",value:function(e){return console.log("resetEntry for "+e),this.gradeEntryRows().controls[e].dirty&&(this.retrieveFormValuesForRow(e),this.gradeEntryRows().controls[e].reset(),this.gradeEntryRows().controls[e].markAsPristine()),!1}},{key:"setReceivedDate",value:function(e,t){var n;console.log("setReceivedDate with curr = "+t),t>""?(n=new Date(t+" 00:00:01")).setDate(n.getDate()-1):n=new Date;var r=[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-"),o=this.gradeEntryRows().controls[e];o.patchValue({gradesTurnedInDate:r}),o.markAsDirty()}},{key:"setConfirmedBy",value:function(e,t){console.log("setConfirmedBy with adminId = "+t);var n=new Date,r=[n.getFullYear(),("0"+(n.getMonth()+1)).slice(-2),("0"+n.getDate()).slice(-2)].join("-");console.log(r);var o=this.gradeEntryRows().controls[e];o.patchValue({confirmedById:t,confirmedDate:r}),o.markAsDirty()}},{key:"toFixedValue",value:function(e){return null==e?"":e.toFixed(1)}},{key:"hasChanges",value:function(){return console.log("hasChanges has form dirty "+this.myForm.dirty),this.myForm.dirty}}]),e}()).\u0275fac=function(e){return new(e||T)(b.Mb(P.a),b.Mb(d.b),b.Mb(I.a),b.Mb(G.a),b.Mb(M.a),b.Mb(S.d),b.Mb(c.h))},T.\u0275cmp=b.Gb({type:T,selectors:[["ng-component"]],decls:12,vars:6,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[3,"formGroup"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-primary",3,"click"],[1,"table-sm","table-striped"],["formArrayName","gradeEntryRows",4,"ngFor","ngForOf"],["formArrayName","gradeEntryRows"],[3,"formGroupName"],["formControlName","gradesGivenDate","type","text","size","8",1,"form-control","form-control-sm"],["formControlName","gradesDueDate","type","text","size","8",1,"form-control","form-control-sm"],["formControlName","gradesTurnedInDate","placeholder","yyyy-mm-dd","type","text","size","8",1,"form-control","form-control-sm",3,"dblclick"],["formControlName","gradePointAvg","type","text","size","4",1,"form-control","form-control-sm"],[4,"ngIf"],["formControlName","confirmedDate","placeholder","yyyy-mm-dd","type","text","size","8",1,"form-control","form-control-sm"],["formControlName","exception","type","text",1,"form-control","form-control-sm"],["id","adminId","formControlName","confirmedById",1,"form-control","form-control-sm",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"span"),b.Bc(3),b.Qb(),b.Bc(4,"\xa0\xa0\xa0\xa0\xa0 "),b.Qb(),b.Rb(5,"div",2),b.zc(6,j,2,1,"span",3),b.zc(7,N,2,1,"span",4),b.Rb(8,"div"),b.Rb(9,"div",5),b.zc(10,B,2,0,"div",6),b.zc(11,A,27,3,"div",7),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.zb(3),b.Dc("Edit Grade Status for ",t.studentName,""),b.zb(3),b.jc("ngIf",t.errorMessage),b.zb(1),b.jc("ngIf",t.successMessage),b.zb(2),b.jc("ngSwitch",t.isLoading),b.zb(1),b.jc("ngSwitchCase",!0),b.zb(1),b.jc("ngSwitchCase",!1))},directives:[c.l,c.m,c.n,z.a,S.w,S.n,S.f,c.k,S.c,S.g,S.b,S.m,S.e,S.t,S.p,S.v],pipes:[c.b],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}"]}),Object(R.a)([Object(w.d)(O.a.getSelectedStudentGUId),Object(R.b)("design:type",k.a)],T.prototype,"currentGUId$",void 0),Object(R.a)([Object(w.d)(O.a.getSelectedStudentName),Object(R.b)("design:type",k.a)],T.prototype,"currentName$",void 0),T),$=n("6VDH"),V=n("Jw/E"),q=n("WYmY"),J=n("JHQQ"),X=((Y=function(){function e(){o(this,e)}return i(e,[{key:"transform",value:function(e){return e>""?e:""}}]),e}()).\u0275fac=function(e){return new(e||Y)},Y.\u0275pipe=b.Lb({name:"emptyStatus",type:Y,pure:!0}),Y);function H(e,t){if(1&e&&(b.Rb(0,"span",8),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.errorMessage)}}function W(e,t){if(1&e&&(b.Rb(0,"span",9),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.successMessage)}}function K(e,t){1&e&&(b.Rb(0,"div",10),b.Nb(1,"app-loading-container"),b.Qb())}function Z(e,t){if(1&e){var n=b.Sb();b.Rb(0,"tr"),b.Rb(1,"td"),b.Bc(2),b.Qb(),b.Rb(3,"td",23),b.cc("click",(function(){b.sc(n);var e=t.$implicit;return b.ec(2).gotoStudent(e.studentGUId,e.studentName)})),b.Bc(4),b.Qb(),b.Rb(5,"td"),b.Bc(6),b.Qb(),b.Rb(7,"td"),b.Bc(8),b.Qb(),b.Rb(9,"td"),b.Bc(10),b.Qb(),b.Rb(11,"td"),b.Bc(12),b.Qb(),b.Rb(13,"td"),b.Bc(14),b.fc(15,"truncateDate"),b.Qb(),b.Rb(16,"td"),b.Bc(17),b.fc(18,"truncateDate"),b.Qb(),b.Rb(19,"td"),b.Bc(20),b.fc(21,"truncateDate"),b.Qb(),b.Rb(22,"td"),b.Bc(23),b.Qb(),b.Rb(24,"td"),b.Bc(25),b.Qb(),b.Rb(26,"td"),b.Bc(27),b.fc(28,"emptyStatus"),b.Qb(),b.Qb()}if(2&e){var r=t.$implicit,o=t.index;b.zb(2),b.Dc(" ",o+1," "),b.zb(2),b.Dc(" ",r.studentName," "),b.zb(2),b.Dc(" ",r.gradesTurnedInStatus," "),b.zb(2),b.Dc(" ",r.gradePointAvgStatus," "),b.zb(2),b.Dc(" ",r.univ," "),b.zb(2),b.Dc(" ",r.gradeMonths," "),b.zb(2),b.Dc(" ",b.gc(15,12,r.gradesGivenDate)," "),b.zb(3),b.Dc(" ",b.gc(18,14,r.gradesDueDate)," "),b.zb(3),b.Dc(" ",b.gc(21,16,r.gradesTurnedInDate)," "),b.zb(3),b.Dc(" ",r.gradePointAvg," "),b.zb(2),b.Dc(" ",r.becaApproved," "),b.zb(2),b.Dc(" ",b.gc(28,18,r.exception)," ")}}function ee(e,t){if(1&e){var n=b.Sb();b.Rb(0,"div"),b.Rb(1,"table",11),b.Rb(2,"thead"),b.Rb(3,"tr"),b.Nb(4,"th"),b.Rb(5,"th",12),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(6," Student "),b.Qb(),b.Rb(7,"th",13),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(8,"Turned-In Status"),b.Qb(),b.Rb(9,"th",14),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(10,"GPA Status"),b.Qb(),b.Rb(11,"th",15),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(12,"Univ"),b.Qb(),b.Rb(13,"th",16),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(14,"Grade Months"),b.Qb(),b.Rb(15,"th",17),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(16,"Grades Given By"),b.Qb(),b.Rb(17,"th",18),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(18,"Grades Due"),b.Qb(),b.Rb(19,"th",19),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(20,"Grades Turned In"),b.Qb(),b.Rb(21,"th",20),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(22,"GPA"),b.Qb(),b.Rb(23,"th",21),b.cc("onSortColumn",(function(e){return b.sc(n),b.ec().onSortColumn(e)})),b.Bc(24,"Exception"),b.Qb(),b.Qb(),b.Qb(),b.Rb(25,"tbody"),b.zc(26,Z,29,20,"tr",22),b.Qb(),b.Qb(),b.Qb()}if(2&e){var r=b.ec();b.zb(26),b.jc("ngForOf",r.gradesGivenEntryDTOs)}}var te,ne=((te=function(){function e(t,n,r,s,i){o(this,e),this.becaData=t,this.router=n,this.store=r,this.session=s,this.columnSorter=i,this.years=q.a.years,this.months=q.a.months,this.selectedYear="2020",this.selectedMonth="4",this.isLoading=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this;console.log("ngOnInit"),this.testNameVisibility$.subscribe((function(t){e.displayTestNames=t,e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.isLoading=!0,this.becaData.getGradesListEntryDTOs().subscribe((function(t){e.gradesGivenEntryDTOs=t.filter((function(t){return e.displayTestNames?t:e.displayTestNames||"_Test, _Student"===t.studentName?void 0:t}))}),(function(t){e.errorMessage=t}),(function(){console.log(e.gradesGivenEntryDTOs[0]),console.log("data loaded now set timeout for scroll"),setTimeout((function(){e.scrollIntoView()}),0),e.isLoading=!1}))}},{key:"scrollIntoView",value:function(){var e=document.body;e&&e.scrollIntoView(!0)}},{key:"getNumericStatus",value:function(e){return e.numericGradeRptStatus=0,"red"===e.gradeRptStatus?e.numericGradeRptStatus=1:"yellow"===e.gradeRptStatus?e.numericGradeRptStatus=2:"green"===e.gradeRptStatus&&(e.numericGradeRptStatus=3),e.numericGPAStatus=0,"red"===e.gpaStatus?e.numericGPAStatus=1:"yellow"===e.gpaStatus?e.numericGPAStatus=2:"green"===e.gpaStatus&&(e.numericGPAStatus=3),e}},{key:"setSelectedYear",value:function(e){this.selectedYear=e,this.fetchFilteredData()}},{key:"setSelectedMonth",value:function(e){this.selectedMonth=e,this.fetchFilteredData()}},{key:"gotoStudent",value:function(e,t){console.log("setting studentName to "+t),this.store.dispatch(new $.d({studentGUId:e,studentName:t}));var n=["becas/grades-edit"];console.log("navigating to "+n),this.router.navigate(n)}},{key:"onSortColumn",value:function(e){var t=this;return console.log("parent received sortColumnCLick event with "+e.sortColumn),this.gradesGivenEntryDTOs.sort((function(n,r){return t.columnSorter.compareValues(n,r,e)}))}},{key:"onSorted",value:function(e){console.log("sorted event received"),console.log(e)}}]),e}()).\u0275fac=function(e){return new(e||te)(b.Mb(P.a),b.Mb(d.b),b.Mb(w.g),b.Mb(G.a),b.Mb(M.a))},te.\u0275cmp=b.Gb({type:te,selectors:[["ng-component"]],decls:12,vars:5,consts:[[1,"card","bg-primary"],["data-cy","status-this-month",1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"table-sm","table-striped"],["app-sortable-column","studentName","sort-direction","asc",3,"onSortColumn"],["app-sortable-column","gradesTurnedInStatus",3,"onSortColumn"],["app-sortable-column","gradePointAvgStatus",3,"onSortColumn"],["app-sortable-column","univ",3,"onSortColumn"],["app-sortable-column","gradeMonths",3,"onSortColumn"],["app-sortable-column","gradesGivenDate",3,"onSortColumn"],["app-sortable-column","gradesDueDate",3,"onSortColumn"],["app-sortable-column","gradesTurnedInDate",3,"onSortColumn"],["app-sortable-column","gradePointAvg",3,"onSortColumn"],["app-sortable-column","exception",3,"onSortColumn"],[4,"ngFor","ngForOf"],[1,"link",3,"click"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"span"),b.Bc(3,"Grade Status for This Month"),b.Qb(),b.Bc(4,"\xa0\xa0\xa0\xa0\xa0 "),b.Qb(),b.Rb(5,"div",2),b.zc(6,H,2,1,"span",3),b.zc(7,W,2,1,"span",4),b.Rb(8,"div",5),b.zc(9,K,2,0,"div",6),b.zc(10,ee,27,1,"div",7),b.Qb(),b.Qb(),b.Bc(11," l\n"),b.Qb()),2&e&&(b.zb(6),b.jc("ngIf",t.errorMessage),b.zb(1),b.jc("ngIf",t.successMessage),b.zb(1),b.jc("ngSwitch",t.isLoading),b.zb(1),b.jc("ngSwitchCase",!0),b.zb(1),b.jc("ngSwitchCase",!1))},directives:[c.l,c.m,c.n,z.a,J.a,c.k],pipes:[D.a,X],styles:[""]}),Object(R.a)([Object(w.d)(V.a.getTestNamesVisibility),Object(R.b)("design:type",k.a)],te.prototype,"testNameVisibility$",void 0),te),re=n("WUoG"),oe=n("Wqqb");function se(e,t){if(1&e&&(b.Rb(0,"span",7),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.errorMessage)}}function ie(e,t){if(1&e&&(b.Rb(0,"span",8),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.successMessage)}}function ce(e,t){1&e&&(b.Rb(0,"div",9),b.Nb(1,"app-loading-container"),b.Qb())}function ae(e,t){if(1&e){var n=b.Sb();b.Rb(0,"div",11),b.Rb(1,"div",12),b.Rb(2,"div",13),b.Rb(3,"button",14),b.cc("click",(function(){b.sc(n);var e=t.$implicit;return b.ec(2).updateSelfReportTracking(e.studentSelfReportId,e.studentGUId,e.studentName)})),b.Bc(4," Review "),b.Qb(),b.Bc(5," \xa0 "),b.Rb(6,"span",15),b.cc("click",(function(){b.sc(n);var e=t.$implicit;return b.ec(2).gotoStudent(e.studentGUId,e.studentName)})),b.Bc(7),b.Qb(),b.Rb(8,"span",16),b.Bc(9),b.Qb(),b.Rb(10,"div"),b.Rb(11,"span",17),b.Bc(12),b.fc(13,"truncateDate"),b.Qb(),b.Rb(14,"div",18),b.Rb(15,"div",19),b.Bc(16,"Description (Spanish)"),b.Qb(),b.Nb(17,"div",20),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()}if(2&e){var r=t.$implicit,o=b.ec(2);b.zb(2),b.kc("id","id"+r.studentSelfReportId),b.zb(5),b.Dc(" [Student: ",r.studentName," ] "),b.zb(2),b.Dc(" [Sponsor: ",r.sponsorGroupName," ] "),b.zb(3),b.Dc(" Submitted Date: ",b.gc(13,6,r.reportDateTime)," "),b.zb(2),b.jc("hidden",!o.displayOriginalFields),b.zb(3),b.jc("innerHTML",r.narrative_Spanish,b.tc)}}function ue(e,t){if(1&e&&(b.Rb(0,"div"),b.zc(1,ae,18,8,"div",10),b.Qb()),2&e){var n=b.ec();b.zb(1),b.jc("ngForOf",n.studentReportsByPeriod)}}var de,le=((de=function(){function e(t,n,r,s){o(this,e),this.router=t,this.store=n,this.ssrData=r,this.route=s,this.activeQRPeriods=q.a.activeQRperiods,this.ssrReviewedStatuses=q.a.reviewedStatuses,this.displayOriginalFields=!0,this.selectedSRReviewedStatus="0",this.smileys=q.a.smileys}return i(e,[{key:"ngOnInit",value:function(){console.log("ssr trackingonInit"),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: quarterlyContainer new StudentGUId received"+e.studentGUId),e.studentGUId&&"0000"!==e.studentGUId&&e.fetchFilteredData()}))}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: SR new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;""!==this.selectedYearPeriod&&void 0!==this.selectedYearPeriod&&(this.isLoading=!0,console.log("in fetchData for StudentReportsByPeriod"),this.ssrData.getStudentSelfReportsByPeriod(this.selectedYearPeriod,"0",null).subscribe((function(t){e.studentReportsByPeriod=t.filter((function(t){return e.displayTestNames?t:e.displayTestNames||"_Test, _Student"===t.studentName?void 0:t})),console.log("studentReportByPeriod has"),console.log(e.studentReportsByPeriod[0])}),(function(e){return console.error("Subscribe error: "+e)}),(function(){console.log("data loaded now set timeout for scroll"),setTimeout((function(){e.scrollIntoView()}),0),e.isLoading=!1})))}},{key:"scrollIntoView",value:function(){if(console.log("in scrollIntoView"),this.route.snapshot.queryParams.id){console.log(this.route.snapshot.queryParams.id);var e="#"+this.route.snapshot.queryParams.id;console.log("id param = "+this.route.snapshot.queryParams.id);var t=document.querySelector(e);t&&(console.log("querySelector returns element "+t),t.scrollIntoView(!0))}}},{key:"setSelectedYearPeriod",value:function(e){this.store.dispatch(new re.f(e)),this.fetchFilteredData()}},{key:"gotoStudent",value:function(e,t){console.log("setting studentName to "+t);var n=["admins/students/student",{guid:e}];console.log("navigating to "+n),this.router.navigate(n)}},{key:"updateSelfReportTracking",value:function(e,t,n){console.log(n),console.log(e);var r=["/becas/self-reports-updates",{studentSelfReportId:e}];console.log("navigating to "+r),this.router.navigate(r)}},{key:"getHighlightColor",value:function(e){return 2106===e?"green-row":2105===e?"red-row":""}}]),e}()).\u0275fac=function(e){return new(e||de)(b.Mb(d.b),b.Mb(w.g),b.Mb(oe.a),b.Mb(d.a))},de.\u0275cmp=b.Gb({type:de,selectors:[["app-self-report-tracking"]],decls:8,vars:5,consts:[[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"controls"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["class","row","style","border-bottom: 3px solid #ccc; margin-top: 2px",4,"ngFor","ngForOf"],[1,"row",2,"border-bottom","3px solid #ccc","margin-top","2px"],[1,"col-md-12"],[1,"row","mx-auto",3,"id"],[1,"btn","default-btn","btn-primary","btn-sm",3,"click"],[1,"padded","link",3,"click"],[1,"padded"],[1,"padded","col-md2"],[3,"hidden"],[1,"col-md2","padded"],[1,"col-md-10",3,"innerHTML"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.zc(1,se,2,1,"span",1),b.zc(2,ie,2,1,"span",2),b.Rb(3,"div"),b.Nb(4,"div",3),b.Qb(),b.Rb(5,"div",4),b.zc(6,ce,2,0,"div",5),b.zc(7,ue,2,1,"div",6),b.Qb(),b.Qb()),2&e&&(b.zb(1),b.jc("ngIf",t.errorMessage),b.zb(1),b.jc("ngIf",t.successMessage),b.zb(3),b.jc("ngSwitch",t.isLoading),b.zb(1),b.jc("ngSwitchCase",!0),b.zb(1),b.jc("ngSwitchCase",!1))},directives:[c.l,c.m,c.n,z.a,c.k],pipes:[D.a],styles:[".green-row[_ngcontent-%COMP%]{background-color:#dff0d8}.red-row[_ngcontent-%COMP%]{background-color:#ffb6c1}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),Object(R.a)([Object(w.d)(O.a.getSelectedStudentGUId),Object(R.b)("design:type",k.a)],de.prototype,"currentGUId$",void 0),Object(R.a)([Object(w.d)(V.a.getSelectedYearPeriod),Object(R.b)("design:type",k.a)],de.prototype,"selectedYearPeriod$",void 0),Object(R.a)([Object(w.d)(V.a.getTestNamesVisibility),Object(R.b)("design:type",k.a)],de.prototype,"testNameVisibility$",void 0),de);function be(e,t){if(1&e&&(b.Rb(0,"span",7),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.errorMessage)}}function ge(e,t){if(1&e&&(b.Rb(0,"span",8),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.successMessage)}}function fe(e,t){1&e&&(b.Rb(0,"div",9),b.Nb(1,"app-loading-container"),b.Qb())}function pe(e,t){if(1&e){var n=b.Sb();b.Rb(0,"div",11),b.Rb(1,"div",12),b.Rb(2,"div",13),b.Bc(3," \xa0 "),b.Rb(4,"span",14),b.cc("click",(function(){b.sc(n);var e=t.$implicit;return b.ec(2).gotoStudent(e.studentGUId,e.studentName)})),b.Bc(5),b.Qb(),b.Rb(6,"span",15),b.Bc(7),b.Qb(),b.Qb(),b.Qb(),b.Qb()}if(2&e){var r=t.$implicit;b.zb(2),b.kc("id","id"+r.studentGUId),b.zb(3),b.Dc(" ",r.studentName," "),b.zb(2),b.Dc(" [ ",r.email," ] ")}}function he(e,t){if(1&e&&(b.Rb(0,"div"),b.zc(1,pe,8,3,"div",10),b.Qb()),2&e){var n=b.ec();b.zb(1),b.jc("ngForOf",n.studentMinis)}}var me,ve=((me=function(){function e(t,n,r,s){o(this,e),this.router=t,this.ssrData=n,this.route=r,this.store=s,this.isLoading=!1,this.selectedYearPeriod="",this.activeQRPeriods=q.a.activeQRperiods,this.reviewedStatuses=q.a.reviewedQRStatuses}return i(e,[{key:"ngOnInit",value:function(){this.subscribeForSelectedYearPeriod()}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: SSR Tracking new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.isLoading=!0,console.log("in fetchData for missingStudentReportsByPeriod"),this.ssrData.getMissingStudentSelfReportsByPeriod(this.selectedYearPeriod).subscribe((function(t){console.log("missing studentReportByPeriod has"),e.studentMinis=t,console.log(e.studentMinis)}),(function(e){return console.error("Subscribe error: "+e)}),(function(){console.log("data loaded now set timeout for scroll"),setTimeout((function(){e.scrollIntoView()}),0),e.isLoading=!1}))}},{key:"scrollIntoView",value:function(){if(console.log("in scrollIntoView"),this.route.snapshot.queryParams.id){console.log(this.route.snapshot.queryParams.id);var e="#"+this.route.snapshot.queryParams.id;console.log("id param = "+this.route.snapshot.queryParams.id);var t=document.querySelector(e);t&&(console.log("querySelector returns element "+t),t.scrollIntoView(!0))}}},{key:"gotoStudent",value:function(e,t){console.log(t);var n=["admins/students/student",{guid:e}];console.log("navigating to "+n),this.router.navigate(n)}},{key:"setSelectedYearPeriod",value:function(e){this.store.dispatch(new re.f(e))}}]),e}()).\u0275fac=function(e){return new(e||me)(b.Mb(d.b),b.Mb(oe.a),b.Mb(d.a),b.Mb(w.g))},me.\u0275cmp=b.Gb({type:me,selectors:[["app-self-report-missing"]],decls:8,vars:5,consts:[[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"controls"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["class","row","style","margin-top: 2px",4,"ngFor","ngForOf"],[1,"row",2,"margin-top","2px"],[1,"col-md-12"],[1,"row","mx-auto",3,"id"],[1,"padded","link",3,"click"],[1,"padded"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.zc(1,be,2,1,"span",1),b.zc(2,ge,2,1,"span",2),b.Rb(3,"div"),b.Nb(4,"div",3),b.Qb(),b.Rb(5,"div",4),b.zc(6,fe,2,0,"div",5),b.zc(7,he,2,1,"div",6),b.Qb(),b.Qb()),2&e&&(b.zb(1),b.jc("ngIf",t.errorMessage),b.zb(1),b.jc("ngIf",t.successMessage),b.zb(3),b.jc("ngSwitch",t.isLoading),b.zb(1),b.jc("ngSwitchCase",!0),b.zb(1),b.jc("ngSwitchCase",!1))},directives:[c.l,c.m,c.n,z.a,c.k],styles:[".green-row[_ngcontent-%COMP%]{background-color:#dff0d8}.red-row[_ngcontent-%COMP%]{background-color:#ffb6c1}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),Object(R.a)([Object(w.d)(O.a.getSelectedStudentGUId),Object(R.b)("design:type",k.a)],me.prototype,"currentGUId$",void 0),Object(R.a)([Object(w.d)(V.a.getSelectedYearPeriod),Object(R.b)("design:type",k.a)],me.prototype,"selectedYearPeriod$",void 0),me);function ye(e,t){if(1&e&&(b.Rb(0,"option",11),b.Bc(1),b.Qb()),2&e){var n=t.$implicit;b.jc("value",n.value),b.zb(1),b.Cc(n.label)}}function Re(e,t){1&e&&b.Nb(0,"app-self-report-tracking")}function Se(e,t){1&e&&b.Nb(0,"app-self-report-missing")}var we,Ce=((we=function(){function e(t,n){o(this,e),this.route=t,this.store=n,this.selectedYearPeriod="",this.activeQRPeriods=q.a.activeQRperiods,this.reviewedStatuses=q.a.reviewedQRStatuses,this.studentGUIdReceived=!1}return i(e,[{key:"ngOnInit",value:function(){this.subscribeForSelectedYearPeriod()}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: SSR Tracking new selectedYearPeriod received"+e.selectedYearPeriod)}))}},{key:"setSelectedYearPeriod",value:function(e){this.store.dispatch(new re.f(e))}}]),e}()).\u0275fac=function(e){return new(e||we)(b.Mb(d.a),b.Mb(w.g))},we.\u0275cmp=b.Gb({type:we,selectors:[["app-self-report-tracking-container"]],decls:15,vars:2,consts:[[1,"col"],[1,"card","bg-primary"],[1,"card-header","text-white"],[2,"font-size","large"],[2,"margin-left","10rem"],["name","activePeriodSelector","data-cy","period-selector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body","bg-white"],["title","Reports Received"],["ngbTabContent",""],["title","Reports Needed"],[3,"value"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"span",3),b.Bc(4," Quarterly Reports "),b.Qb(),b.Rb(5,"span",4),b.Bc(6," Report Year-Period: "),b.Rb(7,"select",5),b.cc("ngModelChange",(function(e){return t.selectedYearPeriod=e}))("change",(function(e){return t.setSelectedYearPeriod(e.target.value)})),b.zc(8,ye,2,2,"option",6),b.Qb(),b.Qb(),b.Qb(),b.Rb(9,"div",7),b.Rb(10,"ngb-tabset"),b.Rb(11,"ngb-tab",8),b.zc(12,Re,1,0,"ng-template",9),b.Qb(),b.Rb(13,"ngb-tab",10),b.zc(14,Se,1,0,"ng-template",9),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.zb(7),b.jc("ngModel",t.selectedYearPeriod),b.zb(1),b.jc("ngForOf",t.activeQRPeriods))},directives:[S.t,S.m,S.o,c.k,a.d,a.b,a.c,S.p,S.v,le,ve],encapsulation:2}),Object(R.a)([Object(w.d)(V.a.getSelectedYearPeriod),Object(R.b)("design:type",k.a)],we.prototype,"selectedYearPeriod$",void 0),we),ke=n("EoNH");function Qe(e,t){if(1&e&&(b.Rb(0,"div",8),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.errorMessage)}}function De(e,t){if(1&e&&(b.Rb(0,"div",9),b.Bc(1),b.Qb()),2&e){var n=b.ec();b.zb(1),b.Cc(n.successMessage)}}function Oe(e,t){1&e&&(b.Rb(0,"div",10),b.Nb(1,"app-loading-container"),b.Qb())}var Pe=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}},Ie=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}};function Ge(e,t){if(1&e){var n=b.Sb();b.Rb(0,"div"),b.Rb(1,"form",11),b.Nb(2,"div",12),b.Rb(3,"div"),b.Bc(4,"\xa0"),b.Qb(),b.Rb(5,"div",12),b.Rb(6,"div",13),b.Rb(7,"label",14),b.Bc(8,"Ingl\xe9s"),b.Qb(),b.Rb(9,"textarea",15,16),b.Bc(11,"              "),b.Qb(),b.Nb(12,"app-display-errors",17),b.Qb(),b.Rb(13,"div",13),b.Rb(14,"label",18),b.Bc(15,"Espa\xf1ol"),b.Qb(),b.Rb(16,"textarea",19,16),b.Bc(18,"              "),b.Qb(),b.Nb(19,"app-display-errors",20),b.Qb(),b.Qb(),b.Rb(20,"div",21),b.Rb(21,"span"),b.Rb(22,"button",22),b.cc("click",(function(){return b.sc(n),b.ec().onCancel()})),b.Bc(23,"Back"),b.Qb(),b.Qb(),b.Rb(24,"span"),b.Rb(25,"button",23),b.cc("click",(function(){return b.sc(n),b.ec().onDelete()})),b.Bc(26," Delete "),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()}if(2&e){var r=b.ec();b.zb(1),b.jc("formGroup",r.myForm),b.zb(11),b.jc("errors",b.mc(3,Pe)),b.zb(7),b.jc("errors",b.mc(4,Ie))}}var Me,ze,je,Ne=[{path:"",component:y,canActivate:[l.a],children:[{path:"",pathMatch:"full",component:ne},{path:"grades-list",component:ne},{path:"grades-edit",component:L,canDeactivate:[l.e]},{path:"self-reports/tracking",component:Ce},{path:"self-reports-updates",component:(Me=function(){function e(t,n,r,s,i){o(this,e),this.currRoute=t,this.router=n,this.selfReportData=r,this._fb=s,this.session=i,this.myForm=s.group({narrative_English:["",{validators:[S.u.required],updateOn:"blur"}],narrative_Spanish:[""]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.errorMessage="",this.successMessage="",this.submitted=!1}return i(e,[{key:"ngOnInit",value:function(){var e=this,t=this.currRoute.snapshot.params.studentSelfReportId;console.log("selfReportsUpdate ngOnInit with studentSelfReportId: "+t),this.isLoading=!0,this.selfReportData.getStudentSelfReport(t).subscribe((function(t){e.selfReport=t}),(function(e){return console.error("Subscribe error: "+e)}),(function(){console.log("done with data SStudentSelfReport>>"),console.log(e.selfReport),console.log("<<"),e.narrative_EnglishCtl.setValue(e.selfReport.narrative_English),e.narrative_SpanishCtl.setValue(e.selfReport.narrative_Spanish),e.isLoading=!1})),this.myForm.valueChanges.subscribe((function(){e.errorMessage="",e.successMessage="",e.submitted=!1})),this.subscribeForStudentNames()}},{key:"subscribeForStudentNames",value:function(){var e=this;this.subscription=this.currentName$.subscribe((function(t){e.studentName=t,console.log("************NGXS: mr ssr updates new StudentName received"+e.studentName)}))}},{key:"onCancel",value:function(){this.navigateBackInContext()}},{key:"onDelete",value:function(){var e=this;return console.log("delete with userID = "+this.session.getUserId()),1216==this.session.getUserId()||2094==this.session.getUserId()||2947==this.session.getUserId()?!0===window.confirm("Caution this action will permanently delete this mentor report! Proceed? "+this.selfReport.studentSelfReportId)&&this.selfReportData.deleteStudentSelfReport(this.selfReport.studentSelfReportId).subscribe((function(){alert("Successfully Deleted"),e.navigateBackInContext()}),(function(t){e.errorMessage=t,e.isLoading=!1})):alert("This function is only available for Nora or Chris. Please ask one of them if you need to delete a report."),!1}},{key:"navigateBackInContext",value:function(){var e="/becas/self-reports/tracking";console.log("after Submit or Cancel navigating to "+e);var t=new Date(this.selfReport.reportDateTime),n=t.getFullYear();console.log("orig reportYear "+n);var r=t.getMonth()+1;console.log("orig reportMonth "+r),t.getDate()<=2&&0==--r&&(r=12,n--),console.log("adj reportMonth "+r);var o={queryParams:{id:"id"+this.selfReport.studentSelfReportId}};console.log("after Submit or Cancele navigating to "+e),console.log("with queryParams "+o.queryParams),this.router.navigate([e],o)}},{key:"validateEmojis",value:function(e){var t=666===e.value?{validateEmojis:{valid:!1}}:null;return console.log(t),t}},{key:"hasChanges",value:function(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}}]),e}(),Me.\u0275fac=function(e){return new(e||Me)(b.Mb(d.a),b.Mb(d.b),b.Mb(oe.a),b.Mb(S.d),b.Mb(G.a))},Me.\u0275cmp=b.Gb({type:Me,selectors:[["ng-component"]],decls:9,vars:6,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[3,"formGroup"],[1,"form-group"],[1,"controls"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_English",1,"red",3,"errors"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["control","narrative_Spanish",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],["type","button",1,"btn","btn-danger",2,"width","75px","margin-left","5rem",3,"click"]],template:function(e,t){1&e&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Bc(2),b.Qb(),b.Rb(3,"div",2),b.zc(4,Qe,2,1,"div",3),b.zc(5,De,2,1,"div",4),b.Rb(6,"div",5),b.zc(7,Oe,2,0,"div",6),b.zc(8,Ge,27,5,"div",7),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.zb(2),b.Dc("Student Self Report of ",t.studentName,""),b.zb(2),b.jc("ngIf",t.errorMessage),b.zb(1),b.jc("ngIf",t.successMessage),b.zb(1),b.jc("ngSwitch",t.isLoading),b.zb(1),b.jc("ngSwitchCase",!0),b.zb(1),b.jc("ngSwitchCase",!1))},directives:[c.l,c.m,c.n,z.a,S.w,S.n,S.f,S.b,S.m,S.e,ke.a],encapsulation:2}),Object(R.a)([Object(w.d)(O.a.getSelectedStudentName),Object(R.b)("design:type",k.a)],Me.prototype,"currentName$",void 0),Me)}]}],Be=((je=function e(){o(this,e)}).\u0275mod=b.Kb({type:je}),je.\u0275inj=b.Jb({factory:function(e){return new(e||je)},imports:[[d.e.forChild(Ne)],d.e]}),je),xe=((ze=function e(){o(this,e)}).\u0275mod=b.Kb({type:ze}),ze.\u0275inj=b.Jb({factory:function(e){return new(e||ze)},imports:[[c.c,u.a,Be,a.a]]}),ze)}}])}();