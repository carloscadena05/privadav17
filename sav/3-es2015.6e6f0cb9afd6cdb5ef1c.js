(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"47tG":function(t,e,r){"use strict";r.d(e,"a",(function(){return R}));var s=r("mrSG"),i=r("AcyG"),n=r("HDdC"),o=r("dfvj"),a=r("Jw/E"),c=r("fXoL"),d=r("tyNb"),l=r("SC10"),u=r("3Pt+"),b=r("Dn1Q"),h=r("o9p1"),p=r("ofXK"),g=r("EoNH");function m(t,e){if(1&t&&(c.Rb(0,"div",19),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.errorMessage)}}function f(t,e){if(1&t&&(c.Rb(0,"div",20),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.successMessage)}}const v=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},S=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}};let R=(()=>{class t{constructor(t,e,r,s,i,n){this.currRoute=t,this.router=e,this.miscData=r,this._fb=s,this.session=i,this.quarterlyData=n,this.selectedYearPeriod="",this.myForm=s.group({narrative_English:["",{}],narrative_Spanish:[""],mentorReportId:[this.reportIdCtl]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.mentorReportId}ngOnInit(){this.qrComponentsEditable$.subscribe(t=>{this.qrComponentsEditable=t,this.qrComponentsEditable?this.myForm.enable():this.myForm.disable()}),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: mr new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchFilteredData()})}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(t=>{this.selectedYearPeriod=t,console.log("************NGXS: MR new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}fetchFilteredData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("MR",this.studentGUId,this.selectedYearPeriod,"0").subscribe(t=>{this.mentorReport=t},t=>console.error("Subscribe error: "+t),()=>{this.isLoading=!1,this.mentorReport?(console.log("### after retreiving, set form controls to retreived mentorReport"),this.reportIdCtl.setValue(this.mentorReport.quarterlyReportId),this.narrative_EnglishCtl.setValue(this.mentorReport.mR_Narrative_English),this.narrative_SpanishCtl.setValue(this.mentorReport.mR_Narrative_Spanish)):(console.log("no results returned"),this.narrative_EnglishCtl.setValue("--No Report Found--"),this.narrative_SpanishCtl.setValue("--No Report Found--"))}))}onSubmit(){return this.myForm.invalid?(this.errorMessage="",this.narrative_EnglishCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(this.mentorReport.mR_Narrative_English=this.narrative_EnglishCtl.value,this.mentorReport.mR_Narrative_Spanish=this.narrative_SpanishCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.mentorReport,"MR").subscribe(()=>{this.successMessage="Saved successfully / Guardar con exito",window.setTimeout(()=>{this.successMessage=""},1e3),this.isSubmitted=!0,this.isLoading=!1},t=>{this.errorMessage=t,this.isLoading=!1}),!1)}onCancel(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(d.a),c.Mb(d.b),c.Mb(l.a),c.Mb(u.d),c.Mb(b.a),c.Mb(h.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-mr-consolidated"]],decls:36,vars:10,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","mentorReportId"],["id","mentorReportId","formControlName","mentorReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_Spanish",1,"red",3,"errors"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm","narrative"],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(c.zc(0,m,2,1,"div",0),c.zc(1,f,2,1,"div",1),c.Rb(2,"form",2),c.Rb(3,"fieldset"),c.Rb(4,"div",3),c.Rb(5,"div",4),c.Rb(6,"label",5),c.Bc(7,"Id"),c.Qb(),c.Rb(8,"textarea",6),c.Bc(9,"                "),c.Qb(),c.Qb(),c.Rb(10,"div",7),c.Rb(11,"label",8),c.Bc(12,"Texto Espa\xf1ol"),c.Qb(),c.Rb(13,"textarea",9,10),c.Bc(15,"                "),c.Qb(),c.Nb(16,"app-display-errors",11),c.Qb(),c.Rb(17,"div",7),c.Rb(18,"label",12),c.Bc(19,"English Text"),c.Qb(),c.Rb(20,"textarea",13,10),c.Bc(22,"              "),c.Qb(),c.Nb(23,"app-display-errors",14),c.Qb(),c.Rb(24,"div",15),c.Rb(25,"span"),c.Rb(26,"button",16),c.cc("click",(function(){return e.onSubmit()})),c.Bc(27," Guardar/Save "),c.Qb(),c.Qb(),c.Bc(28,"\xa0 "),c.Rb(29,"span"),c.Rb(30,"button",17),c.cc("click",(function(){return e.onCancel()})),c.Bc(31," Cancelar "),c.Qb(),c.Rb(32,"div",18),c.Bc(33,"Year, Month, Emoji and description must be filled in before saving."),c.Nb(34,"br"),c.Bc(35,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.jc("ngIf",e.errorMessage),c.zb(1),c.jc("ngIf",e.successMessage),c.zb(1),c.jc("formGroup",e.myForm),c.zb(14),c.jc("errors",c.mc(8,v)),c.zb(7),c.jc("errors",c.mc(9,S)),c.zb(3),c.jc("hidden",!e.qrComponentsEditable),c.zb(4),c.jc("hidden",!e.qrComponentsEditable),c.zb(2),c.jc("hidden",e.myForm.valid||!e.qrComponentsEditable))},directives:[p.l,u.w,u.n,u.f,u.b,u.m,u.e,g.a],styles:[".padded[_ngcontent-%COMP%]{padding-right:30px;font-weight:700}.narrative[_ngcontent-%COMP%]{max-width:44em;width:44em;height:540px}"]}),Object(s.a)([Object(i.d)(o.a.getSelectedStudentGUId),Object(s.b)("design:type",n.a)],t.prototype,"currentGUId$",void 0),Object(s.a)([Object(i.d)(a.a.getSelectedYearPeriod),Object(s.b)("design:type",n.a)],t.prototype,"selectedYearPeriod$",void 0),Object(s.a)([Object(i.d)(a.a.getQRComponentsEditable),Object(s.b)("design:type",n.a)],t.prototype,"qrComponentsEditable$",void 0),t})()},"7iOT":function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var s=r("mrSG"),i=r("AcyG"),n=r("HDdC"),o=r("dfvj"),a=r("fXoL"),c=r("HS3z"),d=r("ofXK");function l(t,e){if(1&t&&(a.Rb(0,"div"),a.Rb(1,"div",3),a.Nb(2,"img",4),a.Qb(),a.Qb()),2&t){const t=a.ec();a.zb(2),a.jc("src",t.fullPhotoPathname,a.uc)}}let u=(()=>{class t{constructor(t){console.log("hi from student-photo constructor"),this.clientUrl=t.getClientUrl(),this.subscribeForPhotoPathname()}subscribeForPhotoPathname(){this.subscription=this.photoPathname$.subscribe(t=>{this.photoPathname=t,console.log("************NGXS: photoPathname received"+this.photoPathname),this.fullPhotoPathname=this.clientUrl+"/assets/images/StudentPhotos/"+this.photoPathname})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(c.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-student-photo"]],decls:3,vars:1,consts:[[1,"row"],[1,"col"],[4,"ngIf"],[2,"width","100%"],["height","160",3,"src"]],template:function(t,e){1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.zc(2,l,3,1,"div",2),a.Qb(),a.Qb()),2&t&&(a.zb(2),a.jc("ngIf",e.fullPhotoPathname))},directives:[d.l],encapsulation:2}),Object(s.a)([Object(i.d)(o.a.getPhotoPathname),Object(s.b)("design:type",n.a)],t.prototype,"photoPathname$",void 0),t})()},Bxi9:function(t,e,r){"use strict";r.d(e,"a",(function(){return R}));var s=r("mrSG"),i=r("AcyG"),n=r("HDdC"),o=r("dfvj"),a=r("Jw/E"),c=r("fXoL"),d=r("tyNb"),l=r("SC10"),u=r("3Pt+"),b=r("Dn1Q"),h=r("o9p1"),p=r("ofXK"),g=r("EoNH");function m(t,e){if(1&t&&(c.Rb(0,"div",19),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.errorMessage)}}function f(t,e){if(1&t&&(c.Rb(0,"div",20),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.successMessage)}}const v=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},S=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}};let R=(()=>{class t{constructor(t,e,r,s,i,n){this.currRoute=t,this.router=e,this.miscData=r,this._fb=s,this.session=i,this.quarterlyData=n,this.selectedYearPeriod="",this.myForm=s.group({narrative_English:["",{}],narrative_Spanish:[""],quarterlyReportId:[this.reportIdCtl]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.quarterlyReportId}ngOnInit(){this.qrComponentsEditable$.subscribe(t=>{this.qrComponentsEditable=t,this.qrComponentsEditable?this.myForm.enable():this.myForm.disable()}),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: jaComments new StudentGUId received"+this.studentGUId),this.fetchFilteredData()})}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(t=>{this.selectedYearPeriod=t,console.log("************NGXS: jaComments new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}fetchFilteredData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("JA",this.studentGUId,this.selectedYearPeriod,"0").subscribe(t=>{this.jaComment=t},t=>console.error("Subscribe error: "+t),()=>{this.isLoading=!1,this.jaComment?(console.log("### after retreiving, set form controls to retreived jaComments"),this.narrative_SpanishCtl.setValue(this.jaComment.jA_Narrative_Spanish),this.qrComponentsEditable||(0===this.jaComment.jA_Narrative_English.length&&(this.jaComment.jA_Narrative_English="-- No additional comments this quarter --"),0===this.jaComment.jA_Narrative_Spanish.length&&(this.jaComment.jA_Narrative_Spanish="-- No hay comentarios adicionales este trimestre --")),this.narrative_EnglishCtl.setValue(this.jaComment.jA_Narrative_English),this.narrative_SpanishCtl.setValue(this.jaComment.jA_Narrative_Spanish)):(console.log("no results returned"),this.narrative_EnglishCtl.setValue("--No Report Found--"),this.narrative_SpanishCtl.setValue("--No Report Found--"))}))}onSubmit(){return this.myForm.invalid?(this.errorMessage="",this.narrative_EnglishCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(this.jaComment.jA_Narrative_English=this.narrative_EnglishCtl.value,this.jaComment.jA_Narrative_Spanish=this.narrative_SpanishCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.jaComment,"JA").subscribe(()=>{this.successMessage="Saved successfully / Guardar con exito",window.setTimeout(()=>{this.successMessage=""},5e3),this.isSubmitted=!0,this.isLoading=!1},t=>{this.errorMessage=t,this.isLoading=!1}),!1)}onCancel(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(d.a),c.Mb(d.b),c.Mb(l.a),c.Mb(u.d),c.Mb(b.a),c.Mb(h.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-ja-comments"]],decls:36,vars:10,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","quarterlyReportId"],["id","quarterlyReportId","formControlName","quarterlyReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_Spanish",1,"red",3,"errors"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","inpu-sm","narrative"],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(c.zc(0,m,2,1,"div",0),c.zc(1,f,2,1,"div",1),c.Rb(2,"form",2),c.Rb(3,"fieldset"),c.Rb(4,"div",3),c.Rb(5,"div",4),c.Rb(6,"label",5),c.Bc(7,"Id"),c.Qb(),c.Rb(8,"textarea",6),c.Bc(9,"                  "),c.Qb(),c.Qb(),c.Rb(10,"div",7),c.Rb(11,"label",8),c.Bc(12,"Texto Espa\xf1ol"),c.Qb(),c.Rb(13,"textarea",9,10),c.Bc(15,"                  "),c.Qb(),c.Nb(16,"app-display-errors",11),c.Qb(),c.Rb(17,"div",7),c.Rb(18,"label",12),c.Bc(19,"English Text"),c.Qb(),c.Rb(20,"textarea",13,10),c.Bc(22,"                "),c.Qb(),c.Nb(23,"app-display-errors",14),c.Qb(),c.Rb(24,"div",15),c.Rb(25,"span"),c.Rb(26,"button",16),c.cc("click",(function(){return e.onSubmit()})),c.Bc(27," Guardar/Save "),c.Qb(),c.Qb(),c.Bc(28,"\xa0 "),c.Rb(29,"span"),c.Rb(30,"button",17),c.cc("click",(function(){return e.onCancel()})),c.Bc(31," Cancelar "),c.Qb(),c.Rb(32,"div",18),c.Bc(33,"Year, Month, Emoji and description must be filled in before saving."),c.Nb(34,"br"),c.Bc(35,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.jc("ngIf",e.errorMessage),c.zb(1),c.jc("ngIf",e.successMessage),c.zb(1),c.jc("formGroup",e.myForm),c.zb(14),c.jc("errors",c.mc(8,v)),c.zb(7),c.jc("errors",c.mc(9,S)),c.zb(3),c.jc("hidden",!e.qrComponentsEditable),c.zb(4),c.jc("hidden",!e.qrComponentsEditable),c.zb(2),c.jc("hidden",e.myForm.valid||!e.qrComponentsEditable))},directives:[p.l,u.w,u.n,u.f,u.b,u.m,u.e,g.a],styles:[""]}),Object(s.a)([Object(i.d)(o.a.getSelectedStudentGUId),Object(s.b)("design:type",n.a)],t.prototype,"currentGUId$",void 0),Object(s.a)([Object(i.d)(a.a.getSelectedYearPeriod),Object(s.b)("design:type",n.a)],t.prototype,"selectedYearPeriod$",void 0),Object(s.a)([Object(i.d)(a.a.getQRComponentsEditable),Object(s.b)("design:type",n.a)],t.prototype,"qrComponentsEditable$",void 0),t})()},CZ4s:function(t,e,r){"use strict";r.d(e,"a",(function(){return g}));var s=r("mrSG"),i=r("AcyG"),n=r("HDdC"),o=r("6VDH"),a=r("dfvj"),c=r("fXoL"),d=r("2vts"),l=r("ofXK"),u=r("T8Dl");function b(t,e){1&t&&c.Nb(0,"div",4)}function h(t,e){1&t&&(c.Rb(0,"div",5),c.Nb(1,"app-loading-container"),c.Qb())}function p(t,e){if(1&t&&(c.Rb(0,"div"),c.Rb(1,"div",6),c.Rb(2,"div",7),c.Rb(3,"label"),c.Bc(4,"Year Joined JA:"),c.Qb(),c.Bc(5),c.Rb(6,"label"),c.Bc(7,"Grad Year/Month:"),c.Qb(),c.Bc(8),c.Qb(),c.Qb(),c.Rb(9,"div",6),c.Rb(10,"div",7),c.Rb(11,"label"),c.Bc(12,"Major:"),c.Qb(),c.Bc(13),c.Nb(14,"br"),c.Rb(15,"label"),c.Bc(16,"University:"),c.Qb(),c.Bc(17),c.Nb(18,"br"),c.Rb(19,"label"),c.Bc(20,"Mentor Name:"),c.Qb(),c.Bc(21),c.Nb(22,"br"),c.Rb(23,"label"),c.Bc(24,"Sponsor Name:"),c.Qb(),c.Bc(25),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.ec();c.zb(5),c.Dc(" ",t.student.yearJoinedJa,"\xa0\xa0\xa0\xa0\xa0 "),c.zb(3),c.Ec(" ",t.student.gradYear," / ",t.student.gradMonth," "),c.zb(5),c.Dc(" ",t.student.major," "),c.zb(4),c.Dc(" ",t.student.universityName," "),c.zb(4),c.Dc(" ",t.student.mentorName," "),c.zb(4),c.Dc(" ",t.student.sponsorGroupName," ")}}let g=(()=>{class t{constructor(t,e,r){this.store=t,this.studentData=e,this.location=r,this.loadingState=0,this.bReadOnly=!0,console.log("hi from StudentHeaderDetails constructor"),this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){this.loadingState=0,this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: header details new StudentGUId received"+this.studentGUId),this.fetchData()})}fetchData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&(this.loadingState=1,this.studentData.getStudentHeaderDTO(this.studentGUId).subscribe(t=>{this.student=t},t=>{this.errorMessage=t},()=>{this.loadingState=2,this.store.dispatch(new o.b(this.student.photoUrl))}))}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(i.g),c.Mb(d.a),c.Mb(l.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-student-header-details"]],decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-center col-md-12 ",4,"ngSwitchCase"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"text-center","col-md-12"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"row"],[1,"col-12"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.zc(1,b,1,0,"div",1),c.zc(2,h,2,0,"div",2),c.zc(3,p,26,7,"div",3),c.Qb()),2&t&&(c.jc("ngSwitch",e.loadingState),c.zb(1),c.jc("ngSwitchCase",0),c.zb(1),c.jc("ngSwitchCase",1),c.zb(1),c.jc("ngSwitchCase",2))},directives:[l.m,l.n,u.a],encapsulation:2}),Object(s.a)([Object(i.d)(a.a.getSelectedStudentGUId),Object(s.b)("design:type",n.a)],t.prototype,"currentGUId$",void 0),t})()},JHQQ:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var s=r("fXoL"),i=r("oIRo"),n=r("ofXK");const o=["app-sortable-column",""];function a(t,e){1&t&&s.Nb(0,"span",2)}function c(t,e){1&t&&s.Nb(0,"span",3)}const d=["*"];let l=(()=>{class t{constructor(t){this.columnSortService=t,this.onSortColumn=new s.o,this.sortCriteria={sortColumn:"",sortDirection:""}}headerClicked(){console.log("app-sortable-column has headerClick"),this.sortDirection="asc"===this.sortDirection?"desc":"asc",console.log("direction = "+this.sortDirection),console.log("emitting sortColumnClick with columnName = "+this.columnName),this.sortCriteria.sortColumn=this.columnName,this.sortCriteria.sortDirection=this.sortDirection,this.onSortColumn.emit(this.sortCriteria),this.columnSortService.columnSorted(this.sortCriteria)}ngOnInit(){this.columnSortedSubscription=this.columnSortService.columnSorted$.subscribe(t=>{console.log("have column sort subscribption event"),this.columnName!==t.sortColumn&&(this.sortDirection="")})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(i.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["","app-sortable-column",""]],hostBindings:function(t,e){1&t&&s.cc("click",(function(){return e.headerClicked()}))},inputs:{columnName:["app-sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"]},outputs:{onSortColumn:"onSortColumn"},attrs:o,ngContentSelectors:d,decls:3,vars:2,consts:[["class","up-arrow",4,"ngIf"],["class","down-arrow",4,"ngIf"],[1,"up-arrow"],[1,"down-arrow"]],template:function(t,e){1&t&&(s.ic(),s.zc(0,a,1,0,"span",0),s.zc(1,c,1,0,"span",1),s.hc(2)),2&t&&(s.jc("ngIf","asc"===e.sortDirection),s.zb(1),s.jc("ngIf","desc"===e.sortDirection))},directives:[n.l],styles:[".up-arrow[_ngcontent-%COMP%]:after {\n        content: '^';\n      }\n\n      .down-arrow[_ngcontent-%COMP%]:after {\n        content: 'v';\n      }"]}),t})()},Kj3r:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var s=r("7o/Q"),i=r("D0XW");function n(t,e=i.a){return r=>r.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends s.a{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},SC10:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var s=r("vkgz"),i=r("UXun"),n=r("JIr8"),o=r("jEWH"),a=r("fXoL");let c=(()=>{class t extends o.a{constructor(){super(...arguments),this.mentorsUrl=this.WebApiPrefix+"lookup/mentors",this.adminsUrl=this.WebApiPrefix+"lookup/admins",this.sponsorGroupsUrl=this.WebApiPrefix+"lookup/sponsorgroups",this.sponsorGroups$=this.http.get(this.sponsorGroupsUrl).pipe(Object(s.a)(t=>console.log("sponsorGroups ",JSON.stringify(t[0]))),Object(i.a)(1),Object(n.a)(this.handleError)),this.universitiesUrl=this.WebApiPrefix+"lookup/universities",this.universities$=this.http.get(this.universitiesUrl).pipe(Object(s.a)(t=>console.log("universities ",JSON.stringify(t[0]))),Object(i.a)(1),Object(n.a)(this.handleError)),this.universityGradeMonthsUrl=this.WebApiPrefix+"lookup/universities/grade-months",this.universityGradeMonths$=this.http.get(this.universityGradeMonthsUrl).pipe(Object(s.a)(t=>console.log("universitiy Grade Months ",JSON.stringify(t[0]))),Object(i.a)(1),Object(n.a)(this.handleError)),this.prepasUrl=this.WebApiPrefix+"lookup/prepas",this.prepas$=this.http.get(this.prepasUrl).pipe(Object(s.a)(t=>console.log("prepas ",JSON.stringify(t[0]))),Object(i.a)(1),Object(n.a)(this.handleError))}getMentors$(){return this.http.get(this.mentorsUrl).pipe(Object(s.a)(t=>console.log("mentorNames ",JSON.stringify(t[0]))),Object(i.a)(1),Object(n.a)(this.handleError))}getAdmins$(){return this.http.get(this.adminsUrl).pipe(Object(s.a)(t=>console.log("adminNames ",JSON.stringify(t[0]))),Object(i.a)(1),Object(n.a)(this.handleError))}}return t.\u0275fac=function(e){return d(e||t)},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const d=a.Tb(c)},ZmIP:function(t,e,r){"use strict";r.d(e,"a",(function(){return R}));var s=r("mrSG"),i=r("AcyG"),n=r("HDdC"),o=r("dfvj"),a=r("Jw/E"),c=r("fXoL"),d=r("tyNb"),l=r("SC10"),u=r("3Pt+"),b=r("Dn1Q"),h=r("o9p1"),p=r("ofXK"),g=r("EoNH");function m(t,e){if(1&t&&(c.Rb(0,"div",19),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.errorMessage)}}function f(t,e){if(1&t&&(c.Rb(0,"div",20),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.successMessage)}}const v=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},S=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}};let R=(()=>{class t{constructor(t,e,r,s,i,n){this.currRoute=t,this.router=e,this.miscData=r,this._fb=s,this.session=i,this.quarterlyData=n,this.selectedYearPeriod="",this.myForm=s.group({narrative_English:["",{}],narrative_Spanish:[""],quarterlyReportId:[this.reportIdCtl]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.quarterlyReportId}ngOnInit(){this.qrComponentsEditable$.subscribe(t=>{this.qrComponentsEditable=t,this.qrComponentsEditable?this.myForm.enable():this.myForm.disable()}),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: SR new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchFilteredData()})}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(t=>{this.selectedYearPeriod=t,console.log("************NGXS: SR new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}fetchFilteredData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("SR",this.studentGUId,this.selectedYearPeriod,"0").subscribe(t=>{this.studentSelfReport=t},t=>console.error("Subscribe error: "+t),()=>{this.isLoading=!1,this.studentSelfReport?(console.log("### after retreiving, set form controls to retreived selfReport"),this.reportIdCtl.setValue(this.studentSelfReport.quarterlyReportId),this.narrative_EnglishCtl.setValue(this.studentSelfReport.sR_Narrative_English),this.narrative_SpanishCtl.setValue(this.studentSelfReport.sR_Narrative_Spanish)):(console.log("no results returned"),this.narrative_EnglishCtl.setValue("--No Report Found--"),this.narrative_SpanishCtl.setValue("--No Report Found--"))}))}onSubmit(){return this.myForm.invalid?(this.errorMessage="",this.narrative_EnglishCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(console.log("###before submitting update model with form control values"),this.studentSelfReport.sR_Narrative_English=this.narrative_EnglishCtl.value,this.studentSelfReport.sR_Narrative_Spanish=this.narrative_SpanishCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.studentSelfReport,"SR").subscribe(()=>{this.successMessage="Saved successfully / Guardar con exito",window.setTimeout(()=>{this.successMessage=""},5e3),this.isSubmitted=!0,this.isLoading=!1},t=>{this.errorMessage=t.message,this.isLoading=!1}),!1)}onCancel(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(d.a),c.Mb(d.b),c.Mb(l.a),c.Mb(u.d),c.Mb(b.a),c.Mb(h.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-self-reports"]],decls:36,vars:10,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","quarterlyReportId"],["id","quarterlyReportId","formControlName","quarterlyReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_Spanish",1,"red",3,"errors"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm","narrative"],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(c.zc(0,m,2,1,"div",0),c.zc(1,f,2,1,"div",1),c.Rb(2,"form",2),c.Rb(3,"fieldset"),c.Rb(4,"div",3),c.Rb(5,"div",4),c.Rb(6,"label",5),c.Bc(7,"Id"),c.Qb(),c.Rb(8,"textarea",6),c.Bc(9,"                "),c.Qb(),c.Qb(),c.Rb(10,"div",7),c.Rb(11,"label",8),c.Bc(12,"Texto Espa\xf1ol"),c.Qb(),c.Rb(13,"textarea",9,10),c.Bc(15,"                "),c.Qb(),c.Nb(16,"app-display-errors",11),c.Qb(),c.Rb(17,"div",7),c.Rb(18,"label",12),c.Bc(19,"English Text"),c.Qb(),c.Rb(20,"textarea",13,10),c.Bc(22,"              "),c.Qb(),c.Nb(23,"app-display-errors",14),c.Qb(),c.Rb(24,"div",15),c.Rb(25,"span"),c.Rb(26,"button",16),c.cc("click",(function(){return e.onSubmit()})),c.Bc(27," Guardar/Save "),c.Qb(),c.Qb(),c.Bc(28,"\xa0 "),c.Rb(29,"span"),c.Rb(30,"button",17),c.cc("click",(function(){return e.onCancel()})),c.Bc(31," Cancelar "),c.Qb(),c.Rb(32,"div",18),c.Bc(33,"Year, Month, Emoji and description must be filled in before saving."),c.Nb(34,"br"),c.Bc(35,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.jc("ngIf",e.errorMessage),c.zb(1),c.jc("ngIf",e.successMessage),c.zb(1),c.jc("formGroup",e.myForm),c.zb(14),c.jc("errors",c.mc(8,v)),c.zb(7),c.jc("errors",c.mc(9,S)),c.zb(3),c.jc("hidden",!e.qrComponentsEditable),c.zb(4),c.jc("hidden",!e.qrComponentsEditable),c.zb(2),c.jc("hidden",e.myForm.valid||!e.qrComponentsEditable))},directives:[p.l,u.w,u.n,u.f,u.b,u.m,u.e,g.a],styles:[".padded[_ngcontent-%COMP%]{padding-right:30px;font-weight:700}.narrative[_ngcontent-%COMP%]{max-width:44em;width:44em;height:540px}","[_nghost-%COMP%]{display:block;padding:0 16px}label[_ngcontent-%COMP%]{padding-top:10px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], radio.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%], textarea.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], radio.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%], textarea.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], radio.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}.narrative[_ngcontent-%COMP%]{max-width:44em;width:44em;height:540px}"]}),Object(s.a)([Object(i.d)(o.a.getSelectedStudentGUId),Object(s.b)("design:type",n.a)],t.prototype,"currentGUId$",void 0),Object(s.a)([Object(i.d)(a.a.getSelectedYearPeriod),Object(s.b)("design:type",n.a)],t.prototype,"selectedYearPeriod$",void 0),Object(s.a)([Object(i.d)(a.a.getQRComponentsEditable),Object(s.b)("design:type",n.a)],t.prototype,"qrComponentsEditable$",void 0),t})()},bV1B:function(t,e,r){"use strict";r.r(e),r.d(e,"QuarterlyModule",(function(){return at}));var s=r("ofXK"),i=r("1kSV"),n=r("UBNF"),o=r("tyNb"),a=r("LA/q"),c=r("mrSG"),d=r("AcyG"),l=r("HDdC");class u{constructor(t,e,r,s,i,n,o,a,c,d,l){this.quarterlyReportGUId=t,this.reportYear=e,this.reportPeriod=r,this.studentGUId=s,this.sponsorGroupGUId=i,this.reportDateTime=n,this.reviewedStatusId=o,this.studentName=a,this.studentStatus=c,this.sponsorGroupName=d,this.highlightStatusId=l}}var b=r("dfvj"),h=r("WUoG"),p=r("Jw/E"),g=r("WYmY"),m=r("fXoL"),f=r("o9p1"),v=r("qGxU"),S=r("7iOT"),R=r("CZ4s");let y=(()=>{class t{constructor(){}ngOnInit(){this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: header new StudentGUId received"+this.studentGUId)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Gb({type:t,selectors:[["app-student-header-quarterly"]],decls:11,vars:1,consts:[[1,"row"],[1,"col-4"],[3,"showSearchButton"],[1,"col-2"],[1,"col-6"]],template:function(t,e){1&t&&(m.Rb(0,"div"),m.Rb(1,"div",0),m.Rb(2,"div",1),m.Rb(3,"div",0),m.Nb(4,"app-student-lookup",2),m.Qb(),m.Qb(),m.Rb(5,"div",3),m.Rb(6,"div",0),m.Nb(7,"app-student-photo"),m.Qb(),m.Qb(),m.Rb(8,"div",4),m.Rb(9,"div",0),m.Nb(10,"app-student-header-details"),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&t&&(m.zb(4),m.jc("showSearchButton",!1))},directives:[v.a,S.a,R.a],encapsulation:2}),Object(c.a)([Object(d.d)(b.a.getSelectedStudentGUId),Object(c.b)("design:type",l.a)],t.prototype,"currentGUId$",void 0),t})();var I=r("3Pt+"),C=r("ZmIP"),Q=r("47tG"),j=r("Bxi9"),G=r("SC10"),M=r("Dn1Q"),P=r("EoNH");function w(t,e){if(1&t&&(m.Rb(0,"div",16),m.Bc(1),m.Qb()),2&t){const t=m.ec();m.zb(1),m.Cc(t.errorMessage)}}function O(t,e){if(1&t&&(m.Rb(0,"div",17),m.Bc(1),m.Qb()),2&t){const t=m.ec();m.zb(1),m.Cc(t.successMessage)}}const N=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}};let U=(()=>{class t{constructor(t,e,r,s,i,n){this.currRoute=t,this.router=e,this.miscData=r,this._fb=s,this.session=i,this.quarterlyData=n,this.selectedYearPeriod="",this.myForm=s.group({narrative:[""],quarterlyReportId:[this.reportIdCtl]}),this.narrativeCtl=this.myForm.controls.narrative,this.reportIdCtl=this.myForm.controls.quarterlyReportId}ngOnInit(){this.qrComponentsEditable$.subscribe(t=>{this.qrComponentsEditable=t,this.qrComponentsEditable?this.myForm.enable():this.myForm.disable()}),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: PN new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchFilteredData()})}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(t=>{this.selectedYearPeriod=t,console.log("************NGXS: PN new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}fetchFilteredData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("PN",this.studentGUId,this.selectedYearPeriod,"0").subscribe(t=>{this.privateNotes=t},t=>console.error("Subscribe error: "+t),()=>{this.isLoading=!1,this.privateNotes&&this.privateNotes.pN_Narrative&&this.privateNotes.pN_Narrative.length>0?(console.log("### after retreiving, set form controls to retreived selfReport"),this.narrativeCtl.setValue(this.privateNotes.pN_Narrative)):(console.log("no results returned"),this.narrativeCtl.setValue(""))}))}onSubmit(){return this.myForm.invalid?(this.errorMessage="",this.narrativeCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(this.privateNotes.pN_Narrative=this.narrativeCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.privateNotes,"PN").subscribe(()=>{this.successMessage="Saved successfully / Guardar con exito",window.setTimeout(()=>{this.successMessage=""},5e3),this.isSubmitted=!0,this.isLoading=!1},t=>{this.errorMessage=t.message,this.isLoading=!1}),!1)}onCancel(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(o.a),m.Mb(o.b),m.Mb(G.a),m.Mb(I.d),m.Mb(M.a),m.Mb(f.a))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-private-notes"]],decls:26,vars:8,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","quarterlyReportId"],["id","quarterlyReportId","formControlName","quarterlyReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative"],["id","narrative","data-cy","narrative","formControlName","narrative","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(t,e){1&t&&(m.zc(0,w,2,1,"div",0),m.zc(1,O,2,1,"div",1),m.Rb(2,"form",2),m.Rb(3,"fieldset"),m.Rb(4,"div",3),m.Rb(5,"div",4),m.Rb(6,"label",5),m.Bc(7,"Id"),m.Qb(),m.Rb(8,"textarea",6),m.Bc(9,"        "),m.Qb(),m.Qb(),m.Rb(10,"div",7),m.Rb(11,"label",8),m.Bc(12,"Text"),m.Qb(),m.Rb(13,"textarea",9,10),m.Bc(15,"        "),m.Qb(),m.Nb(16,"app-display-errors",11),m.Qb(),m.Rb(17,"div",12),m.Rb(18,"span"),m.Rb(19,"button",13),m.cc("click",(function(){return e.onSubmit()})),m.Bc(20," Guardar/Save "),m.Qb(),m.Qb(),m.Bc(21,"\xa0 "),m.Rb(22,"span"),m.Rb(23,"button",14),m.cc("click",(function(){return e.onCancel()})),m.Bc(24," Cancelar "),m.Qb(),m.Nb(25,"div",15),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&t&&(m.jc("ngIf",e.errorMessage),m.zb(1),m.jc("ngIf",e.successMessage),m.zb(1),m.jc("formGroup",e.myForm),m.zb(14),m.jc("errors",m.mc(7,N)),m.zb(3),m.jc("hidden",!e.qrComponentsEditable),m.zb(4),m.jc("hidden",!e.qrComponentsEditable),m.zb(2),m.jc("hidden",e.myForm.valid||!e.qrComponentsEditable))},directives:[s.l,I.w,I.n,I.f,I.b,I.m,I.e,P.a],encapsulation:2}),Object(c.a)([Object(d.d)(b.a.getSelectedStudentGUId),Object(c.b)("design:type",l.a)],t.prototype,"currentGUId$",void 0),Object(c.a)([Object(d.d)(p.a.getSelectedYearPeriod),Object(c.b)("design:type",l.a)],t.prototype,"selectedYearPeriod$",void 0),Object(c.a)([Object(d.d)(p.a.getQRComponentsEditable),Object(c.b)("design:type",l.a)],t.prototype,"qrComponentsEditable$",void 0),t})();function _(t,e){if(1&t&&(m.Rb(0,"option",17),m.Bc(1),m.Qb()),2&t){const t=e.$implicit;m.jc("value",t.value),m.zb(1),m.Dc(" ",t.label," ")}}function x(t,e){if(1&t&&(m.Rb(0,"option",17),m.Bc(1),m.Qb()),2&t){const t=e.$implicit;m.jc("value",t.value),m.zb(1),m.Cc(t.label)}}function q(t,e){1&t&&m.Nb(0,"app-self-reports")}function z(t,e){1&t&&m.Nb(0,"app-mr-consolidated")}function F(t,e){1&t&&m.Nb(0,"app-ja-comments")}function E(t,e){1&t&&m.Nb(0,"app-private-notes")}function D(t,e){if(1&t){const t=m.Sb();m.Rb(0,"div"),m.Rb(1,"div",3),m.Rb(2,"div",4),m.Rb(3,"div",5),m.Rb(4,"span",6),m.Bc(5," Quarterly Reports "),m.Qb(),m.Rb(6,"span",7),m.Bc(7," Report Year-Period: "),m.Rb(8,"select",8),m.cc("ngModelChange",(function(e){return m.sc(t),m.ec().selectedYearPeriod=e}))("change",(function(e){return m.sc(t),m.ec().setSelectedYearPeriod(e.target.value)})),m.zc(9,_,2,2,"option",9),m.Qb(),m.Qb(),m.Rb(10,"span",7),m.Bc(11," Set Report Status: "),m.Rb(12,"select",10),m.cc("ngModelChange",(function(e){return m.sc(t),m.ec().selectedReviewedStatusID=e}))("change",(function(e){return m.sc(t),m.ec().setStatusForQR(e.target.value)})),m.zc(13,x,2,2,"option",9),m.Qb(),m.Qb(),m.Qb(),m.Rb(14,"div",11),m.Rb(15,"ngb-tabset"),m.Rb(16,"ngb-tab",12),m.zc(17,q,1,0,"ng-template",13),m.Qb(),m.Rb(18,"ngb-tab",14),m.zc(19,z,1,0,"ng-template",13),m.Qb(),m.Rb(20,"ngb-tab",15),m.zc(21,F,1,0,"ng-template",13),m.Qb(),m.Rb(22,"ngb-tab",16),m.zc(23,E,1,0,"ng-template",13),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&t){const t=m.ec();m.zb(8),m.jc("ngModel",t.selectedYearPeriod),m.zb(1),m.jc("ngForOf",t.activeQRPeriods),m.zb(3),m.jc("ngModel",t.selectedReviewedStatusID),m.zb(1),m.jc("ngForOf",t.reviewedStatuses)}}let B=(()=>{class t{constructor(t,e,r){this.route=t,this.quarterlyData=e,this.store=r,this.isLoading=!1,this.selectedYearPeriod="",this.activeQRPeriods=g.a.activeQRperiods,this.reviewedStatuses=g.a.reviewedQRStatuses,this.qrMini=new u}ngOnInit(){console.log("QR containerInit"),this.setQRComponentsEditible(!0),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: quarterlyContainer new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&(this.studentGUIdReceived=!0,this.fetchFilteredData())})}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(t=>{this.selectedYearPeriod=t,console.log("************NGXS: SR new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}fetchFilteredData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getQRMiniForStudentPeriod(this.studentGUId,this.selectedYearPeriod).subscribe(t=>{this.qrMini=t,this.selectedReviewedStatusID=""+this.qrMini.reviewedStatusId,console.log("+++++++++++++++++++++selectedReviewedStatusID "+this.qrMini.reviewedStatusId),this.quarterlyReportGUId=this.qrMini.quarterlyReportGUId},t=>console.error("Subscribe error: "+t),()=>{this.isLoading=!1}))}setStatusForQR(t){console.log("selected reviewedStatusId: "+t),this.quarterlyData.setQRReviewedStatus(this.quarterlyReportGUId,t).subscribe(()=>{this.successMessage="Updated",window.setTimeout(()=>{this.successMessage=""},500)},t=>{this.errorMessage=t,this.isLoading=!1})}setSelectedYearPeriod(t){this.store.dispatch(new h.f(t)),this.fetchFilteredData()}setQRComponentsEditible(t){this.store.dispatch(new h.a(t))}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(o.a),m.Mb(f.a),m.Mb(d.g))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-quarterly-container"]],decls:4,vars:1,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],[1,"col"],[1,"card","bg-primary"],[1,"card-header","text-white"],["data-cy","qr-title",2,"font-size","large"],[2,"margin-left","5rem"],["data-cy","period-selector","name","activePeriodSelector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["name","StatusSelector",3,"ngModel","ngModelChange","change"],[1,"card-body","bg-white"],["title","Student Reports"],["ngbTabContent",""],["title","Mentor Reports"],["title","JA Comments","id","ja-comments"],["title","Private Notes"],[3,"value"]],template:function(t,e){1&t&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Nb(2,"app-student-header-quarterly"),m.Qb(),m.Qb(),m.zc(3,D,24,4,"div",2)),2&t&&(m.zb(3),m.jc("ngIf",e.studentGUIdReceived))},directives:[y,s.l,I.t,I.m,I.o,s.k,i.d,i.b,i.c,I.p,I.v,C.a,Q.a,j.a,U],encapsulation:2}),Object(c.a)([Object(d.d)(b.a.getSelectedStudentGUId),Object(c.b)("design:type",l.a)],t.prototype,"currentGUId$",void 0),Object(c.a)([Object(d.d)(p.a.getSelectedYearPeriod),Object(c.b)("design:type",l.a)],t.prototype,"selectedYearPeriod$",void 0),t})();var Y=r("6VDH"),k=r("oIRo"),A=r("T8Dl"),L=r("JHQQ");function $(t,e){if(1&t&&(m.Rb(0,"option",12),m.Bc(1),m.Qb()),2&t){const t=e.$implicit;m.jc("value",t.value),m.zb(1),m.Cc(t.label)}}function T(t,e){if(1&t&&(m.Rb(0,"span",13),m.Bc(1),m.Qb()),2&t){const t=m.ec();m.zb(1),m.Cc(t.errorMessage)}}function V(t,e){if(1&t&&(m.Rb(0,"span",14),m.Bc(1),m.Qb()),2&t){const t=m.ec();m.zb(1),m.Cc(t.successMessage)}}function X(t,e){1&t&&(m.Rb(0,"div",15),m.Nb(1,"app-loading-container"),m.Qb())}function H(t,e){if(1&t&&(m.Rb(0,"option",12),m.Bc(1),m.Qb()),2&t){const t=e.$implicit;m.jc("value",t.value),m.zb(1),m.Cc(t.label)}}function J(t,e){if(1&t&&(m.Rb(0,"option",12),m.Bc(1),m.Qb()),2&t){const t=e.$implicit;m.jc("value",t.value),m.zb(1),m.Cc(t.label)}}function W(t,e){if(1&t){const t=m.Sb();m.Rb(0,"tr"),m.Rb(1,"td"),m.Bc(2),m.Qb(),m.Rb(3,"td",23),m.cc("click",(function(){m.sc(t);const r=e.$implicit;return m.ec(2).gotoStudent(r.studentGUId)})),m.Bc(4),m.Qb(),m.Rb(5,"td"),m.Bc(6),m.Qb(),m.Rb(7,"td",24),m.Rb(8,"select",25),m.cc("ngModelChange",(function(r){return m.sc(t),e.$implicit.reviewedStatusId=r}))("change",(function(r){m.sc(t);const s=e.index;return m.ec(2).setStatusForQR(s,r.target.value)})),m.zc(9,H,2,2,"option",5),m.Qb(),m.Qb(),m.Rb(10,"td"),m.Bc(11),m.Qb(),m.Rb(12,"td",24),m.Rb(13,"select",26),m.cc("ngModelChange",(function(r){return m.sc(t),e.$implicit.highlightStatusId=r}))("change",(function(r){m.sc(t);const s=e.index;return m.ec(2).setHighlightStatusForQR(s,r.target.value)})),m.zc(14,J,2,2,"option",5),m.Qb(),m.Qb(),m.Qb()}if(2&t){const t=e.$implicit,r=e.index,s=m.ec(2);m.zb(2),m.Cc(r+1),m.zb(1),m.Eb("link",!0)("red",2087==t.reviewedStatusId)("alert-success",2106==t.highlightStatusId)("alert-danger",2105==t.highlightStatusId),m.zb(1),m.Dc(" ",t.studentName," "),m.zb(2),m.Cc(t.studentStatus),m.zb(2),m.jc("ngModel",t.reviewedStatusId),m.zb(1),m.jc("ngForOf",s.reviewedStatuses),m.zb(2),m.Cc(t.sponsorGroupName),m.zb(2),m.jc("ngModel",t.highlightStatusId),m.zb(1),m.jc("ngForOf",s.highlightStatuses)}}function K(t,e){if(1&t){const t=m.Sb();m.Rb(0,"div"),m.Rb(1,"table",16),m.Rb(2,"thead"),m.Rb(3,"tr"),m.Nb(4,"th"),m.Rb(5,"th",17),m.cc("onSortColumn",(function(e){return m.sc(t),m.ec().onSortColumn(e)})),m.Bc(6," Student "),m.Qb(),m.Rb(7,"th",18),m.cc("onSortColumn",(function(e){return m.sc(t),m.ec().onSortColumn(e)})),m.Bc(8,"Student Status"),m.Qb(),m.Rb(9,"th",19),m.cc("onSortColumn",(function(e){return m.sc(t),m.ec().onSortColumn(e)})),m.Bc(10,"QR Status"),m.Qb(),m.Rb(11,"th",20),m.cc("onSortColumn",(function(e){return m.sc(t),m.ec().onSortColumn(e)})),m.Bc(12,"Sponsor Group"),m.Qb(),m.Rb(13,"th",21),m.cc("onSortColumn",(function(e){return m.sc(t),m.ec().onSortColumn(e)})),m.Bc(14,"Highlight Status"),m.Qb(),m.Qb(),m.Qb(),m.Rb(15,"tbody"),m.zc(16,W,15,16,"tr",22),m.Qb(),m.Qb(),m.Qb()}if(2&t){const t=m.ec();m.zb(16),m.jc("ngForOf",t.qrMinis)}}let Z=(()=>{class t{constructor(t,e,r,s,i,n){this.currRoute=t,this.router=e,this.quarterlyData=r,this.columnSorter=s,this.store=i,this.session=n,this.isLoading=!1,this.reviewedStatuses=g.a.reviewedQRStatuses,this.highlightStatuses=g.a.highlightStatuses,this.activeQRPeriods=g.a.activeQRperiods,this.selectedYearPeriod="",console.log("quarterly-list constructor"),this.isLoading=!1}ngOnInit(){this.testNameVisibility$.subscribe(t=>{this.displayTestNames=t}),this.subscribeForSelectedYearPeriod()}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(t=>{this.selectedYearPeriod=t,console.log("************NGXS: SR new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}scrollIntoView(){const t=document.body;t&&t.scrollIntoView(!0)}setSelectedYearPeriod(t){this.store.dispatch(new h.f(t))}gotoStudent(t){this.store.dispatch(new Y.c(t)),this.router.navigate(["quarterly/edit"])}onSortColumn(t){return this.qrMinis.sort((e,r)=>this.columnSorter.compareValues(e,r,t))}onSorted(t){console.log("sorted event received"),console.log(t)}fetchFilteredData(){this.isLoading=!0,console.log("quarterly-list data fetch "),this.quarterlyData.getQRMinisForPeriod(this.selectedYearPeriod,0).subscribe(t=>{this.qrMinis=t.filter(t=>this.displayTestNames?t:this.displayTestNames||"_Test, _Student"===t.studentName?void 0:t)},t=>{console.error("Subscribe error: "+t),this.isLoading=!1},()=>{this.isLoading=!1,this.qrMinis&&this.qrMinis.length>0?console.log("### after retreiving, grid to data "+this.qrMinis[0].quarterlyReportGUId):console.log("no results returned")})}setStatusForQR(t,e){console.log("selected reviewedStatusId: "+e),this.quarterlyData.setQRReviewedStatus(this.qrMinis[t].quarterlyReportGUId,e).subscribe(()=>{this.successMessage="Updated",window.setTimeout(()=>{this.successMessage=""},500)},t=>{this.errorMessage=t,this.isLoading=!1})}setHighlightStatusForQR(t,e){console.log("selected highlightStatusId: "+e),console.log("selected RQGUID:"+this.qrMinis[t].quarterlyReportGUId),this.quarterlyData.setQRHighlightStatus(this.qrMinis[t].quarterlyReportGUId,e).subscribe(()=>{this.successMessage="Updated",window.setTimeout(()=>{this.successMessage=""},500)},t=>{this.errorMessage=t,this.isLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(o.a),m.Mb(o.b),m.Mb(f.a),m.Mb(k.a),m.Mb(d.g),m.Mb(M.a))},t.\u0275cmp=m.Gb({type:t,selectors:[["ng-component"]],decls:15,vars:7,consts:[[1,"card","bg-primary"],[1,"card-header","text-white"],[2,"font-size","large"],[2,"margin-left","10rem"],["name","activePeriodSelector","data-cy","period-selector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"value"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"table-sm","table-striped"],["app-sortable-column","studentName","sort-direction","asc",3,"onSortColumn"],["app-sortable-column","studentStatus",3,"onSortColumn"],["app-sortable-column","reviewedStatusId",3,"onSortColumn"],["app-sortable-column","sponsorGroupName",3,"onSortColumn"],["app-sortable-column","highlightStatusId",3,"onSortColumn"],[4,"ngFor","ngForOf"],[3,"click"],[1,"centered"],["name","StatusSelector",3,"ngModel","ngModelChange","change"],["name","HighlightSelector",3,"ngModel","ngModelChange","change"]],template:function(t,e){1&t&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Rb(2,"span",2),m.Bc(3," Quarterly Report Statuses "),m.Qb(),m.Rb(4,"span",3),m.Bc(5," Report Year-Period: "),m.Rb(6,"select",4),m.cc("ngModelChange",(function(t){return e.selectedYearPeriod=t}))("change",(function(t){return e.setSelectedYearPeriod(t.target.value)})),m.zc(7,$,2,2,"option",5),m.Qb(),m.Qb(),m.Qb(),m.Rb(8,"div",6),m.zc(9,T,2,1,"span",7),m.zc(10,V,2,1,"span",8),m.Nb(11,"div"),m.Rb(12,"div",9),m.zc(13,X,2,0,"div",10),m.zc(14,K,17,1,"div",11),m.Qb(),m.Qb(),m.Qb()),2&t&&(m.zb(6),m.jc("ngModel",e.selectedYearPeriod),m.zb(1),m.jc("ngForOf",e.activeQRPeriods),m.zb(2),m.jc("ngIf",e.errorMessage),m.zb(1),m.jc("ngIf",e.successMessage),m.zb(2),m.jc("ngSwitch",e.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[I.t,I.m,I.o,s.k,s.l,s.m,s.n,I.p,I.v,A.a,L.a],styles:['th[app-sortable-column][_ngcontent-%COMP%]{text-align:left;cursor:pointer;-webkit-text-decoration-line:underline;text-decoration-line:underline;-webkit-text-decoration-style:solid;text-decoration-style:solid}.up-arrow[_ngcontent-%COMP%]:before{content:"^&nbsp;"}.down-arrow[_ngcontent-%COMP%]:after{content:"v&nbsp;&nbsp;"}.thumbnail[_ngcontent-%COMP%]:hover{position:relative;top:-25px;left:-35px;width:150px;height:auto;display:block;z-index:999}']}),Object(c.a)([Object(d.d)(p.a.getTestNamesVisibility),Object(c.b)("design:type",l.a)],t.prototype,"testNameVisibility$",void 0),Object(c.a)([Object(d.d)(p.a.getSelectedYearPeriod),Object(c.b)("design:type",l.a)],t.prototype,"selectedYearPeriod$",void 0),t})();const tt=function(){return["active"]},et=function(){return["/quarterly"]},rt=function(){return{exact:!0}},st=function(){return["/quarterly/edit"]};let it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Gb({type:t,selectors:[["app-quarterly-navbar"]],decls:5,vars:10,consts:[[3,"routerLinkActive","routerLink","routerLinkActiveOptions"],[3,"routerLinkActive","routerLink"]],template:function(t,e){1&t&&(m.Rb(0,"nav"),m.Rb(1,"a",0),m.Bc(2,"Status List"),m.Qb(),m.Rb(3,"a",1),m.Bc(4,"Review/Edit Reports"),m.Qb(),m.Qb()),2&t&&(m.zb(1),m.jc("routerLinkActive",m.mc(5,tt))("routerLink",m.mc(6,et))("routerLinkActiveOptions",m.mc(7,rt)),m.zb(2),m.jc("routerLinkActive",m.mc(8,tt))("routerLink",m.mc(9,st)))},directives:[o.d,o.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:38px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#add8e6}"]}),t})();const nt=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Gb({type:t,selectors:[["ng-component"]],decls:2,vars:0,template:function(t,e){1&t&&(m.Nb(0,"app-quarterly-navbar"),m.Nb(1,"router-outlet"))},directives:[it,o.f],encapsulation:2}),t})(),canActivate:[a.a],children:[{path:"",pathMatch:"full",component:Z},{path:"edit",component:B},{path:"quarterly-container",component:Z}]}];let ot=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(nt)],o.e]}),t})(),at=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(e){return new(e||t)},imports:[[s.c,n.a,ot,i.a]]}),t})()},o9p1:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var s=r("tk/3"),i=r("z6cu"),n=r("JIr8"),o=r("vkgz"),a=r("HS3z"),c=r("fXoL");let d=(()=>{class t{constructor(t,e){this.http=t,this.webApiPrefixService=e,this.WebApiPrefix=e.getWebApiPrefix()}getQuarterlyReport(t){const e=this.WebApiPrefix+"quarterlyreport/"+t;return console.log("sending AuthHttp get request for QuarterlyReport"),this.http.get(e).pipe(Object(n.a)(this.handleError))}getQuarterlyReportsForStudent(t,e){const r=e.substr(0,4),s=e.substr(5,1),i=this.WebApiPrefix+"quarterlyreport/"+t+"/"+r+"/"+s;return console.log("sending AuthHttp get request for QuarterlyReportForStudentPeriod"),this.http.get(i).pipe(Object(n.a)(this.handleError))}getQRMiniForStudentPeriod(t,e){const r=e.substr(0,4),s=e.substr(5,1),i=this.WebApiPrefix+"quarterly/single/"+t+"/"+r+"/"+s;return console.log("sending AuthHttp get request for QRMiniForStudentPeriod with url"+i),this.http.get(i).pipe(Object(n.a)(this.handleError))}getQRMinisForPeriod(t,e){const r=t.substr(0,4),s=t.substr(5,1),i=this.WebApiPrefix+"quarterly/"+r+"/"+s+"/"+e;return console.log("sending AuthHttp get request for QRMinisForPeriod"),this.http.get(i).pipe(Object(n.a)(this.handleError))}getPartialQuarterlyReportByPeriod(t,e,r,s){const i=r.substr(0,4),o=r.substr(5,1),a=this.WebApiPrefix+"quarterly/"+t+"/"+e+"/"+i+"/"+o+"/"+s;return console.log("sending AuthHttp get request for getPartialQuarterlyReportByPeriod with "+a),this.http.get(a).pipe(Object(n.a)(this.handleError))}setQRReviewedStatus(t,e){const r=this.WebApiPrefix+"quarterly/status/"+t+"/"+e;return console.log("sending AuthHttp put request to set reviewedStatusId "+e),this.http.put(r,null).pipe(Object(o.a)(()=>console.log("set reviewedStatus returned")),Object(n.a)(this.handleError))}setQRHighlightStatus(t,e){const r=this.WebApiPrefix+"quarterly/highlight_status/"+t+"/"+e;return console.log("sending AuthHttp put request to with URL"+r),this.http.put(r,null).pipe(Object(o.a)(()=>console.log("set highlightStatus returned")),Object(n.a)(this.handleError))}updatePartialQuarterlyReport(t,e){const r=this.WebApiPrefix+"quarterly/"+e;console.log("in putPartialQuarterlyReport with url "+r);const i=JSON.stringify(t),n=(new s.c).set("Content-Type","application/json");return console.log("ready to post "+r+" body: "+i+" options "+n),this.http.put(r,i,{headers:n})}handleError(t){console.log("quarterly-data handlError"),JSON.stringify(t);const e=t.message?t.message:t.status?`${t.status} - ${t.statusText}`:"Server error";return console.log(e.message),console.log(e.statusText),console.error(e),"No JWT present or has expired"===e&&window.alert("Session has expired, please log in again."),Object(i.a)(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(s.a),c.Zb(a.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},qGxU:function(t,e,r){"use strict";r.d(e,"a",(function(){return C}));var s=r("mrSG"),i=r("AcyG"),n=r("LRne"),o=r("HDdC"),a=r("vkgz"),c=r("Kj3r"),d=r("/uUt"),l=r("eIep"),u=r("JIr8"),b=r("6VDH"),h=r("dfvj"),p=r("fXoL"),g=r("2vts"),m=r("tyNb"),f=r("ofXK"),v=r("3Pt+"),S=r("1kSV");function R(t,e){1&t&&(p.Rb(0,"span"),p.Bc(1," Or: "),p.Qb())}function y(t,e){if(1&t){const t=p.Sb();p.Rb(0,"span",10),p.cc("click",(function(){return p.sc(t),p.ec().gotoStudentList()})),p.Bc(1,"Browse Students "),p.Qb()}}let I=(()=>{class t{constructor(t){this.studentData=t}search(t){return""===t?Object(n.a)([]):this.studentData.getCurrentStudentMiniDTOs(t).pipe(Object(a.a)(t=>console.log(t)))}}return t.\u0275fac=function(e){return new(e||t)(p.Zb(g.a))},t.\u0275prov=p.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),C=(()=>{class t{constructor(t,e,r,s){this._service=t,this.router=e,this.studentData=r,this.store=s,this.searching=!1,this.searchFailed=!1,this.currentGUId="0000",this.search=t=>t.pipe(Object(c.a)(500),Object(d.a)(),Object(a.a)(()=>this.searching=!0),Object(l.a)(t=>this._service.search(t).pipe(Object(a.a)(()=>this.searchFailed=!1),Object(a.a)(t=>console.log(t[0].studentName)),Object(u.a)(()=>(this.searchFailed=!0,Object(n.a)([]))))),Object(a.a)(()=>this.searching=!1)),this.formatter=t=>t.studentName+" <"+t.email+">",console.log("name-lookup constructor!")}ngOnInit(){this.subscribeForStudentGUIds2()}onSelect(t){console.log(t.item.studentId),console.log(t.item.studentGUId),this.currentGUId=t.item.studentGUId,this.store.dispatch(new b.c(this.currentGUId)),this.email=t.item.email,this.studentName=t.item.studentName}onFocus(){const t=document.getElementById("search-string");t.focus(),t.select()}onInput(){0===document.getElementById("search-string").value.length&&this.resetStudentData()}onClear(){console.log("onClear");const t=document.getElementById("search-string");t.focus(),t.value="",this.resetStudentData()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: header new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&(this.currentGUId=this.studentGUId,this.fetchData())})}resetStudentData(){console.log("studentLookup reset"),this.currentGUId="0000",this.store.dispatch(new b.c(this.studentGUId))}fetchData(){this.studentData.getCurrentStudentMiniDTO(this.currentGUId).subscribe(t=>{this.studentMiniDTO=t},t=>console.error("Subscribe error: "+t),()=>{this.email=this.studentMiniDTO.email,this.studentName=this.studentMiniDTO.studentName})}gotoStudentList(){this.router.navigateByUrl("admins/students/studentList")}gotoStudent(){if("0000"!==this.currentGUId){const t=["admins/students/student",{guid:this.currentGUId}];console.log("navigating to "+t),this.router.navigate(t)}}}return t.\u0275fac=function(e){return new(e||t)(p.Mb(I),p.Mb(m.b),p.Mb(g.a),p.Mb(i.g))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-student-lookup"]],inputs:{showSearchButton:"showSearchButton"},decls:17,vars:13,consts:[["for","search-string"],[2,"margin-bottom","2px","margin-left","3rem"],[4,"ngIf"],["style","margin-bottom: 2px; margin-left: 1rem;","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between"],["id","search-string","type","text","placeholder","Last Name or First Name or Email",1,"form-control",3,"editable","ngModel","ngbTypeahead","inputFormatter","resultFormatter","ngModelChange","input","focus","selectItem"],[1,"btn",2,"margin-left","-25px",3,"click"],[1,"row"],[1,"link",2,"margin-top",".4rem","margin-left","1rem",3,"hidden","click"],[2,"margin-left","1rem","margin-top",".2rem",3,"hidden"],[1,"btn","btn-sm","btn-primary",2,"margin-bottom","2px","margin-left","1rem",3,"click"]],template:function(t,e){1&t&&(p.Rb(0,"label",0),p.Bc(1,"Search for Student:"),p.Qb(),p.Rb(2,"span",1),p.zc(3,R,2,0,"span",2),p.zc(4,y,2,0,"span",3),p.Qb(),p.Rb(5,"div",4),p.Rb(6,"input",5),p.cc("ngModelChange",(function(t){return e.studentMiniDTO=t}))("input",(function(){return e.onInput()}))("focus",(function(){return e.onFocus()}))("selectItem",(function(t){return e.onSelect(t)})),p.Qb(),p.Rb(7,"span"),p.Rb(8,"button",6),p.cc("click",(function(){return e.onClear()})),p.Rb(9,"b"),p.Bc(10,"[\u2716]"),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Rb(11,"div",7),p.Rb(12,"span",8),p.cc("click",(function(){return e.gotoStudent()})),p.Bc(13),p.Qb(),p.Nb(14,"br"),p.Rb(15,"span",9),p.Bc(16),p.Qb(),p.Qb()),2&t&&(p.zb(3),p.jc("ngIf",e.showSearchButton),p.zb(1),p.jc("ngIf",e.showSearchButton),p.zb(2),p.Eb("is-invalid",e.searchFailed),p.jc("editable",!1)("ngModel",e.studentMiniDTO)("ngbTypeahead",e.search)("inputFormatter",e.formatter)("resultFormatter",e.formatter),p.zb(6),p.jc("hidden","0000"==e.currentGUId),p.zb(1),p.Dc("Student Profile: ",e.studentName," "),p.zb(2),p.jc("hidden","0000"==e.currentGUId),p.zb(1),p.Dc(" Email: ",e.email," "))},directives:[f.l,v.b,S.e,v.m,v.o],styles:[".form-control[_ngcontent-%COMP%] { width: 300px; display: inline; }"]}),Object(s.a)([Object(i.d)(h.a.getSelectedStudentGUId),Object(s.b)("design:type",o.a)],t.prototype,"currentGUId$",void 0),t})()}}]);