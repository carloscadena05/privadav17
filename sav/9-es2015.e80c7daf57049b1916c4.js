(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+nnP":function(t,n,e){"use strict";e.r(n),e.d(n,"ConfidentialModule",(function(){return ct}));var o=e("ofXK"),i=e("1kSV"),s=e("UBNF"),a=e("tyNb"),r=e("LA/q"),c=e("fXoL"),d=e("mrSG"),l=e("AcyG"),u=e("HDdC"),b=e("dfvj"),h=e("qGxU"),p=e("7iOT"),g=e("CZ4s");let m=(()=>{class t{constructor(t){this.router=t,console.log("hi from student-header constructor")}ngOnInit(){this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: header new StudentGUId received"+this.studentGUId)})}}return t.\u0275fac=function(n){return new(n||t)(c.Mb(a.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-student-header-confidential"]],decls:11,vars:1,consts:[[1,"row"],[1,"col-4"],[3,"showSearchButton"],[1,"col-2"],[1,"col-6"]],template:function(t,n){1&t&&(c.Rb(0,"div"),c.Rb(1,"div",0),c.Rb(2,"div",1),c.Rb(3,"div",0),c.Nb(4,"app-student-lookup",2),c.Qb(),c.Qb(),c.Rb(5,"div",3),c.Rb(6,"div",0),c.Nb(7,"app-student-photo"),c.Qb(),c.Qb(),c.Rb(8,"div",4),c.Rb(9,"div",0),c.Nb(10,"app-student-header-details"),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(4),c.jc("showSearchButton",!1))},directives:[h.a,p.a,g.a],encapsulation:2}),Object(d.a)([Object(l.d)(b.a.getSelectedStudentGUId),Object(d.b)("design:type",u.a)],t.prototype,"currentGUId$",void 0),t})();var f=e("WYmY"),v=e("tk/3"),R=e("JIr8"),y=e("jEWH"),C=e("HS3z");let M=(()=>{class t extends y.a{constructor(t,n){super(t,n),this.http=t,this.webApiPrefixService=n}getConfidentialReportRPTsViaGUID(t,n){const e=this.WebApiPrefix+"confidential_reports/"+t+"/"+n;return console.log("sending AuthHttp get request for ConfidentailReports with "+e),this.http.get(e).pipe(Object(R.a)(this.handleError))}getLatestConfidentialReportRPTs(){const t=this.WebApiPrefix+"confidential_reports";return console.log("sending AuthHttp get request for ConfidentailReports with "+t),this.http.get(t).pipe(Object(R.a)(this.handleError))}addConfidentialReport(t){const n=this.WebApiPrefix+"confidential_reports";let e=JSON.stringify({confidentialReport:t});const o=JSON.parse(e);e=JSON.stringify(o.confidentialReport);const i=(new v.c).set("Content-Type","application/json");return this.http.post(n,e,{headers:i})}}return t.\u0275fac=function(n){return new(n||t)(c.Zb(v.a),c.Zb(C.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var I=e("Dn1Q"),S=e("T8Dl"),w=e("JlJ6"),O=e("MEvh"),Q=e("aNuS");function k(t,n){if(1&t&&(c.Rb(0,"div",2),c.Rb(1,"div",3),c.Rb(2,"div",4),c.Rb(3,"span",5),c.Bc(4),c.Qb(),c.Rb(5,"span",5),c.Bc(6),c.fc(7,"truncateDate"),c.Qb(),c.Rb(8,"span",5),c.Bc(9),c.fc(10,"alphaMonth"),c.Qb(),c.Rb(11,"span",5),c.Bc(12," \xa0Emoji: "),c.Nb(13,"img",6),c.Qb(),c.Qb(),c.Rb(14,"div",4),c.Rb(15,"div",7),c.Bc(16," \xa0Narrative (English): "),c.Qb(),c.Nb(17,"div",8),c.fc(18,"unsafeHtml"),c.Qb(),c.Rb(19,"div",4),c.Rb(20,"div",7),c.Bc(21," \xa0Narrative (Spanish): "),c.Qb(),c.Nb(22,"div",8),c.fc(23,"unsafeHtml"),c.Qb(),c.Qb(),c.Qb()),2&t){const t=n.$implicit,e=c.ec();c.zb(4),c.Dc(" \xa0Reported By: ",t.adminName," "),c.zb(2),c.Dc(" \xa0Report Date: ",c.gc(7,7,t.reportDateTime)," "),c.zb(3),c.Ec(" \xa0Last Contact Month: ",c.gc(10,9,t.lastContactMonth),"-",t.lastContactYear," "),c.zb(4),c.kc("src",e.smileys[t.emoji+1],c.uc),c.zb(4),c.jc("innerHTML",c.gc(18,11,t.narrative_English),c.tc),c.zb(5),c.jc("innerHTML",c.gc(23,13,t.narrative_Spanish),c.tc)}}let j=(()=>{class t{constructor(t){this.router=t,console.log("###confidentialReportsList constructor"),this.smileys=f.a.smileys}monthlyReportEdit(t){console.log("in monthly-reports2: monthlyReportEdit, ready to navigate"),null!==this.studentId&&this.router.navigateByUrl("/confidential/monthly-reports-edit/"+t)}}return t.\u0275fac=function(n){return new(n||t)(c.Mb(a.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-confidential-reports-list"]],inputs:{confidentialReports:"confidentialReports"},decls:2,vars:1,consts:[[1,"card-body","bg-white"],["class","row","style","border-bottom: 3px solid #ccc; margin-top: 2px;",4,"ngFor","ngForOf"],[1,"row",2,"border-bottom","3px solid #ccc","margin-top","2px"],[1,"col-md-12"],[1,"row"],[1,"padded"],["width","28px",3,"src"],[1,"col-md2","padded"],[1,"col-md-10",3,"innerHTML"]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.zc(1,k,24,15,"div",1),c.Qb()),2&t&&(c.zb(1),c.jc("ngForOf",n.confidentialReports))},directives:[o.k],pipes:[w.a,O.a,Q.a],encapsulation:2}),t})();function z(t,n){if(1&t&&(c.Rb(0,"div",4),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Dc(" ",t.errorMessage,"\n")}}function P(t,n){1&t&&(c.Rb(0,"div",5),c.Nb(1,"app-loading-container"),c.Qb())}function G(t,n){if(1&t){const t=c.Sb();c.Rb(0,"div",7),c.Rb(1,"div",8),c.Rb(2,"span"),c.Bc(3,"Past Reports / Informes Anteriores -- "),c.Qb(),c.Rb(4,"span"),c.Bc(5),c.Qb(),c.Rb(6,"span"),c.Rb(7,"span"),c.Rb(8,"span",9),c.cc("click",(function(){return c.sc(t),c.ec(2).confidentialReportAdd()})),c.Bc(9," Add New Report /A\xf1adir un Nuevo Informe "),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Nb(10,"app-confidential-reports-list",10),c.Qb()}if(2&t){const t=c.ec(2);c.zb(5),c.Cc(t.studentName),c.zb(5),c.jc("confidentialReports",t.confidentialReports)}}function N(t,n){if(1&t&&(c.Rb(0,"div"),c.zc(1,G,11,2,"div",6),c.Qb()),2&t){const t=c.ec();c.zb(1),c.jc("ngIf",!t.errorMessage)}}let _=(()=>{class t{constructor(t,n,e,o){this.currRoute=t,this.router=n,this.confidentialReportData=e,this.session=o,console.log("confidentialReports constructor"),this.smileys=f.a.smileys}ngOnInit(){console.log("confidentialReports ngOnInit"),this.adminId=this.session.getUserId(),console.log("mentorId "+this.adminId),this.haveCurrentReport=!1,this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: header new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchData()})}fetchData(){console.log("cr fetchData"),this.isLoading=!0,this.isLoading=!0,this.haveCurrentReport=!1,this.confidentialReportData.getConfidentialReportRPTsViaGUID(0,this.studentGUId).subscribe(t=>{this.confidentialReports=t},t=>console.error("Subscribe error: "+t),()=>{console.log("done: "),this.isLoading=!1;for(const t of this.confidentialReports)2086===t.reviewedStatusId&&(this.haveCurrentReport=!0)})}confidentialReportAdd(){if(console.log("in confidential-reports: monthlyReportAdd, ready to navigate"),console.log(this.studentGUId),null!==this.studentGUId){const t=["/confidential/confidential-reports-add",{adminId:this.adminId,studentGUId:this.studentGUId}];console.log("navigating to "+JSON.stringify(t)),this.router.navigate(t)}}confidentialReportEdit(t){console.log("in confidential-reports: confidentialReportEdit, ready to navigate"),null!==this.studentGUId&&this.router.navigateByUrl("/confidential/confidential-reports-edit/"+t)}}return t.\u0275fac=function(n){return new(n||t)(c.Mb(a.a),c.Mb(a.b),c.Mb(M),c.Mb(I.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-confidential-reports"]],decls:6,vars:4,consts:[["class","alert alert-danger",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"text-center","col-md-4","col-md-offset-4"],["class","card bg-primary",4,"ngIf"],[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],["data-cy","add-confidential",1,"btn","btn-default","active",2,"margin","4px 0 0 10px",3,"click"],[3,"confidentialReports"]],template:function(t,n){1&t&&(c.zc(0,z,2,1,"div",0),c.Rb(1,"h4"),c.Bc(2,"\xa0"),c.Qb(),c.Rb(3,"div",1),c.zc(4,P,2,0,"div",2),c.zc(5,N,2,1,"div",3),c.Qb()),2&t&&(c.jc("ngIf",n.errorMessage),c.zb(3),c.jc("ngSwitch",n.isLoading),c.zb(1),c.jc("ngSwitchCase",!0),c.zb(1),c.jc("ngSwitchCase",!1))},directives:[o.l,o.m,o.n,S.a,j],encapsulation:2}),Object(d.a)([Object(l.d)(b.a.getSelectedStudentGUId),Object(d.b)("design:type",u.a)],t.prototype,"currentGUId$",void 0),t})();function D(t,n){1&t&&c.Nb(0,"app-confidential-reports")}let B=(()=>{class t{constructor(t){this.route=t}ngOnInit(){this.processRouteParams()}processRouteParams(){console.log(" getting studentGUId from queryParams");const t=this.route.snapshot.queryParams.studentGUId;t&&console.log("ConfHome: have studentGUId from route "+t)}}return t.\u0275fac=function(n){return new(n||t)(c.Mb(a.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-confidential-home"]],decls:8,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"col"],["title","Confidential Reports"],["ngbTabContent",""]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Nb(2,"app-student-header-confidential"),c.Qb(),c.Qb(),c.Rb(3,"div",0),c.Rb(4,"div",2),c.Rb(5,"ngb-tabset"),c.Rb(6,"ngb-tab",3),c.zc(7,D,1,0,"ng-template",4),c.Qb(),c.Qb(),c.Qb(),c.Qb())},directives:[m,i.d,i.b,i.c,_],encapsulation:2}),t})();var x=e("3Pt+");class U{constructor(t,n,e,o,i,s,a,r,c,d){this.confidentialReportId=t,this.adminId=n,this.reportDateTime=e,this.lastContactYear=o,this.lastContactMonth=i,this.emoji=s,this.narrative_English=a,this.narrative_Spanish=r,this.reviewedStatusId=c,this.studentGUId=d}}var A=e("EoNH");function E(t,n){if(1&t&&(c.Rb(0,"div",33),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.errorMessage)}}function F(t,n){if(1&t&&(c.Rb(0,"div",34),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.successMessage)}}function q(t,n){if(1&t&&(c.Rb(0,"option",14),c.Bc(1),c.Qb()),2&t){const t=n.$implicit;c.jc("value",t.value),c.zb(1),c.Cc(t.label)}}function L(t,n){1&t&&(c.Rb(0,"span",35),c.Bc(1," Select Year"),c.Qb())}function T(t,n){if(1&t&&(c.Rb(0,"option",14),c.Bc(1),c.Qb()),2&t){const t=n.$implicit;c.jc("value",t.value),c.zb(1),c.Cc(t.label)}}function H(t,n){1&t&&(c.Rb(0,"span",35),c.Bc(1,"Please select an emoji."),c.Qb())}const V=function(t){return{red:t}},Y=function(){return{required:"An entry is required, even if it is just N/A. Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"Entry cannot exceed 4000 characters in length.<br />La entrada no puede exceder 4000 caracteres del largo."}};let J=(()=>{class t{constructor(t,n,e,o,i){this.currRoute=t,this.router=n,this.confidentialReportData=e,this._fb=o,this.session=i,this.confidentialReport=new U,this.isSubmitted=!1,this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.contactYears=f.a.years,this.contactMonths=f.a.months,console.log("Hi from MonthlyReportsAddComponent"),this.myForm=o.group({lastContactYearSelector:["2020"],lastContactMonthSelector:["0",{validators:[this.validateMonth]}],inputEmoji:[666,{validators:[x.u.required,this.validateEmojis]}],narrative_English:["",x.u.required],narrative_Spanish:[""],confidentialReportId:[this.reportIdCtl]}),this.lastYearCtl=this.myForm.controls.lastContactYearSelector,this.lastMonthCtl=this.myForm.controls.lastContactMonthSelector,this.emojiCtl=this.myForm.controls.inputEmoji,this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.confidentialReportId,this.confidentialReport.reviewedStatusId=2087,this.errorMessage="",this.successMessage="",this.isSubmitted=!1}ngOnInit(){console.log("monthlyReportsAdd ngOnInit"),this.confidentialReport.adminId=this.currRoute.snapshot.params.adminId,this.confidentialReport.studentGUId=this.currRoute.snapshot.params.studentGUId,console.log("mentorId "+this.confidentialReport.adminId),console.log("studentGUId "+this.confidentialReport.studentGUId);const t=new Date;this.confidentialReport.reportDateTime=new Date(t.getTime()-6e4*t.getTimezoneOffset()),console.log("reportDateTime = "+this.confidentialReport.reportDateTime),this.confidentialReport.lastContactYear=2020,this.confidentialReport.lastContactMonth=0,this.myForm.valueChanges.subscribe(t=>{console.log("valueChanges fired for form with values"),console.log(JSON.stringify(t)),this.errorMessage="",this.successMessage="",this.isSubmitted=!1,this.checkFormControlsAreValid(!1)})}checkFormControlsAreValid(t){console.log("checking for valid form controls");let n=!0;return this.errorMessage="",this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.lastMonthCtl.invalid&&(this.lastMonthCtl.dirty||t)&&(this.monthValidationMessage="Please select the correct month. Por favor selecciona el mes corecto",n=!1),this.emojiCtl.invalid&&(this.emojiCtl.dirty||t)&&(this.emojiValidationMessage="An emoji must be selected. Se debe seleccionar un Emoji",n=!1),this.narrative_EnglishCtl.invalid&&(this.narrative_EnglishCtl.dirty||t)&&(this.narrativeValidationMessage="Description must be filled in. Descripcione debe rellenarse",n=!1),window.scrollTo(0,0),n}onSubmit(){console.log("Hi from mentor Report2 Submit"),this.isSubmitted||this.checkFormControlsAreValid(!0)&&(this.isSubmitted=!0,console.log("###before submitting update model with form control values"),this.confidentialReport.lastContactYear=this.lastYearCtl.value,this.confidentialReport.lastContactMonth=this.lastMonthCtl.value,this.confidentialReport.emoji=this.emojiCtl.value,this.confidentialReport.narrative_English=this.narrative_EnglishCtl.value,this.confidentialReport.narrative_Spanish=this.narrative_SpanishCtl.value,this.confidentialReportData.addConfidentialReport(this.confidentialReport).subscribe(t=>{console.log(this.successMessage=t),this.isLoading=!1,console.log("after call to addConfidentialReport; navigating to /confidential"),this.router.navigateByUrl("/confidential")},t=>{this.errorMessage=t,this.isLoading=!1}),this.isSubmitted=!0)}onCancel(){console.log("navigating to /confidential"),this.router.navigateByUrl("/confidential")}validateMonth(t){return console.log("validateMonth has input "+t.value),""+t.value=="0"?(console.log("validateMonth failed"),{validateMonth:!0}):null}validateEmojis(t){return 666===t.value?(console.log("validate emoji failed"),{validateEmojis:!0}):null}hasChanges(){return console.log("hasChanges has submitted "+this.isSubmitted),console.log("hasChanges has form dirty "+this.myForm.dirty),this.myForm.dirty&&!this.isSubmitted}}return t.\u0275fac=function(n){return new(n||t)(c.Mb(a.a),c.Mb(a.b),c.Mb(M),c.Mb(x.d),c.Mb(I.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],decls:71,vars:20,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],[1,"controls"],["for","lastContactYearSelector"],["formControlName","lastContactYearSelector"],[3,"value",4,"ngFor","ngForOf"],["class","red",4,"ngIf"],["formControlName","lastContactMonthSelector"],[3,"value"],[3,"ngClass"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","1",3,"checked"],["src","/assets/images/celebrate.jpg","width","32px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","0",3,"checked"],["src","/assets/images/thumbsUp.jpg","width","30px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","-1",3,"checked"],["src","/assets/images/needsAttention.jpg","width","30px"],["hidden","",1,"controls"],["for","confidentialReportId"],["id","confidentialReportId","formControlName","confidentialReportId","type","text",1,"form-control","input-sm"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm"],["success",""],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],["type","submit",1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"red"]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Bc(2),c.Qb(),c.Rb(3,"div",2),c.zc(4,E,2,1,"div",3),c.zc(5,F,2,1,"div",4),c.Rb(6,"form",5),c.cc("ngSubmit",(function(){return n.onSubmit()})),c.Rb(7,"fieldset",6),c.Rb(8,"div",7),c.Rb(9,"div",8),c.Rb(10,"label",9),c.Bc(11," Year/Month you Last Communicated with Student"),c.Nb(12,"br"),c.Bc(13,"A\xf1o/Mes la \xfaltima vez que se comunic\xf3 con el estudiante\xa0"),c.Qb(),c.Rb(14,"select",10),c.zc(15,q,2,2,"option",11),c.Qb(),c.zc(16,L,2,0,"span",12),c.Rb(17,"select",13),c.Rb(18,"option",14),c.Bc(19,"Select Month"),c.Qb(),c.zc(20,T,2,2,"option",11),c.Qb(),c.Rb(21,"span",15),c.Bc(22),c.Qb(),c.Qb(),c.Qb(),c.Rb(23,"div",7),c.Rb(24,"div",8),c.Rb(25,"span"),c.Bc(26," Student Emoji: (How are things going overall with the student?)"),c.Nb(27,"br"),c.Bc(28,"Emoji de Estudiante: (c\xf3mo van las cosas en general con el estudiante?)"),c.Qb(),c.Rb(29,"label"),c.Bc(30,"\xa0\xa0\xa0\xa0 "),c.Nb(31,"input",16),c.Nb(32,"img",17),c.Bc(33," Celebrar "),c.Qb(),c.Rb(34,"label"),c.Bc(35,"\xa0\xa0\xa0\xa0 "),c.Nb(36,"input",18),c.Nb(37,"img",19),c.Bc(38," Todo Bien "),c.Qb(),c.Rb(39,"label"),c.Bc(40,"\xa0\xa0\xa0\xa0 "),c.Nb(41,"input",20),c.Nb(42,"img",21),c.Bc(43," Problemas "),c.zc(44,H,2,0,"span",12),c.Qb(),c.Qb(),c.Qb(),c.Rb(45,"div",22),c.Rb(46,"label",23),c.Bc(47,"Id"),c.Qb(),c.Rb(48,"textarea",24),c.Bc(49,"          "),c.Qb(),c.Qb(),c.Rb(50,"div",8),c.Rb(51,"label",25),c.Bc(52,"Describe positive events or special challenges in the student's life during the past month"),c.Nb(53,"br"),c.Bc(54,"Describa logros y eventos positivos o obst\xe1culos en la vida del estudiante"),c.Qb(),c.Rb(55,"textarea",26,27),c.Bc(57,"          "),c.Qb(),c.Nb(58,"app-display-errors",28),c.Qb(),c.Rb(59,"div",29),c.Rb(60,"span"),c.Rb(61,"button",30),c.cc("click",(function(){return n.onSubmit()})),c.Bc(62," Submit "),c.Qb(),c.Qb(),c.Bc(63,"\xa0 "),c.Rb(64,"span"),c.Rb(65,"button",31),c.cc("click",(function(){return n.onCancel()})),c.Bc(66," Cancel "),c.Qb(),c.Rb(67,"div",32),c.Bc(68,"Year, Month, Emoji and description must be filled in before saving."),c.Nb(69,"br"),c.Bc(70,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(2),c.Dc(" Confidential Report for ",n.studentName," "),c.zb(2),c.jc("ngIf",n.errorMessage),c.zb(1),c.jc("ngIf",n.successMessage),c.zb(1),c.jc("formGroup",n.myForm),c.zb(1),c.jc("disabled",n.isSubmitted),c.zb(8),c.jc("ngForOf",n.contactYears),c.zb(1),c.jc("ngIf",!n.lastYearCtl.valid&&n.lastYearCtl.touched),c.zb(2),c.jc("value",0),c.zb(2),c.jc("ngForOf",n.contactMonths),c.zb(1),c.jc("ngClass",c.nc(17,V,n.monthValidationMessage)),c.zb(1),c.Cc(n.monthValidationMessage),c.zb(9),c.jc("checked",1==n.emojiCtl.value),c.zb(5),c.jc("checked",0==n.emojiCtl.value),c.zb(5),c.jc("checked",-1==n.emojiCtl.value),c.zb(3),c.jc("ngIf",n.emojiCtl.hasError("required")),c.zb(14),c.jc("errors",c.mc(19,Y)),c.zb(9),c.jc("hidden",n.myForm.valid))},directives:[o.l,x.w,x.n,x.f,x.t,x.m,x.e,o.k,x.p,x.v,o.j,x.q,x.b,A.a],encapsulation:2}),t})();function X(t,n){if(1&t&&(c.Rb(0,"span",8),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.errorMessage)}}function Z(t,n){if(1&t&&(c.Rb(0,"span",9),c.Bc(1),c.Qb()),2&t){const t=c.ec();c.zb(1),c.Cc(t.successMessage)}}function $(t,n){1&t&&(c.Rb(0,"div",10),c.Nb(1,"app-loading-container"),c.Qb())}function K(t,n){if(1&t){const t=c.Sb();c.Rb(0,"div",12),c.Rb(1,"div",13),c.Rb(2,"div",14),c.Bc(3," \xa0 "),c.Rb(4,"span",15),c.cc("click",(function(){c.sc(t);const e=n.$implicit;return c.ec(2).gotoStudent(e.studentGUId,e.studentName)})),c.Bc(5),c.Qb(),c.Rb(6,"span",16),c.Bc(7),c.Qb(),c.Qb(),c.Rb(8,"div",17),c.Rb(9,"span",16),c.Bc(10),c.Qb(),c.Qb(),c.Rb(11,"div",17),c.Rb(12,"span",16),c.Bc(13),c.fc(14,"truncateDate"),c.Qb(),c.Rb(15,"span",16),c.Bc(16),c.fc(17,"alphaMonth"),c.Qb(),c.Rb(18,"span",16),c.Bc(19," \xa0Emoji: "),c.Nb(20,"img",18),c.Qb(),c.Qb(),c.Rb(21,"div",19),c.Rb(22,"div",20),c.Bc(23," \xa0Description (English) "),c.Qb(),c.Nb(24,"div",21),c.fc(25,"unsafeHtml"),c.Qb(),c.Rb(26,"div",19),c.Rb(27,"div",20),c.Bc(28," \xa0Description (Spanish) "),c.Qb(),c.Nb(29,"div",21),c.fc(30,"unsafeHtml"),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=n.$implicit,e=c.ec(2);c.zb(2),c.kc("id",t.confidentialReportId),c.zb(3),c.Dc(" [Student: ",t.studentName," ] "),c.zb(2),c.Dc(" [Sponsor: ",t.sponsorGroupName," ] "),c.zb(3),c.Dc(" \xa0Reviewed Status: ",t.reviewedStatus," "),c.zb(3),c.Dc(" \xa0Submitted Date: ",c.gc(14,12,t.reportDateTime)," "),c.zb(3),c.Ec(" \xa0Last Contact Month: ",c.gc(17,14,t.lastContactMonth),"-",t.lastContactYear," "),c.zb(4),c.kc("src",e.smileys[t.emoji+1],c.uc),c.zb(1),c.jc("hidden",!e.displayOriginalFields),c.zb(3),c.jc("innerHTML",c.gc(25,16,t.narrative_English),c.tc),c.zb(2),c.jc("hidden",!e.displayOriginalFields),c.zb(3),c.jc("innerHTML",c.gc(30,18,t.narrative_Spanish),c.tc)}}function W(t,n){if(1&t&&(c.Rb(0,"div"),c.zc(1,K,31,20,"div",11),c.Qb()),2&t){const t=c.ec();c.zb(1),c.jc("ngForOf",t.confidentialReports)}}let tt=(()=>{class t{constructor(t,n,e,o){this.router=t,this.session=n,this.confidntialReportData=e,this.route=o,this.displayOriginalFields=!0,this.years=f.a.years,this.months=f.a.months,this.smileys=f.a.smileys}ngOnInit(){console.log("onInit"),this.processRouteParams(),this.fetchFilteredData()}processRouteParams(){}fetchFilteredData(){this.isLoading=!0,console.log("in fetchData for LatedConfidentialReports"),this.confidntialReportData.getLatestConfidentialReportRPTs().subscribe(t=>{this.confidentialReports=t,console.log("mentorReportByMonth has")},t=>console.error("Subscribe error: "+t),()=>{console.log("data loaded now set timeout for scroll"),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1})}scrollIntoView(){if(console.log("in scrollIntoView"),this.route.snapshot.queryParams.id){console.log(this.route.snapshot.queryParams.id);const t="#"+this.route.snapshot.queryParams.id;console.log("id param = "+this.route.snapshot.queryParams.id);const n=document.querySelector(t);n&&(console.log("querySelector returns element "+n),n.scrollIntoView(!0))}}gotoStudent(t,n){console.log("setting studentName to "+n);const e=["admins/students/student",{guid:t}];console.log("navigating to "+e),this.router.navigate(e)}getHighlightColor(t){return 2106===t?"green-row":2105===t?"red-row":""}addDays(t,n){const e=new Date(t);return e.setDate(e.getDate()+n),e}}return t.\u0275fac=function(n){return new(n||t)(c.Mb(a.b),c.Mb(I.a),c.Mb(M),c.Mb(a.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],decls:11,vars:5,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["class","row","style","border-bottom: 3px solid #ccc; margin-top: 2px;",4,"ngFor","ngForOf"],[1,"row",2,"border-bottom","3px solid #ccc","margin-top","2px"],[1,"col-md-12"],[1,"row",3,"id"],[1,"padded","link",3,"click"],[1,"padded"],[1,"row"],["width","24px",3,"src"],[1,"row",3,"hidden"],[1,"col-md2","padded"],[1,"col-md-10",3,"innerHTML"]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Bc(2," Confidential Report Review "),c.Qb(),c.Rb(3,"div",2),c.zc(4,X,2,1,"span",3),c.zc(5,Z,2,1,"span",4),c.Nb(6,"div"),c.Rb(7,"div",5),c.zc(8,$,2,0,"div",6),c.zc(9,W,2,1,"div",7),c.Qb(),c.Qb(),c.Qb(),c.Bc(10," l")),2&t&&(c.zb(4),c.jc("ngIf",n.errorMessage),c.zb(1),c.jc("ngIf",n.successMessage),c.zb(2),c.jc("ngSwitch",n.isLoading),c.zb(1),c.jc("ngSwitchCase",!0),c.zb(1),c.jc("ngSwitchCase",!1))},directives:[o.l,o.m,o.n,S.a,o.k],pipes:[w.a,O.a,Q.a],styles:[".green-row[_ngcontent-%COMP%]{background-color:#dff0d8}.red-row[_ngcontent-%COMP%]{background-color:#ffb6c1}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),t})();const nt=function(){return["active"]},et=function(){return["/confidential/tracking"]},ot=function(){return["/confidential"]},it=function(){return{exact:!0}};let st=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-confidential-navbar"]],decls:5,vars:10,consts:[[3,"routerLinkActive","routerLink"],[3,"routerLinkActive","routerLink","routerLinkActiveOptions"]],template:function(t,n){1&t&&(c.Rb(0,"nav"),c.Rb(1,"a",0),c.Bc(2,"Review Status"),c.Qb(),c.Rb(3,"a",1),c.Bc(4,"Review/Edit Reports"),c.Qb(),c.Qb()),2&t&&(c.zb(1),c.jc("routerLinkActive",c.mc(5,nt))("routerLink",c.mc(6,et)),c.zb(2),c.jc("routerLinkActive",c.mc(7,nt))("routerLink",c.mc(8,ot))("routerLinkActiveOptions",c.mc(9,it)))},directives:[a.d,a.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:38px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#add8e6}"]}),t})();const at=[{path:"",component:(()=>{class t{constructor(){console.log("ConfidentialComponent")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["ng-component"]],decls:2,vars:0,template:function(t,n){1&t&&(c.Nb(0,"app-confidential-navbar"),c.Nb(1,"router-outlet"))},directives:[st,a.f],encapsulation:2}),t})(),canActivate:[r.a],children:[{path:"",pathMatch:"full",component:B},{path:"confidential-reports-add",component:J},{path:"tracking",component:tt}]}];let rt=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(n){return new(n||t)},imports:[[a.e.forChild(at)],a.e]}),t})(),ct=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(n){return new(n||t)},imports:[[o.c,s.a,rt,i.a]]}),t})()},"7iOT":function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var o=e("mrSG"),i=e("AcyG"),s=e("HDdC"),a=e("dfvj"),r=e("fXoL"),c=e("HS3z"),d=e("ofXK");function l(t,n){if(1&t&&(r.Rb(0,"div"),r.Rb(1,"div",3),r.Nb(2,"img",4),r.Qb(),r.Qb()),2&t){const t=r.ec();r.zb(2),r.jc("src",t.fullPhotoPathname,r.uc)}}let u=(()=>{class t{constructor(t){console.log("hi from student-photo constructor"),this.clientUrl=t.getClientUrl(),this.subscribeForPhotoPathname()}subscribeForPhotoPathname(){this.subscription=this.photoPathname$.subscribe(t=>{this.photoPathname=t,console.log("************NGXS: photoPathname received"+this.photoPathname),this.fullPhotoPathname=this.clientUrl+"/assets/images/StudentPhotos/"+this.photoPathname})}}return t.\u0275fac=function(n){return new(n||t)(r.Mb(c.a))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-student-photo"]],decls:3,vars:1,consts:[[1,"row"],[1,"col"],[4,"ngIf"],[2,"width","100%"],["height","160",3,"src"]],template:function(t,n){1&t&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.zc(2,l,3,1,"div",2),r.Qb(),r.Qb()),2&t&&(r.zb(2),r.jc("ngIf",n.fullPhotoPathname))},directives:[d.l],encapsulation:2}),Object(o.a)([Object(i.d)(a.a.getPhotoPathname),Object(o.b)("design:type",s.a)],t.prototype,"photoPathname$",void 0),t})()},CZ4s:function(t,n,e){"use strict";e.d(n,"a",(function(){return g}));var o=e("mrSG"),i=e("AcyG"),s=e("HDdC"),a=e("6VDH"),r=e("dfvj"),c=e("fXoL"),d=e("2vts"),l=e("ofXK"),u=e("T8Dl");function b(t,n){1&t&&c.Nb(0,"div",4)}function h(t,n){1&t&&(c.Rb(0,"div",5),c.Nb(1,"app-loading-container"),c.Qb())}function p(t,n){if(1&t&&(c.Rb(0,"div"),c.Rb(1,"div",6),c.Rb(2,"div",7),c.Rb(3,"label"),c.Bc(4,"Year Joined JA:"),c.Qb(),c.Bc(5),c.Rb(6,"label"),c.Bc(7,"Grad Year/Month:"),c.Qb(),c.Bc(8),c.Qb(),c.Qb(),c.Rb(9,"div",6),c.Rb(10,"div",7),c.Rb(11,"label"),c.Bc(12,"Major:"),c.Qb(),c.Bc(13),c.Nb(14,"br"),c.Rb(15,"label"),c.Bc(16,"University:"),c.Qb(),c.Bc(17),c.Nb(18,"br"),c.Rb(19,"label"),c.Bc(20,"Mentor Name:"),c.Qb(),c.Bc(21),c.Nb(22,"br"),c.Rb(23,"label"),c.Bc(24,"Sponsor Name:"),c.Qb(),c.Bc(25),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.ec();c.zb(5),c.Dc(" ",t.student.yearJoinedJa,"\xa0\xa0\xa0\xa0\xa0 "),c.zb(3),c.Ec(" ",t.student.gradYear," / ",t.student.gradMonth," "),c.zb(5),c.Dc(" ",t.student.major," "),c.zb(4),c.Dc(" ",t.student.universityName," "),c.zb(4),c.Dc(" ",t.student.mentorName," "),c.zb(4),c.Dc(" ",t.student.sponsorGroupName," ")}}let g=(()=>{class t{constructor(t,n,e){this.store=t,this.studentData=n,this.location=e,this.loadingState=0,this.bReadOnly=!0,console.log("hi from StudentHeaderDetails constructor"),this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){this.loadingState=0,this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: header details new StudentGUId received"+this.studentGUId),this.fetchData()})}fetchData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&(this.loadingState=1,this.studentData.getStudentHeaderDTO(this.studentGUId).subscribe(t=>{this.student=t},t=>{this.errorMessage=t},()=>{this.loadingState=2,this.store.dispatch(new a.b(this.student.photoUrl))}))}}return t.\u0275fac=function(n){return new(n||t)(c.Mb(i.g),c.Mb(d.a),c.Mb(l.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-student-header-details"]],decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-center col-md-12 ",4,"ngSwitchCase"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"text-center","col-md-12"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"row"],[1,"col-12"]],template:function(t,n){1&t&&(c.Rb(0,"div",0),c.zc(1,b,1,0,"div",1),c.zc(2,h,2,0,"div",2),c.zc(3,p,26,7,"div",3),c.Qb()),2&t&&(c.jc("ngSwitch",n.loadingState),c.zb(1),c.jc("ngSwitchCase",0),c.zb(1),c.jc("ngSwitchCase",1),c.zb(1),c.jc("ngSwitchCase",2))},directives:[l.m,l.n,u.a],encapsulation:2}),Object(o.a)([Object(i.d)(r.a.getSelectedStudentGUId),Object(o.b)("design:type",s.a)],t.prototype,"currentGUId$",void 0),t})()},EoNH:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var o=e("fXoL"),i=e("3Pt+");let s=(()=>{class t{constructor(t){this.myFormGroupDirective=t}get currentError(){this.myFormGroup=this.myFormGroupDirective.control;const t=this.myFormGroup.controls[this.control];let n=[];return!t||!t.touched&&t.pristine||(n=Object.keys(this.errors).map(n=>t.hasError(n)?this.errors[n]:null).filter(t=>!!t)),n.pop()}}return t.\u0275fac=function(n){return new(n||t)(o.Mb(i.f,1))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-display-errors"]],inputs:{errors:"errors",control:"control"},decls:2,vars:1,template:function(t,n){1&t&&(o.Rb(0,"div"),o.Bc(1),o.Qb()),2&t&&(o.zb(1),o.Cc(n.currentError))},encapsulation:2}),t})()},JlJ6:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("fXoL");let i=(()=>{class t{transform(t){const n=null!=t?t.indexOf("T"):0;return t="1900-01-01T00:00:00"===t?"":t,n>0?t.substring(0,n):""}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=o.Lb({name:"truncateDate",type:t,pure:!0}),t})()},Kj3r:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var o=e("7o/Q"),i=e("D0XW");function s(t,n=i.a){return e=>e.lift(new a(t,n))}class a{constructor(t,n){this.dueTime=t,this.scheduler=n}call(t,n){return n.subscribe(new r(t,this.dueTime,this.scheduler))}}class r extends o.a{constructor(t,n,e){super(t),this.dueTime=n,this.scheduler=e,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},"LA/q":function(t,n,e){"use strict";e.d(n,"a",(function(){return r})),e.d(n,"b",(function(){return c})),e.d(n,"c",(function(){return d})),e.d(n,"d",(function(){return l})),e.d(n,"g",(function(){return u})),e.d(n,"f",(function(){return b})),e.d(n,"e",(function(){return h}));var o=e("dLGn"),i=e("Dn1Q"),s=e("fXoL"),a=e("tyNb");let r=(()=>{class t{constructor(t,n,e){this.auth=t,this.router=n,this.session=e}canActivate(t,n){return console.log("canActivate for Admin AuthGuard with url"+n.url),this.auth.loggedIn?(console.log("Can Activate Admin 1"),this.session.isAdmin()?(console.log("Authenticated and Can Activate Admin"),!0):(console.log("Authenticated but unauthorized for Admin"),!1)):(console.log("Not authenticated -- Can't Activate Admin"),this.router.navigate([""]),this.auth.login(n.url),!1)}}return t.\u0275fac=function(n){return new(n||t)(s.Zb(o.a),s.Zb(a.b),s.Zb(i.a))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),c=(()=>{class t{constructor(t,n,e){this.auth=t,this.router=n,this.session=e}canActivate(t,n){return console.log("canActivate for /mentors"),this.auth.loggedIn?!!this.session.isMentor()&&(console.log("Authenticated and Can Activate Mentor"),!0):(console.log("link to Mentor but not authenticated -- save /mentors retry url:"),this.router.navigate([""]),this.auth.login(n.url),!1)}}return t.\u0275fac=function(n){return new(n||t)(s.Zb(o.a),s.Zb(a.b),s.Zb(i.a))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),d=(()=>{class t{constructor(t,n,e){this.auth=t,this.router=n,this.session=e}canActivate(t,n){return console.log("canActivate for /sponsors"),this.auth.loggedIn?!!this.session.isSponsor()&&(console.log("Authenticated and Can Activate Sponsor"),!0):(console.log("link to Sponsor but not authenticated -- save /sponsors retry url:"),this.router.navigate([""]),this.auth.login(n.url),!1)}}return t.\u0275fac=function(n){return new(n||t)(s.Zb(o.a),s.Zb(a.b),s.Zb(i.a))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t,n,e){this.auth=t,this.router=n,this.session=e}canActivate(t,n){return console.log("canActivate for /students"),this.auth.loggedIn?this.session.isStudent()?(console.log("Authenticated and Can Activate Student"),!0):(console.log("Authenticated but unauthorized for Student"),!1):(console.log("link to Mentor but not authenticated -- save /students retry url:"),this.router.navigate([""]),this.auth.login(n.url),!1)}}return t.\u0275fac=function(n){return new(n||t)(s.Zb(o.a),s.Zb(a.b),s.Zb(i.a))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u=(()=>{class t{canDeactivate(t){return!t.hasChanges()||(console.log("CanDeactivate"),window.confirm("You have unsaved changes. Click OK to leave the page without saving.\nTiene cambios no guardados. Haga clic OK para salir de la p\xe1gina sin guardar"))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b=(()=>{class t{canDeactivate(t){return t.hasChanges()?(console.log("CanDeactivate"),window.confirm("You have unsaved changes. Click OK to leave the page without saving.\nTiene cambios no guardados. Haga clic OK para salir de la p\xe1gina sin guardar")):(console.log("CanDeactivate for MRSummaryUpdates clearing unauthenticate_retry+url"),localStorage.removeItem("unauthenticated_retry_url"),!0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),h=(()=>{class t{canDeactivate(t){return t.hasChanges()?(console.log("CanDeactivate"),window.confirm("You have unsaved changes. Click OK to leave the page without saving.\nTiene cambios no guardados. Haga clic OK para salir de la p\xe1gina sin guardar")):(console.log("CanDeactivate for GradesEdit clearing unauthenticate_retry+url"),localStorage.removeItem("unauthenticated_retry_url"),!0)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},MEvh:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("fXoL");let i=(()=>{class t{constructor(){this.months=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}transform(t){return t>""?this.months[+t]:"[NO MONTH!]"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=o.Lb({name:"alphaMonth",type:t,pure:!0}),t})()},T8Dl:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e("fXoL");let i=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.Gb({type:t,selectors:[["app-loading-container"]],decls:18,vars:0,consts:[[1,"uil-squares-css",2,"transform","scale(0.25)"]],template:function(t,n){1&t&&(o.Rb(0,"div"),o.Rb(1,"div",0),o.Rb(2,"div"),o.Nb(3,"div"),o.Qb(),o.Rb(4,"div"),o.Nb(5,"div"),o.Qb(),o.Rb(6,"div"),o.Nb(7,"div"),o.Qb(),o.Rb(8,"div"),o.Nb(9,"div"),o.Qb(),o.Rb(10,"div"),o.Nb(11,"div"),o.Qb(),o.Rb(12,"div"),o.Nb(13,"div"),o.Qb(),o.Rb(14,"div"),o.Nb(15,"div"),o.Qb(),o.Rb(16,"div"),o.Nb(17,"div"),o.Qb(),o.Qb(),o.Qb())},styles:["width[_ngcontent-%COMP%]:   100%[_ngcontent-%COMP%];\n      @-webkit-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-webkit-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-moz-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-ms-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-moz-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-webkit-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @-o-keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      @keyframes uilsquare {\n        0% {\n          background-color: #047ab3;\n        }\n        1% {\n          background-color: #00cde8;\n        }\n        11% {\n          background-color: #00cde8;\n        }\n        21% {\n          background-color: #047ab3;\n        }\n        100% {\n          background-color: #047ab3;\n        }\n      }\n      .uil-squares-css[_ngcontent-%COMP%] {\n        background: none;\n        position: relative;\n        width: 200px;\n        height: 200px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n        position: absolute;\n        z-index: 1;\n        width: 40px;\n        height: 40px;\n        background-color: #047ab3;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        -ms-animation: uilsquare 1s linear infinite;\n        -moz-animation: uilsquare 1s linear infinite;\n        -webkit-animation: uilsquare 1s linear infinite;\n        -o-animation: uilsquare 1s linear infinite;\n        animation: uilsquare 1s linear infinite;\n        width: 40px;\n        height: 40px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(1) {\n        top: 30px;\n        left: 30px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(1)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0s;\n        -moz-animation-delay: 0s;\n        -webkit-animation-delay: 0s;\n        -o-animation-delay: 0s;\n        animation-delay: 0s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(2) {\n        top: 30px;\n        left: 80px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(2)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.125s;\n        -moz-animation-delay: 0.125s;\n        -webkit-animation-delay: 0.125s;\n        -o-animation-delay: 0.125s;\n        animation-delay: 0.125s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(3) {\n        top: 30px;\n        left: 130px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(3)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.25s;\n        -moz-animation-delay: 0.25s;\n        -webkit-animation-delay: 0.25s;\n        -o-animation-delay: 0.25s;\n        animation-delay: 0.25s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(4) {\n        top: 80px;\n        left: 130px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(4)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.375s;\n        -moz-animation-delay: 0.375s;\n        -webkit-animation-delay: 0.375s;\n        -o-animation-delay: 0.375s;\n        animation-delay: 0.375s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(5) {\n        top: 130px;\n        left: 130px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(5)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.5s;\n        -moz-animation-delay: 0.5s;\n        -webkit-animation-delay: 0.5s;\n        -o-animation-delay: 0.5s;\n        animation-delay: 0.5s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(6) {\n        top: 130px;\n        left: 80px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(6)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.625s;\n        -moz-animation-delay: 0.625s;\n        -webkit-animation-delay: 0.625s;\n        -o-animation-delay: 0.625s;\n        animation-delay: 0.625s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(7) {\n        top: 130px;\n        left: 30px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(7)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.75s;\n        -moz-animation-delay: 0.75s;\n        -webkit-animation-delay: 0.75s;\n        -o-animation-delay: 0.75s;\n        animation-delay: 0.75s;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(8) {\n        top: 80px;\n        left: 30px;\n      }\n      .uil-squares-css[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:nth-of-type(8)    > div[_ngcontent-%COMP%] {\n        -ms-animation-delay: 0.875s;\n        -moz-animation-delay: 0.875s;\n        -webkit-animation-delay: 0.875s;\n        -o-animation-delay: 0.875s;\n        animation-delay: 0.875s;\n      }"]}),t})()},aNuS:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var o=e("fXoL"),i=e("jhN1");let s=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}}return t.\u0275fac=function(n){return new(n||t)(o.Mb(i.b))},t.\u0275pipe=o.Lb({name:"unsafeHtml",type:t,pure:!1}),t})()},qGxU:function(t,n,e){"use strict";e.d(n,"a",(function(){return I}));var o=e("mrSG"),i=e("AcyG"),s=e("LRne"),a=e("HDdC"),r=e("vkgz"),c=e("Kj3r"),d=e("/uUt"),l=e("eIep"),u=e("JIr8"),b=e("6VDH"),h=e("dfvj"),p=e("fXoL"),g=e("2vts"),m=e("tyNb"),f=e("ofXK"),v=e("3Pt+"),R=e("1kSV");function y(t,n){1&t&&(p.Rb(0,"span"),p.Bc(1," Or: "),p.Qb())}function C(t,n){if(1&t){const t=p.Sb();p.Rb(0,"span",10),p.cc("click",(function(){return p.sc(t),p.ec().gotoStudentList()})),p.Bc(1,"Browse Students "),p.Qb()}}let M=(()=>{class t{constructor(t){this.studentData=t}search(t){return""===t?Object(s.a)([]):this.studentData.getCurrentStudentMiniDTOs(t).pipe(Object(r.a)(t=>console.log(t)))}}return t.\u0275fac=function(n){return new(n||t)(p.Zb(g.a))},t.\u0275prov=p.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),I=(()=>{class t{constructor(t,n,e,o){this._service=t,this.router=n,this.studentData=e,this.store=o,this.searching=!1,this.searchFailed=!1,this.currentGUId="0000",this.search=t=>t.pipe(Object(c.a)(500),Object(d.a)(),Object(r.a)(()=>this.searching=!0),Object(l.a)(t=>this._service.search(t).pipe(Object(r.a)(()=>this.searchFailed=!1),Object(r.a)(t=>console.log(t[0].studentName)),Object(u.a)(()=>(this.searchFailed=!0,Object(s.a)([]))))),Object(r.a)(()=>this.searching=!1)),this.formatter=t=>t.studentName+" <"+t.email+">",console.log("name-lookup constructor!")}ngOnInit(){this.subscribeForStudentGUIds2()}onSelect(t){console.log(t.item.studentId),console.log(t.item.studentGUId),this.currentGUId=t.item.studentGUId,this.store.dispatch(new b.c(this.currentGUId)),this.email=t.item.email,this.studentName=t.item.studentName}onFocus(){const t=document.getElementById("search-string");t.focus(),t.select()}onInput(){0===document.getElementById("search-string").value.length&&this.resetStudentData()}onClear(){console.log("onClear");const t=document.getElementById("search-string");t.focus(),t.value="",this.resetStudentData()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(t=>{this.studentGUId=t,console.log("************NGXS: header new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&(this.currentGUId=this.studentGUId,this.fetchData())})}resetStudentData(){console.log("studentLookup reset"),this.currentGUId="0000",this.store.dispatch(new b.c(this.studentGUId))}fetchData(){this.studentData.getCurrentStudentMiniDTO(this.currentGUId).subscribe(t=>{this.studentMiniDTO=t},t=>console.error("Subscribe error: "+t),()=>{this.email=this.studentMiniDTO.email,this.studentName=this.studentMiniDTO.studentName})}gotoStudentList(){this.router.navigateByUrl("admins/students/studentList")}gotoStudent(){if("0000"!==this.currentGUId){const t=["admins/students/student",{guid:this.currentGUId}];console.log("navigating to "+t),this.router.navigate(t)}}}return t.\u0275fac=function(n){return new(n||t)(p.Mb(M),p.Mb(m.b),p.Mb(g.a),p.Mb(i.g))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-student-lookup"]],inputs:{showSearchButton:"showSearchButton"},decls:17,vars:13,consts:[["for","search-string"],[2,"margin-bottom","2px","margin-left","3rem"],[4,"ngIf"],["style","margin-bottom: 2px; margin-left: 1rem;","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between"],["id","search-string","type","text","placeholder","Last Name or First Name or Email",1,"form-control",3,"editable","ngModel","ngbTypeahead","inputFormatter","resultFormatter","ngModelChange","input","focus","selectItem"],[1,"btn",2,"margin-left","-25px",3,"click"],[1,"row"],[1,"link",2,"margin-top",".4rem","margin-left","1rem",3,"hidden","click"],[2,"margin-left","1rem","margin-top",".2rem",3,"hidden"],[1,"btn","btn-sm","btn-primary",2,"margin-bottom","2px","margin-left","1rem",3,"click"]],template:function(t,n){1&t&&(p.Rb(0,"label",0),p.Bc(1,"Search for Student:"),p.Qb(),p.Rb(2,"span",1),p.zc(3,y,2,0,"span",2),p.zc(4,C,2,0,"span",3),p.Qb(),p.Rb(5,"div",4),p.Rb(6,"input",5),p.cc("ngModelChange",(function(t){return n.studentMiniDTO=t}))("input",(function(){return n.onInput()}))("focus",(function(){return n.onFocus()}))("selectItem",(function(t){return n.onSelect(t)})),p.Qb(),p.Rb(7,"span"),p.Rb(8,"button",6),p.cc("click",(function(){return n.onClear()})),p.Rb(9,"b"),p.Bc(10,"[\u2716]"),p.Qb(),p.Qb(),p.Qb(),p.Qb(),p.Rb(11,"div",7),p.Rb(12,"span",8),p.cc("click",(function(){return n.gotoStudent()})),p.Bc(13),p.Qb(),p.Nb(14,"br"),p.Rb(15,"span",9),p.Bc(16),p.Qb(),p.Qb()),2&t&&(p.zb(3),p.jc("ngIf",n.showSearchButton),p.zb(1),p.jc("ngIf",n.showSearchButton),p.zb(2),p.Eb("is-invalid",n.searchFailed),p.jc("editable",!1)("ngModel",n.studentMiniDTO)("ngbTypeahead",n.search)("inputFormatter",n.formatter)("resultFormatter",n.formatter),p.zb(6),p.jc("hidden","0000"==n.currentGUId),p.zb(1),p.Dc("Student Profile: ",n.studentName," "),p.zb(2),p.jc("hidden","0000"==n.currentGUId),p.zb(1),p.Dc(" Email: ",n.email," "))},directives:[f.l,v.b,R.e,v.m,v.o],styles:[".form-control[_ngcontent-%COMP%] { width: 300px; display: inline; }"]}),Object(o.a)([Object(i.d)(h.a.getSelectedStudentGUId),Object(o.b)("design:type",a.a)],t.prototype,"currentGUId$",void 0),t})()}}]);