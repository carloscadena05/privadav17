(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{JHQQ:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s("fXoL"),o=s("oIRo"),r=s("ofXK");const i=["app-sortable-column",""];function c(e,t){1&e&&n.Nb(0,"span",2)}function a(e,t){1&e&&n.Nb(0,"span",3)}const d=["*"];let l=(()=>{class e{constructor(e){this.columnSortService=e,this.onSortColumn=new n.o,this.sortCriteria={sortColumn:"",sortDirection:""}}headerClicked(){console.log("app-sortable-column has headerClick"),this.sortDirection="asc"===this.sortDirection?"desc":"asc",console.log("direction = "+this.sortDirection),console.log("emitting sortColumnClick with columnName = "+this.columnName),this.sortCriteria.sortColumn=this.columnName,this.sortCriteria.sortDirection=this.sortDirection,this.onSortColumn.emit(this.sortCriteria),this.columnSortService.columnSorted(this.sortCriteria)}ngOnInit(){this.columnSortedSubscription=this.columnSortService.columnSorted$.subscribe(e=>{console.log("have column sort subscribption event"),this.columnName!==e.sortColumn&&(this.sortDirection="")})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(o.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["","app-sortable-column",""]],hostBindings:function(e,t){1&e&&n.cc("click",(function(){return t.headerClicked()}))},inputs:{columnName:["app-sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"]},outputs:{onSortColumn:"onSortColumn"},attrs:i,ngContentSelectors:d,decls:3,vars:2,consts:[["class","up-arrow",4,"ngIf"],["class","down-arrow",4,"ngIf"],[1,"up-arrow"],[1,"down-arrow"]],template:function(e,t){1&e&&(n.ic(),n.zc(0,c,1,0,"span",0),n.zc(1,a,1,0,"span",1),n.hc(2)),2&e&&(n.jc("ngIf","asc"===t.sortDirection),n.zb(1),n.jc("ngIf","desc"===t.sortDirection))},directives:[r.l],styles:[".up-arrow[_ngcontent-%COMP%]:after {\n        content: '^';\n      }\n\n      .down-arrow[_ngcontent-%COMP%]:after {\n        content: 'v';\n      }"]}),e})()},JlJ6:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var n=s("fXoL");let o=(()=>{class e{transform(e){const t=null!=e?e.indexOf("T"):0;return e="1900-01-01T00:00:00"===e?"":e,t>0?e.substring(0,t):""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Lb({name:"truncateDate",type:e,pure:!0}),e})()},SC10:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s("vkgz"),o=s("UXun"),r=s("JIr8"),i=s("jEWH"),c=s("fXoL");let a=(()=>{class e extends i.a{constructor(){super(...arguments),this.mentorsUrl=this.WebApiPrefix+"lookup/mentors",this.adminsUrl=this.WebApiPrefix+"lookup/admins",this.sponsorGroupsUrl=this.WebApiPrefix+"lookup/sponsorgroups",this.sponsorGroups$=this.http.get(this.sponsorGroupsUrl).pipe(Object(n.a)(e=>console.log("sponsorGroups ",JSON.stringify(e[0]))),Object(o.a)(1),Object(r.a)(this.handleError)),this.universitiesUrl=this.WebApiPrefix+"lookup/universities",this.universities$=this.http.get(this.universitiesUrl).pipe(Object(n.a)(e=>console.log("universities ",JSON.stringify(e[0]))),Object(o.a)(1),Object(r.a)(this.handleError)),this.universityGradeMonthsUrl=this.WebApiPrefix+"lookup/universities/grade-months",this.universityGradeMonths$=this.http.get(this.universityGradeMonthsUrl).pipe(Object(n.a)(e=>console.log("universitiy Grade Months ",JSON.stringify(e[0]))),Object(o.a)(1),Object(r.a)(this.handleError)),this.prepasUrl=this.WebApiPrefix+"lookup/prepas",this.prepas$=this.http.get(this.prepasUrl).pipe(Object(n.a)(e=>console.log("prepas ",JSON.stringify(e[0]))),Object(o.a)(1),Object(r.a)(this.handleError))}getMentors$(){return this.http.get(this.mentorsUrl).pipe(Object(n.a)(e=>console.log("mentorNames ",JSON.stringify(e[0]))),Object(o.a)(1),Object(r.a)(this.handleError))}getAdmins$(){return this.http.get(this.adminsUrl).pipe(Object(n.a)(e=>console.log("adminNames ",JSON.stringify(e[0]))),Object(o.a)(1),Object(r.a)(this.handleError))}}return e.\u0275fac=function(t){return d(t||e)},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const d=c.Tb(a)},k25x:function(e,t,s){"use strict";s.r(t),s.d(t,"BecasModule",(function(){return Ce}));var n=s("ofXK"),o=s("1kSV"),r=s("UBNF"),i=s("tyNb"),c=s("LA/q"),a=s("fXoL");const d=function(){return["active"]},l=function(){return["/becas"]},u=function(){return{exact:!0}},b=function(){return["/becas/grades-edit"]},g=function(){return["/becas/self-reports/tracking"]};let h=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Gb({type:e,selectors:[["app-becas-navbar"]],decls:7,vars:14,consts:[[3,"routerLinkActive","routerLink","routerLinkActiveOptions"],[3,"routerLinkActive","routerLink"]],template:function(e,t){1&e&&(a.Rb(0,"nav"),a.Rb(1,"a",0),a.Bc(2,"Grades List"),a.Qb(),a.Rb(3,"a",1),a.Bc(4,"Review/Edit Grades"),a.Qb(),a.Rb(5,"a",1),a.Bc(6,"StudentRpts"),a.Qb(),a.Qb()),2&e&&(a.zb(1),a.jc("routerLinkActive",a.mc(7,d))("routerLink",a.mc(8,l))("routerLinkActiveOptions",a.mc(9,u)),a.zb(2),a.jc("routerLinkActive",a.mc(10,d))("routerLink",a.mc(11,b)),a.zb(2),a.jc("routerLinkActive",a.mc(12,d))("routerLink",a.mc(13,g)))},directives:[i.d,i.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:48px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{padding:5px;background-color:#add8e6;color:#05579e}"]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Nb(0,"app-becas-navbar"),a.Nb(1,"router-outlet"))},directives:[h,i.f],encapsulation:2}),e})();var m=s("mrSG"),f=s("3Pt+"),v=s("AcyG"),S=s("EY2u"),y=s("HDdC"),R=s("JIr8"),w=s("JlJ6"),C=s("dfvj"),Q=s("a3qr"),D=s("SC10"),I=s("Dn1Q"),O=s("oIRo"),P=s("T8Dl");function G(e,t){if(1&e&&(a.Rb(0,"span",8),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.errorMessage)}}function M(e,t){if(1&e&&(a.Rb(0,"span",9),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.successMessage)}}function z(e,t){1&e&&(a.Rb(0,"div",10),a.Nb(1,"app-loading-container"),a.Qb())}function N(e,t){if(1&e&&(a.Rb(0,"option",27),a.Bc(1),a.Qb()),2&e){const e=t.$implicit;a.jc("value",e.value),a.zb(1),a.Cc(e.label)}}function j(e,t){if(1&e){const e=a.Sb();a.Rb(0,"div"),a.Rb(1,"select",25),a.cc("change",(function(t){a.sc(e);const s=a.ec().index;return a.ec(2).setConfirmedBy(s,t.target.value)})),a.zc(2,N,2,2,"option",26),a.Qb(),a.Qb()}if(2&e){const e=t.ngIf;a.zb(2),a.jc("ngForOf",e)}}function k(e,t){1&e&&(a.Rb(0,"td"),a.Bc(1," +-+ "),a.Qb())}function B(e,t){1&e&&a.Nb(0,"td")}function x(e,t){if(1&e){const e=a.Sb();a.Rb(0,"tr",16),a.Pb(1,17),a.Rb(2,"td"),a.Nb(3,"input",18),a.Qb(),a.Rb(4,"td"),a.Nb(5,"input",19),a.Qb(),a.Rb(6,"td"),a.Rb(7,"input",20),a.cc("dblclick",(function(s){a.sc(e);const n=t.index;return a.ec(2).setReceivedDate(n,s.target.value)})),a.Qb(),a.Qb(),a.Rb(8,"td"),a.Nb(9,"input",21),a.Qb(),a.zc(10,j,3,1,"div",22),a.fc(11,"async"),a.Rb(12,"td"),a.Nb(13,"input",23),a.Qb(),a.Rb(14,"td"),a.Nb(15,"input",24),a.Qb(),a.zc(16,k,2,0,"td",22),a.zc(17,B,1,0,"td",22),a.Ob(),a.Qb()}if(2&e){const e=t.index,s=a.ec(2);a.zb(1),a.jc("formGroupName",e),a.zb(9),a.jc("ngIf",a.gc(11,4,s.admins$)),a.zb(6),a.jc("ngIf",s.isRowDirty(e)),a.zb(1),a.jc("ngIf",!s.isRowDirty(e))}}function E(e,t){if(1&e){const e=a.Sb();a.Rb(0,"div"),a.Rb(1,"form",11),a.Rb(2,"p"),a.Rb(3,"button",12),a.cc("click",(function(){return a.sc(e),a.ec().saveAllChangedEntries()})),a.Bc(4,"Save"),a.Qb(),a.Rb(5,"button",13),a.cc("click",(function(){return a.sc(e),a.ec().location.back()})),a.Bc(6,"Back"),a.Qb(),a.Qb(),a.Rb(7,"table",14),a.Rb(8,"thead"),a.Rb(9,"tr"),a.Rb(10,"th"),a.Bc(11,"Period End"),a.Qb(),a.Rb(12,"th"),a.Bc(13,"Grades Due"),a.Qb(),a.Rb(14,"th"),a.Bc(15,"Grades Turned In"),a.Qb(),a.Rb(16,"th"),a.Bc(17,"GPA"),a.Qb(),a.Rb(18,"th"),a.Bc(19,"Confirmed By"),a.Qb(),a.Rb(20,"th"),a.Bc(21,"Confirmed Date"),a.Qb(),a.Rb(22,"th"),a.Bc(23,"Exception"),a.Qb(),a.Nb(24,"th"),a.Qb(),a.Qb(),a.Rb(25,"tbody"),a.zc(26,x,18,6,"tr",15),a.Qb(),a.Qb(),a.Qb(),a.Qb()}if(2&e){const e=a.ec();a.zb(1),a.jc("formGroup",e.myForm),a.zb(2),a.jc("disabled",e.myForm.pristine),a.zb(23),a.jc("ngForOf",e.studentGradesData)}}let F=(()=>{class e{constructor(e,t,s,n,o,r,i){this.becaData=e,this.router=t,this.miscData=s,this.session=n,this.columnSorter=o,this._fb=r,this.location=i,this.admins$=this.miscData.getAdmins$().pipe(Object(R.a)(e=>(this.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),S.a))),console.log("Hi from gradesEdit Ctrl controller function"),this.isLoading=!1,this.myForm=this._fb.group({studentGUId:["0000"],gradeEntryRows:this._fb.array([])})}gradeEntryRows(){return this.myForm.get("gradeEntryRows")}createEmptyGradeEntryRow(){return console.log("CreateEmptyGradeEntry create empty row to be populated"),this._fb.group({gradesGivenDate:{value:"",disabled:!0},gradesDueDate:{value:"",disabled:!0},gradesTurnedInDate:[{value:""},f.u.compose([f.u.pattern(/^\d{4}\-\d{1,2}\-\d{1,2}$/),f.u.maxLength(10)])],gradePointAvg:[{value:""},f.u.pattern(/^\d{1,2}\.\d{1,1}$/)],exception:[""],confirmedDate:{value:"",disabled:!0},confirmedById:[""]})}updateGradeEntryRow(e,t){return console.log("updateGradeEntryRow update existing row with actual data"),console.log(JSON.stringify(t)),e.patchValue({gradesGivenDate:(new w.a).transform(""+t.gradesGivenDate),gradesDueDate:(new w.a).transform(""+t.gradesDueDate),gradesTurnedInDate:(new w.a).transform(""+t.gradesTurnedInDate),gradePointAvg:this.toFixedValue(t.gradePointAvg),exception:t.exception,confirmedById:t.confirmedById,confirmedDate:(new w.a).transform(""+t.confirmedDate)}),e.markAsPristine(),e}addGradeEntryRow(e){const t=this.createEmptyGradeEntryRow();this.updateGradeEntryRow(t,e),console.log("addGradeEntry: push new populated row intoFormArray"),this.gradeEntryRows().push(t)}ngOnInit(){console.log("gradesEdit ngOnInit"),this.subscribeForStudentGUIds2(),this.subscribeForStudentNames()}subscribeForStudentNames(){this.subscription=this.currentName$.subscribe(e=>{this.studentName=e,console.log("************NGXS: grades edit new StudentName received"+this.studentName)})}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId=e,console.log("************NGXS: grades edit new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchFilteredData()})}fetchFilteredData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&(this.isLoading=!0,this.becaData.getStudentGrades(this.studentGUId).subscribe(e=>{this.studentGradesData=e},e=>{this.errorMessage=e},()=>{this.studentGradesData.forEach(e=>{this.addGradeEntryRow(e)}),console.log("data loaded now set timeout for scroll"),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1}))}scrollIntoView(){const e=document.body;e&&e.scrollIntoView(!0)}gotoStudent(e,t){console.log("setting studentName to "+t);const s=["admins/students/student",{guid:e}];console.log("navigating to "+s),this.router.navigate(s)}saveAllChangedEntries(){console.log("studentGradesData length is "+this.studentGradesData.length);for(let e=0;e<this.studentGradesData.length;++e)console.log("saveEntry "+e),this.saveEntry(e);this.myForm.markAsPristine()}resetAllChangedEntries(){console.log("studentGradesData length is "+this.studentGradesData.length);for(let e=0;e<this.studentGradesData.length;++e)console.log("saveEntry "+e),this.resetEntry(e);this.myForm.markAsPristine()}retrieveFormValuesForRow(e){console.log("retrieveFormValues for row"+JSON.stringify(this.gradeEntryRows().value[e])),this.studentGradesData[e]=Object.assign(Object.assign({},this.studentGradesData[e]),this.gradeEntryRows().value[e])}isRowDirty(e){return this.gradeEntryRows().controls[e].dirty}saveEntry(e){return console.log("saveEntry for "+e),this.isLoading=!0,this.errorMessage="",console.log("row dirty value is "+this.gradeEntryRows().controls[e].dirty),this.gradeEntryRows().controls[e].dirty&&(this.gradeEntryRows().controls[e].get("confirmedDate").enable(),this.retrieveFormValuesForRow(e),this.becaData.updateStudentGrades(this.studentGradesData[e]).subscribe(t=>{console.log("subscribe result in updateGradeRowData"),console.log(JSON.stringify(t)),window.setTimeout(()=>{this.successMessage="Changes were saved successfully."},0),this.gradeEntryRows().controls[e].markAsPristine(),this.gradeEntryRows().controls[e].get("confirmedDate").disable(),this.isLoading=!1,window.scrollTo(0,0),window.setTimeout(()=>{this.successMessage=""},3e3)},()=>{this.errorMessage="Please check Date Format, must be YYYY-MM-DD",this.isLoading=!1})),!1}resetEntry(e){return console.log("resetEntry for "+e),this.gradeEntryRows().controls[e].dirty&&(this.retrieveFormValuesForRow(e),this.gradeEntryRows().controls[e].reset(),this.gradeEntryRows().controls[e].markAsPristine()),!1}setReceivedDate(e,t){let s;console.log("setReceivedDate with curr = "+t),t>""?(s=new Date(t+" 00:00:01"),s.setDate(s.getDate()-1)):s=new Date;const n=[s.getFullYear(),("0"+(s.getMonth()+1)).slice(-2),("0"+s.getDate()).slice(-2)].join("-"),o=this.gradeEntryRows().controls[e];o.patchValue({gradesTurnedInDate:n}),o.markAsDirty()}setConfirmedBy(e,t){console.log("setConfirmedBy with adminId = "+t);const s=new Date,n=[s.getFullYear(),("0"+(s.getMonth()+1)).slice(-2),("0"+s.getDate()).slice(-2)].join("-");console.log(n);const o=this.gradeEntryRows().controls[e];o.patchValue({confirmedById:t,confirmedDate:n}),o.markAsDirty()}toFixedValue(e){return null==e?"":e.toFixed(1)}hasChanges(){return console.log("hasChanges has form dirty "+this.myForm.dirty),this.myForm.dirty}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(Q.a),a.Mb(i.b),a.Mb(D.a),a.Mb(I.a),a.Mb(O.a),a.Mb(f.d),a.Mb(n.h))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:12,vars:6,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[3,"formGroup"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-primary",3,"click"],[1,"table-sm","table-striped"],["formArrayName","gradeEntryRows",4,"ngFor","ngForOf"],["formArrayName","gradeEntryRows"],[3,"formGroupName"],["formControlName","gradesGivenDate","type","text","size","8",1,"form-control","form-control-sm"],["formControlName","gradesDueDate","type","text","size","8",1,"form-control","form-control-sm"],["formControlName","gradesTurnedInDate","placeholder","yyyy-mm-dd","type","text","size","8",1,"form-control","form-control-sm",3,"dblclick"],["formControlName","gradePointAvg","type","text","size","4",1,"form-control","form-control-sm"],[4,"ngIf"],["formControlName","confirmedDate","placeholder","yyyy-mm-dd","type","text","size","8",1,"form-control","form-control-sm"],["formControlName","exception","type","text",1,"form-control","form-control-sm"],["id","adminId","formControlName","confirmedById",1,"form-control","form-control-sm",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"span"),a.Bc(3),a.Qb(),a.Bc(4,"\xa0\xa0\xa0\xa0\xa0 "),a.Qb(),a.Rb(5,"div",2),a.zc(6,G,2,1,"span",3),a.zc(7,M,2,1,"span",4),a.Rb(8,"div"),a.Rb(9,"div",5),a.zc(10,z,2,0,"div",6),a.zc(11,E,27,3,"div",7),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&e&&(a.zb(3),a.Dc("Edit Grade Status for ",t.studentName,""),a.zb(3),a.jc("ngIf",t.errorMessage),a.zb(1),a.jc("ngIf",t.successMessage),a.zb(2),a.jc("ngSwitch",t.isLoading),a.zb(1),a.jc("ngSwitchCase",!0),a.zb(1),a.jc("ngSwitchCase",!1))},directives:[n.l,n.m,n.n,P.a,f.w,f.n,f.f,n.k,f.c,f.g,f.b,f.m,f.e,f.t,f.p,f.v],pipes:[n.b],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}"]}),Object(m.a)([Object(v.d)(C.a.getSelectedStudentGUId),Object(m.b)("design:type",y.a)],e.prototype,"currentGUId$",void 0),Object(m.a)([Object(v.d)(C.a.getSelectedStudentName),Object(m.b)("design:type",y.a)],e.prototype,"currentName$",void 0),e})();var _=s("6VDH"),U=s("Jw/E"),A=s("WYmY"),Y=s("JHQQ");let T=(()=>{class e{transform(e){let t;return t=e>""?e:"",t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Lb({name:"emptyStatus",type:e,pure:!0}),e})();function L(e,t){if(1&e&&(a.Rb(0,"span",8),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.errorMessage)}}function $(e,t){if(1&e&&(a.Rb(0,"span",9),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.successMessage)}}function V(e,t){1&e&&(a.Rb(0,"div",10),a.Nb(1,"app-loading-container"),a.Qb())}function q(e,t){if(1&e){const e=a.Sb();a.Rb(0,"tr"),a.Rb(1,"td"),a.Bc(2),a.Qb(),a.Rb(3,"td",23),a.cc("click",(function(){a.sc(e);const s=t.$implicit;return a.ec(2).gotoStudent(s.studentGUId,s.studentName)})),a.Bc(4),a.Qb(),a.Rb(5,"td"),a.Bc(6),a.Qb(),a.Rb(7,"td"),a.Bc(8),a.Qb(),a.Rb(9,"td"),a.Bc(10),a.Qb(),a.Rb(11,"td"),a.Bc(12),a.Qb(),a.Rb(13,"td"),a.Bc(14),a.fc(15,"truncateDate"),a.Qb(),a.Rb(16,"td"),a.Bc(17),a.fc(18,"truncateDate"),a.Qb(),a.Rb(19,"td"),a.Bc(20),a.fc(21,"truncateDate"),a.Qb(),a.Rb(22,"td"),a.Bc(23),a.Qb(),a.Rb(24,"td"),a.Bc(25),a.Qb(),a.Rb(26,"td"),a.Bc(27),a.fc(28,"emptyStatus"),a.Qb(),a.Qb()}if(2&e){const e=t.$implicit,s=t.index;a.zb(2),a.Dc(" ",s+1," "),a.zb(2),a.Dc(" ",e.studentName," "),a.zb(2),a.Dc(" ",e.gradesTurnedInStatus," "),a.zb(2),a.Dc(" ",e.gradePointAvgStatus," "),a.zb(2),a.Dc(" ",e.univ," "),a.zb(2),a.Dc(" ",e.gradeMonths," "),a.zb(2),a.Dc(" ",a.gc(15,12,e.gradesGivenDate)," "),a.zb(3),a.Dc(" ",a.gc(18,14,e.gradesDueDate)," "),a.zb(3),a.Dc(" ",a.gc(21,16,e.gradesTurnedInDate)," "),a.zb(3),a.Dc(" ",e.gradePointAvg," "),a.zb(2),a.Dc(" ",e.becaApproved," "),a.zb(2),a.Dc(" ",a.gc(28,18,e.exception)," ")}}function J(e,t){if(1&e){const e=a.Sb();a.Rb(0,"div"),a.Rb(1,"table",11),a.Rb(2,"thead"),a.Rb(3,"tr"),a.Nb(4,"th"),a.Rb(5,"th",12),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(6," Student "),a.Qb(),a.Rb(7,"th",13),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(8,"Turned-In Status"),a.Qb(),a.Rb(9,"th",14),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(10,"GPA Status"),a.Qb(),a.Rb(11,"th",15),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(12,"Univ"),a.Qb(),a.Rb(13,"th",16),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(14,"Grade Months"),a.Qb(),a.Rb(15,"th",17),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(16,"Grades Given By"),a.Qb(),a.Rb(17,"th",18),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(18,"Grades Due"),a.Qb(),a.Rb(19,"th",19),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(20,"Grades Turned In"),a.Qb(),a.Rb(21,"th",20),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(22,"GPA"),a.Qb(),a.Rb(23,"th",21),a.cc("onSortColumn",(function(t){return a.sc(e),a.ec().onSortColumn(t)})),a.Bc(24,"Exception"),a.Qb(),a.Qb(),a.Qb(),a.Rb(25,"tbody"),a.zc(26,q,29,20,"tr",22),a.Qb(),a.Qb(),a.Qb()}if(2&e){const e=a.ec();a.zb(26),a.jc("ngForOf",e.gradesGivenEntryDTOs)}}let X=(()=>{class e{constructor(e,t,s,n,o){this.becaData=e,this.router=t,this.store=s,this.session=n,this.columnSorter=o,this.years=A.a.years,this.months=A.a.months,this.selectedYear="2020",this.selectedMonth="4",this.isLoading=!1}ngOnInit(){console.log("ngOnInit"),this.testNameVisibility$.subscribe(e=>{this.displayTestNames=e,this.fetchFilteredData()})}fetchFilteredData(){this.isLoading=!0,this.becaData.getGradesListEntryDTOs().subscribe(e=>{this.gradesGivenEntryDTOs=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test, _Student"===e.studentName?void 0:e)},e=>{this.errorMessage=e},()=>{console.log(this.gradesGivenEntryDTOs[0]),console.log("data loaded now set timeout for scroll"),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1})}scrollIntoView(){const e=document.body;e&&e.scrollIntoView(!0)}getNumericStatus(e){return e.numericGradeRptStatus=0,"red"===e.gradeRptStatus?e.numericGradeRptStatus=1:"yellow"===e.gradeRptStatus?e.numericGradeRptStatus=2:"green"===e.gradeRptStatus&&(e.numericGradeRptStatus=3),e.numericGPAStatus=0,"red"===e.gpaStatus?e.numericGPAStatus=1:"yellow"===e.gpaStatus?e.numericGPAStatus=2:"green"===e.gpaStatus&&(e.numericGPAStatus=3),e}setSelectedYear(e){this.selectedYear=e,this.fetchFilteredData()}setSelectedMonth(e){this.selectedMonth=e,this.fetchFilteredData()}gotoStudent(e,t){console.log("setting studentName to "+t),this.store.dispatch(new _.d({studentGUId:e,studentName:t}));const s=["becas/grades-edit"];console.log("navigating to "+s),this.router.navigate(s)}onSortColumn(e){return console.log("parent received sortColumnCLick event with "+e.sortColumn),this.gradesGivenEntryDTOs.sort((t,s)=>this.columnSorter.compareValues(t,s,e))}onSorted(e){console.log("sorted event received"),console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(Q.a),a.Mb(i.b),a.Mb(v.g),a.Mb(I.a),a.Mb(O.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:12,vars:5,consts:[[1,"card","bg-primary"],["data-cy","status-this-month",1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"table-sm","table-striped"],["app-sortable-column","studentName","sort-direction","asc",3,"onSortColumn"],["app-sortable-column","gradesTurnedInStatus",3,"onSortColumn"],["app-sortable-column","gradePointAvgStatus",3,"onSortColumn"],["app-sortable-column","univ",3,"onSortColumn"],["app-sortable-column","gradeMonths",3,"onSortColumn"],["app-sortable-column","gradesGivenDate",3,"onSortColumn"],["app-sortable-column","gradesDueDate",3,"onSortColumn"],["app-sortable-column","gradesTurnedInDate",3,"onSortColumn"],["app-sortable-column","gradePointAvg",3,"onSortColumn"],["app-sortable-column","exception",3,"onSortColumn"],[4,"ngFor","ngForOf"],[1,"link",3,"click"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"span"),a.Bc(3,"Grade Status for This Month"),a.Qb(),a.Bc(4,"\xa0\xa0\xa0\xa0\xa0 "),a.Qb(),a.Rb(5,"div",2),a.zc(6,L,2,1,"span",3),a.zc(7,$,2,1,"span",4),a.Rb(8,"div",5),a.zc(9,V,2,0,"div",6),a.zc(10,J,27,1,"div",7),a.Qb(),a.Qb(),a.Bc(11," l\n"),a.Qb()),2&e&&(a.zb(6),a.jc("ngIf",t.errorMessage),a.zb(1),a.jc("ngIf",t.successMessage),a.zb(1),a.jc("ngSwitch",t.isLoading),a.zb(1),a.jc("ngSwitchCase",!0),a.zb(1),a.jc("ngSwitchCase",!1))},directives:[n.l,n.m,n.n,P.a,Y.a,n.k],pipes:[w.a,T],styles:[""]}),Object(m.a)([Object(v.d)(U.a.getTestNamesVisibility),Object(m.b)("design:type",y.a)],e.prototype,"testNameVisibility$",void 0),e})();var H=s("WUoG"),W=s("Wqqb");function K(e,t){if(1&e&&(a.Rb(0,"span",7),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.errorMessage)}}function Z(e,t){if(1&e&&(a.Rb(0,"span",8),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.successMessage)}}function ee(e,t){1&e&&(a.Rb(0,"div",9),a.Nb(1,"app-loading-container"),a.Qb())}function te(e,t){if(1&e){const e=a.Sb();a.Rb(0,"div",11),a.Rb(1,"div",12),a.Rb(2,"div",13),a.Rb(3,"button",14),a.cc("click",(function(){a.sc(e);const s=t.$implicit;return a.ec(2).updateSelfReportTracking(s.studentSelfReportId,s.studentGUId,s.studentName)})),a.Bc(4," Review "),a.Qb(),a.Bc(5," \xa0 "),a.Rb(6,"span",15),a.cc("click",(function(){a.sc(e);const s=t.$implicit;return a.ec(2).gotoStudent(s.studentGUId,s.studentName)})),a.Bc(7),a.Qb(),a.Rb(8,"span",16),a.Bc(9),a.Qb(),a.Rb(10,"div"),a.Rb(11,"span",17),a.Bc(12),a.fc(13,"truncateDate"),a.Qb(),a.Rb(14,"div",18),a.Rb(15,"div",19),a.Bc(16,"Description (Spanish)"),a.Qb(),a.Nb(17,"div",20),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()}if(2&e){const e=t.$implicit,s=a.ec(2);a.zb(2),a.kc("id","id"+e.studentSelfReportId),a.zb(5),a.Dc(" [Student: ",e.studentName," ] "),a.zb(2),a.Dc(" [Sponsor: ",e.sponsorGroupName," ] "),a.zb(3),a.Dc(" Submitted Date: ",a.gc(13,6,e.reportDateTime)," "),a.zb(2),a.jc("hidden",!s.displayOriginalFields),a.zb(3),a.jc("innerHTML",e.narrative_Spanish,a.tc)}}function se(e,t){if(1&e&&(a.Rb(0,"div"),a.zc(1,te,18,8,"div",10),a.Qb()),2&e){const e=a.ec();a.zb(1),a.jc("ngForOf",e.studentReportsByPeriod)}}let ne=(()=>{class e{constructor(e,t,s,n){this.router=e,this.store=t,this.ssrData=s,this.route=n,this.activeQRPeriods=A.a.activeQRperiods,this.ssrReviewedStatuses=A.a.reviewedStatuses,this.displayOriginalFields=!0,this.selectedSRReviewedStatus="0",this.smileys=A.a.smileys}ngOnInit(){console.log("ssr trackingonInit"),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId=e,console.log("************NGXS: quarterlyContainer new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchFilteredData()})}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(e=>{this.selectedYearPeriod=e,console.log("************NGXS: SR new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}fetchFilteredData(){""!==this.selectedYearPeriod&&void 0!==this.selectedYearPeriod&&(this.isLoading=!0,console.log("in fetchData for StudentReportsByPeriod"),this.ssrData.getStudentSelfReportsByPeriod(this.selectedYearPeriod,"0",null).subscribe(e=>{this.studentReportsByPeriod=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test, _Student"===e.studentName?void 0:e),console.log("studentReportByPeriod has"),console.log(this.studentReportsByPeriod[0])},e=>console.error("Subscribe error: "+e),()=>{console.log("data loaded now set timeout for scroll"),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1}))}scrollIntoView(){if(console.log("in scrollIntoView"),this.route.snapshot.queryParams.id){console.log(this.route.snapshot.queryParams.id);const e="#"+this.route.snapshot.queryParams.id;console.log("id param = "+this.route.snapshot.queryParams.id);const t=document.querySelector(e);t&&(console.log("querySelector returns element "+t),t.scrollIntoView(!0))}}setSelectedYearPeriod(e){this.store.dispatch(new H.f(e)),this.fetchFilteredData()}gotoStudent(e,t){console.log("setting studentName to "+t);const s=["admins/students/student",{guid:e}];console.log("navigating to "+s),this.router.navigate(s)}updateSelfReportTracking(e,t,s){console.log(s),console.log(e);const n=["/becas/self-reports-updates",{studentSelfReportId:e}];console.log("navigating to "+n),this.router.navigate(n)}getHighlightColor(e){return 2106===e?"green-row":2105===e?"red-row":""}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(i.b),a.Mb(v.g),a.Mb(W.a),a.Mb(i.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-self-report-tracking"]],decls:8,vars:5,consts:[[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"controls"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["class","row","style","border-bottom: 3px solid #ccc; margin-top: 2px",4,"ngFor","ngForOf"],[1,"row",2,"border-bottom","3px solid #ccc","margin-top","2px"],[1,"col-md-12"],[1,"row","mx-auto",3,"id"],[1,"btn","default-btn","btn-primary","btn-sm",3,"click"],[1,"padded","link",3,"click"],[1,"padded"],[1,"padded","col-md2"],[3,"hidden"],[1,"col-md2","padded"],[1,"col-md-10",3,"innerHTML"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.zc(1,K,2,1,"span",1),a.zc(2,Z,2,1,"span",2),a.Rb(3,"div"),a.Nb(4,"div",3),a.Qb(),a.Rb(5,"div",4),a.zc(6,ee,2,0,"div",5),a.zc(7,se,2,1,"div",6),a.Qb(),a.Qb()),2&e&&(a.zb(1),a.jc("ngIf",t.errorMessage),a.zb(1),a.jc("ngIf",t.successMessage),a.zb(3),a.jc("ngSwitch",t.isLoading),a.zb(1),a.jc("ngSwitchCase",!0),a.zb(1),a.jc("ngSwitchCase",!1))},directives:[n.l,n.m,n.n,P.a,n.k],pipes:[w.a],styles:[".green-row[_ngcontent-%COMP%]{background-color:#dff0d8}.red-row[_ngcontent-%COMP%]{background-color:#ffb6c1}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),Object(m.a)([Object(v.d)(C.a.getSelectedStudentGUId),Object(m.b)("design:type",y.a)],e.prototype,"currentGUId$",void 0),Object(m.a)([Object(v.d)(U.a.getSelectedYearPeriod),Object(m.b)("design:type",y.a)],e.prototype,"selectedYearPeriod$",void 0),Object(m.a)([Object(v.d)(U.a.getTestNamesVisibility),Object(m.b)("design:type",y.a)],e.prototype,"testNameVisibility$",void 0),e})();function oe(e,t){if(1&e&&(a.Rb(0,"span",7),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.errorMessage)}}function re(e,t){if(1&e&&(a.Rb(0,"span",8),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.successMessage)}}function ie(e,t){1&e&&(a.Rb(0,"div",9),a.Nb(1,"app-loading-container"),a.Qb())}function ce(e,t){if(1&e){const e=a.Sb();a.Rb(0,"div",11),a.Rb(1,"div",12),a.Rb(2,"div",13),a.Bc(3," \xa0 "),a.Rb(4,"span",14),a.cc("click",(function(){a.sc(e);const s=t.$implicit;return a.ec(2).gotoStudent(s.studentGUId,s.studentName)})),a.Bc(5),a.Qb(),a.Rb(6,"span",15),a.Bc(7),a.Qb(),a.Qb(),a.Qb(),a.Qb()}if(2&e){const e=t.$implicit;a.zb(2),a.kc("id","id"+e.studentGUId),a.zb(3),a.Dc(" ",e.studentName," "),a.zb(2),a.Dc(" [ ",e.email," ] ")}}function ae(e,t){if(1&e&&(a.Rb(0,"div"),a.zc(1,ce,8,3,"div",10),a.Qb()),2&e){const e=a.ec();a.zb(1),a.jc("ngForOf",e.studentMinis)}}let de=(()=>{class e{constructor(e,t,s,n){this.router=e,this.ssrData=t,this.route=s,this.store=n,this.isLoading=!1,this.selectedYearPeriod="",this.activeQRPeriods=A.a.activeQRperiods,this.reviewedStatuses=A.a.reviewedQRStatuses}ngOnInit(){this.subscribeForSelectedYearPeriod()}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(e=>{this.selectedYearPeriod=e,console.log("************NGXS: SSR Tracking new selectedYearPeriod received"+this.selectedYearPeriod),this.fetchFilteredData()})}fetchFilteredData(){this.isLoading=!0,console.log("in fetchData for missingStudentReportsByPeriod"),this.ssrData.getMissingStudentSelfReportsByPeriod(this.selectedYearPeriod).subscribe(e=>{console.log("missing studentReportByPeriod has"),this.studentMinis=e,console.log(this.studentMinis)},e=>console.error("Subscribe error: "+e),()=>{console.log("data loaded now set timeout for scroll"),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1})}scrollIntoView(){if(console.log("in scrollIntoView"),this.route.snapshot.queryParams.id){console.log(this.route.snapshot.queryParams.id);const e="#"+this.route.snapshot.queryParams.id;console.log("id param = "+this.route.snapshot.queryParams.id);const t=document.querySelector(e);t&&(console.log("querySelector returns element "+t),t.scrollIntoView(!0))}}gotoStudent(e,t){console.log(t);const s=["admins/students/student",{guid:e}];console.log("navigating to "+s),this.router.navigate(s)}setSelectedYearPeriod(e){this.store.dispatch(new H.f(e))}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(i.b),a.Mb(W.a),a.Mb(i.a),a.Mb(v.g))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-self-report-missing"]],decls:8,vars:5,consts:[[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"controls"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["class","row","style","margin-top: 2px",4,"ngFor","ngForOf"],[1,"row",2,"margin-top","2px"],[1,"col-md-12"],[1,"row","mx-auto",3,"id"],[1,"padded","link",3,"click"],[1,"padded"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.zc(1,oe,2,1,"span",1),a.zc(2,re,2,1,"span",2),a.Rb(3,"div"),a.Nb(4,"div",3),a.Qb(),a.Rb(5,"div",4),a.zc(6,ie,2,0,"div",5),a.zc(7,ae,2,1,"div",6),a.Qb(),a.Qb()),2&e&&(a.zb(1),a.jc("ngIf",t.errorMessage),a.zb(1),a.jc("ngIf",t.successMessage),a.zb(3),a.jc("ngSwitch",t.isLoading),a.zb(1),a.jc("ngSwitchCase",!0),a.zb(1),a.jc("ngSwitchCase",!1))},directives:[n.l,n.m,n.n,P.a,n.k],styles:[".green-row[_ngcontent-%COMP%]{background-color:#dff0d8}.red-row[_ngcontent-%COMP%]{background-color:#ffb6c1}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),Object(m.a)([Object(v.d)(C.a.getSelectedStudentGUId),Object(m.b)("design:type",y.a)],e.prototype,"currentGUId$",void 0),Object(m.a)([Object(v.d)(U.a.getSelectedYearPeriod),Object(m.b)("design:type",y.a)],e.prototype,"selectedYearPeriod$",void 0),e})();function le(e,t){if(1&e&&(a.Rb(0,"option",11),a.Bc(1),a.Qb()),2&e){const e=t.$implicit;a.jc("value",e.value),a.zb(1),a.Cc(e.label)}}function ue(e,t){1&e&&a.Nb(0,"app-self-report-tracking")}function be(e,t){1&e&&a.Nb(0,"app-self-report-missing")}let ge=(()=>{class e{constructor(e,t){this.route=e,this.store=t,this.selectedYearPeriod="",this.activeQRPeriods=A.a.activeQRperiods,this.reviewedStatuses=A.a.reviewedQRStatuses,this.studentGUIdReceived=!1}ngOnInit(){this.subscribeForSelectedYearPeriod()}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(e=>{this.selectedYearPeriod=e,console.log("************NGXS: SSR Tracking new selectedYearPeriod received"+this.selectedYearPeriod)})}setSelectedYearPeriod(e){this.store.dispatch(new H.f(e))}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(i.a),a.Mb(v.g))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-self-report-tracking-container"]],decls:15,vars:2,consts:[[1,"col"],[1,"card","bg-primary"],[1,"card-header","text-white"],[2,"font-size","large"],[2,"margin-left","10rem"],["name","activePeriodSelector","data-cy","period-selector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body","bg-white"],["title","Reports Received"],["ngbTabContent",""],["title","Reports Needed"],[3,"value"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"div",2),a.Rb(3,"span",3),a.Bc(4," Quarterly Reports "),a.Qb(),a.Rb(5,"span",4),a.Bc(6," Report Year-Period: "),a.Rb(7,"select",5),a.cc("ngModelChange",(function(e){return t.selectedYearPeriod=e}))("change",(function(e){return t.setSelectedYearPeriod(e.target.value)})),a.zc(8,le,2,2,"option",6),a.Qb(),a.Qb(),a.Qb(),a.Rb(9,"div",7),a.Rb(10,"ngb-tabset"),a.Rb(11,"ngb-tab",8),a.zc(12,ue,1,0,"ng-template",9),a.Qb(),a.Rb(13,"ngb-tab",10),a.zc(14,be,1,0,"ng-template",9),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&e&&(a.zb(7),a.jc("ngModel",t.selectedYearPeriod),a.zb(1),a.jc("ngForOf",t.activeQRPeriods))},directives:[f.t,f.m,f.o,n.k,o.d,o.b,o.c,f.p,f.v,ne,de],encapsulation:2}),Object(m.a)([Object(v.d)(U.a.getSelectedYearPeriod),Object(m.b)("design:type",y.a)],e.prototype,"selectedYearPeriod$",void 0),e})();var he=s("EoNH");function pe(e,t){if(1&e&&(a.Rb(0,"div",8),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.errorMessage)}}function me(e,t){if(1&e&&(a.Rb(0,"div",9),a.Bc(1),a.Qb()),2&e){const e=a.ec();a.zb(1),a.Cc(e.successMessage)}}function fe(e,t){1&e&&(a.Rb(0,"div",10),a.Nb(1,"app-loading-container"),a.Qb())}const ve=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}},Se=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}};function ye(e,t){if(1&e){const e=a.Sb();a.Rb(0,"div"),a.Rb(1,"form",11),a.Nb(2,"div",12),a.Rb(3,"div"),a.Bc(4,"\xa0"),a.Qb(),a.Rb(5,"div",12),a.Rb(6,"div",13),a.Rb(7,"label",14),a.Bc(8,"Ingl\xe9s"),a.Qb(),a.Rb(9,"textarea",15,16),a.Bc(11,"              "),a.Qb(),a.Nb(12,"app-display-errors",17),a.Qb(),a.Rb(13,"div",13),a.Rb(14,"label",18),a.Bc(15,"Espa\xf1ol"),a.Qb(),a.Rb(16,"textarea",19,16),a.Bc(18,"              "),a.Qb(),a.Nb(19,"app-display-errors",20),a.Qb(),a.Qb(),a.Rb(20,"div",21),a.Rb(21,"span"),a.Rb(22,"button",22),a.cc("click",(function(){return a.sc(e),a.ec().onCancel()})),a.Bc(23,"Back"),a.Qb(),a.Qb(),a.Rb(24,"span"),a.Rb(25,"button",23),a.cc("click",(function(){return a.sc(e),a.ec().onDelete()})),a.Bc(26," Delete "),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()}if(2&e){const e=a.ec();a.zb(1),a.jc("formGroup",e.myForm),a.zb(11),a.jc("errors",a.mc(3,ve)),a.zb(7),a.jc("errors",a.mc(4,Se))}}const Re=[{path:"",component:p,canActivate:[c.a],children:[{path:"",pathMatch:"full",component:X},{path:"grades-list",component:X},{path:"grades-edit",component:F,canDeactivate:[c.e]},{path:"self-reports/tracking",component:ge},{path:"self-reports-updates",component:(()=>{class e{constructor(e,t,s,n,o){this.currRoute=e,this.router=t,this.selfReportData=s,this._fb=n,this.session=o,this.myForm=n.group({narrative_English:["",{validators:[f.u.required],updateOn:"blur"}],narrative_Spanish:[""]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){const e=this.currRoute.snapshot.params.studentSelfReportId;console.log("selfReportsUpdate ngOnInit with studentSelfReportId: "+e),this.isLoading=!0,this.selfReportData.getStudentSelfReport(e).subscribe(e=>{this.selfReport=e},e=>console.error("Subscribe error: "+e),()=>{console.log("done with data SStudentSelfReport>>"),console.log(this.selfReport),console.log("<<"),this.narrative_EnglishCtl.setValue(this.selfReport.narrative_English),this.narrative_SpanishCtl.setValue(this.selfReport.narrative_Spanish),this.isLoading=!1}),this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1}),this.subscribeForStudentNames()}subscribeForStudentNames(){this.subscription=this.currentName$.subscribe(e=>{this.studentName=e,console.log("************NGXS: mr ssr updates new StudentName received"+this.studentName)})}onCancel(){this.navigateBackInContext()}onDelete(){return console.log("delete with userID = "+this.session.getUserId()),1216==this.session.getUserId()||2094==this.session.getUserId()||2947==this.session.getUserId()?!0===window.confirm("Caution this action will permanently delete this mentor report! Proceed? "+this.selfReport.studentSelfReportId)&&this.selfReportData.deleteStudentSelfReport(this.selfReport.studentSelfReportId).subscribe(()=>{alert("Successfully Deleted"),this.navigateBackInContext()},e=>{this.errorMessage=e,this.isLoading=!1}):alert("This function is only available for Nora or Chris. Please ask one of them if you need to delete a report."),!1}navigateBackInContext(){const e="/becas/self-reports/tracking";console.log("after Submit or Cancel navigating to "+e);const t=new Date(this.selfReport.reportDateTime);let s=t.getFullYear();console.log("orig reportYear "+s);let n=t.getMonth()+1;console.log("orig reportMonth "+n),t.getDate()<=2&&(n--,0===n&&(n=12,s--)),console.log("adj reportMonth "+n);const o={queryParams:{id:"id"+this.selfReport.studentSelfReportId}};console.log("after Submit or Cancele navigating to "+e),console.log("with queryParams "+o.queryParams),this.router.navigate([e],o)}validateEmojis(e){const t=666===e.value?{validateEmojis:{valid:!1}}:null;return console.log(t),t}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(i.a),a.Mb(i.b),a.Mb(W.a),a.Mb(f.d),a.Mb(I.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["ng-component"]],decls:9,vars:6,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[3,"formGroup"],[1,"form-group"],[1,"controls"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_English",1,"red",3,"errors"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["control","narrative_Spanish",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],["type","button",1,"btn","btn-danger",2,"width","75px","margin-left","5rem",3,"click"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Bc(2),a.Qb(),a.Rb(3,"div",2),a.zc(4,pe,2,1,"div",3),a.zc(5,me,2,1,"div",4),a.Rb(6,"div",5),a.zc(7,fe,2,0,"div",6),a.zc(8,ye,27,5,"div",7),a.Qb(),a.Qb(),a.Qb()),2&e&&(a.zb(2),a.Dc("Student Self Report of ",t.studentName,""),a.zb(2),a.jc("ngIf",t.errorMessage),a.zb(1),a.jc("ngIf",t.successMessage),a.zb(1),a.jc("ngSwitch",t.isLoading),a.zb(1),a.jc("ngSwitchCase",!0),a.zb(1),a.jc("ngSwitchCase",!1))},directives:[n.l,n.m,n.n,P.a,f.w,f.n,f.f,f.b,f.m,f.e,he.a],encapsulation:2}),Object(m.a)([Object(v.d)(C.a.getSelectedStudentName),Object(m.b)("design:type",y.a)],e.prototype,"currentName$",void 0),e})()}]}];let we=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(Re)],i.e]}),e})(),Ce=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[n.c,r.a,we,o.a]]}),e})()}}]);