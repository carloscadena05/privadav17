!function(){function e(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&t(e,r)}function t(e,r){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,r)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=i(e);if(t){var s=i(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return n(this,r)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"47tG":function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r("mrSG"),i=r("AcyG"),s=r("HDdC"),c=r("dfvj"),u=r("Jw/E"),d=r("fXoL"),l=r("tyNb"),b=r("SC10"),h=r("3Pt+"),p=r("Dn1Q"),f=r("o9p1"),g=r("ofXK"),v=r("EoNH");function m(e,t){if(1&e&&(d.Rb(0,"div",19),d.Bc(1),d.Qb()),2&e){var r=d.ec();d.zb(1),d.Cc(r.errorMessage)}}function y(e,t){if(1&e&&(d.Rb(0,"div",20),d.Bc(1),d.Qb()),2&e){var r=d.ec();d.zb(1),d.Cc(r.successMessage)}}var S=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},R=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}},I=function(){var e=function(){function e(t,r,n,i,s,a){o(this,e),this.currRoute=t,this.router=r,this.miscData=n,this._fb=i,this.session=s,this.quarterlyData=a,this.selectedYearPeriod="",this.myForm=i.group({narrative_English:["",{}],narrative_Spanish:[""],mentorReportId:[this.reportIdCtl]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.mentorReportId}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.qrComponentsEditable$.subscribe((function(t){e.qrComponentsEditable=t,e.qrComponentsEditable?e.myForm.enable():e.myForm.disable()})),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: mr new StudentGUId received"+e.studentGUId),e.studentGUId&&"0000"!==e.studentGUId&&e.fetchFilteredData()}))}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: MR new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("MR",this.studentGUId,this.selectedYearPeriod,"0").subscribe((function(t){e.mentorReport=t}),(function(e){return console.error("Subscribe error: "+e)}),(function(){e.isLoading=!1,e.mentorReport?(console.log("### after retreiving, set form controls to retreived mentorReport"),e.reportIdCtl.setValue(e.mentorReport.quarterlyReportId),e.narrative_EnglishCtl.setValue(e.mentorReport.mR_Narrative_English),e.narrative_SpanishCtl.setValue(e.mentorReport.mR_Narrative_Spanish)):(console.log("no results returned"),e.narrative_EnglishCtl.setValue("--No Report Found--"),e.narrative_SpanishCtl.setValue("--No Report Found--"))})))}},{key:"onSubmit",value:function(){var e=this;return this.myForm.invalid?(this.errorMessage="",this.narrative_EnglishCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(this.mentorReport.mR_Narrative_English=this.narrative_EnglishCtl.value,this.mentorReport.mR_Narrative_Spanish=this.narrative_SpanishCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.mentorReport,"MR").subscribe((function(){e.successMessage="Saved successfully / Guardar con exito",window.setTimeout((function(){e.successMessage=""}),1e3),e.isSubmitted=!0,e.isLoading=!1}),(function(t){e.errorMessage=t,e.isLoading=!1})),!1)}},{key:"onCancel",value:function(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Mb(l.a),d.Mb(l.b),d.Mb(b.a),d.Mb(h.d),d.Mb(p.a),d.Mb(f.a))},e.\u0275cmp=d.Gb({type:e,selectors:[["app-mr-consolidated"]],decls:36,vars:10,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","mentorReportId"],["id","mentorReportId","formControlName","mentorReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_Spanish",1,"red",3,"errors"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm","narrative"],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(e,t){1&e&&(d.zc(0,m,2,1,"div",0),d.zc(1,y,2,1,"div",1),d.Rb(2,"form",2),d.Rb(3,"fieldset"),d.Rb(4,"div",3),d.Rb(5,"div",4),d.Rb(6,"label",5),d.Bc(7,"Id"),d.Qb(),d.Rb(8,"textarea",6),d.Bc(9,"                "),d.Qb(),d.Qb(),d.Rb(10,"div",7),d.Rb(11,"label",8),d.Bc(12,"Texto Espa\xf1ol"),d.Qb(),d.Rb(13,"textarea",9,10),d.Bc(15,"                "),d.Qb(),d.Nb(16,"app-display-errors",11),d.Qb(),d.Rb(17,"div",7),d.Rb(18,"label",12),d.Bc(19,"English Text"),d.Qb(),d.Rb(20,"textarea",13,10),d.Bc(22,"              "),d.Qb(),d.Nb(23,"app-display-errors",14),d.Qb(),d.Rb(24,"div",15),d.Rb(25,"span"),d.Rb(26,"button",16),d.cc("click",(function(){return t.onSubmit()})),d.Bc(27," Guardar/Save "),d.Qb(),d.Qb(),d.Bc(28,"\xa0 "),d.Rb(29,"span"),d.Rb(30,"button",17),d.cc("click",(function(){return t.onCancel()})),d.Bc(31," Cancelar "),d.Qb(),d.Rb(32,"div",18),d.Bc(33,"Year, Month, Emoji and description must be filled in before saving."),d.Nb(34,"br"),d.Bc(35,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.jc("ngIf",t.errorMessage),d.zb(1),d.jc("ngIf",t.successMessage),d.zb(1),d.jc("formGroup",t.myForm),d.zb(14),d.jc("errors",d.mc(8,S)),d.zb(7),d.jc("errors",d.mc(9,R)),d.zb(3),d.jc("hidden",!t.qrComponentsEditable),d.zb(4),d.jc("hidden",!t.qrComponentsEditable),d.zb(2),d.jc("hidden",t.myForm.valid||!t.qrComponentsEditable))},directives:[g.l,h.w,h.n,h.f,h.b,h.m,h.e,v.a],styles:[".padded[_ngcontent-%COMP%]{padding-right:30px;font-weight:700}.narrative[_ngcontent-%COMP%]{max-width:44em;width:44em;height:540px}"]}),Object(n.a)([Object(i.d)(c.a.getSelectedStudentGUId),Object(n.b)("design:type",s.a)],e.prototype,"currentGUId$",void 0),Object(n.a)([Object(i.d)(u.a.getSelectedYearPeriod),Object(n.b)("design:type",s.a)],e.prototype,"selectedYearPeriod$",void 0),Object(n.a)([Object(i.d)(u.a.getQRComponentsEditable),Object(n.b)("design:type",s.a)],e.prototype,"qrComponentsEditable$",void 0),e}()},"7iOT":function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("mrSG"),i=r("AcyG"),s=r("HDdC"),c=r("dfvj"),u=r("fXoL"),d=r("HS3z"),l=r("ofXK");function b(e,t){if(1&e&&(u.Rb(0,"div"),u.Rb(1,"div",3),u.Nb(2,"img",4),u.Qb(),u.Qb()),2&e){var r=u.ec();u.zb(2),u.jc("src",r.fullPhotoPathname,u.uc)}}var h=function(){var e=function(){function e(t){o(this,e),console.log("hi from student-photo constructor"),this.clientUrl=t.getClientUrl(),this.subscribeForPhotoPathname()}return a(e,[{key:"subscribeForPhotoPathname",value:function(){var e=this;this.subscription=this.photoPathname$.subscribe((function(t){e.photoPathname=t,console.log("************NGXS: photoPathname received"+e.photoPathname),e.fullPhotoPathname=e.clientUrl+"/assets/images/StudentPhotos/"+e.photoPathname}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Mb(d.a))},e.\u0275cmp=u.Gb({type:e,selectors:[["app-student-photo"]],decls:3,vars:1,consts:[[1,"row"],[1,"col"],[4,"ngIf"],[2,"width","100%"],["height","160",3,"src"]],template:function(e,t){1&e&&(u.Rb(0,"div",0),u.Rb(1,"div",1),u.zc(2,b,3,1,"div",2),u.Qb(),u.Qb()),2&e&&(u.zb(2),u.jc("ngIf",t.fullPhotoPathname))},directives:[l.l],encapsulation:2}),Object(n.a)([Object(i.d)(c.a.getPhotoPathname),Object(n.b)("design:type",s.a)],e.prototype,"photoPathname$",void 0),e}()},Bxi9:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r("mrSG"),i=r("AcyG"),s=r("HDdC"),c=r("dfvj"),u=r("Jw/E"),d=r("fXoL"),l=r("tyNb"),b=r("SC10"),h=r("3Pt+"),p=r("Dn1Q"),f=r("o9p1"),g=r("ofXK"),v=r("EoNH");function m(e,t){if(1&e&&(d.Rb(0,"div",19),d.Bc(1),d.Qb()),2&e){var r=d.ec();d.zb(1),d.Cc(r.errorMessage)}}function y(e,t){if(1&e&&(d.Rb(0,"div",20),d.Bc(1),d.Qb()),2&e){var r=d.ec();d.zb(1),d.Cc(r.successMessage)}}var S=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},R=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}},I=function(){var e=function(){function e(t,r,n,i,s,a){o(this,e),this.currRoute=t,this.router=r,this.miscData=n,this._fb=i,this.session=s,this.quarterlyData=a,this.selectedYearPeriod="",this.myForm=i.group({narrative_English:["",{}],narrative_Spanish:[""],quarterlyReportId:[this.reportIdCtl]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.quarterlyReportId}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.qrComponentsEditable$.subscribe((function(t){e.qrComponentsEditable=t,e.qrComponentsEditable?e.myForm.enable():e.myForm.disable()})),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: jaComments new StudentGUId received"+e.studentGUId),e.fetchFilteredData()}))}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: jaComments new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("JA",this.studentGUId,this.selectedYearPeriod,"0").subscribe((function(t){e.jaComment=t}),(function(e){return console.error("Subscribe error: "+e)}),(function(){e.isLoading=!1,e.jaComment?(console.log("### after retreiving, set form controls to retreived jaComments"),e.narrative_SpanishCtl.setValue(e.jaComment.jA_Narrative_Spanish),e.qrComponentsEditable||(0===e.jaComment.jA_Narrative_English.length&&(e.jaComment.jA_Narrative_English="-- No additional comments this quarter --"),0===e.jaComment.jA_Narrative_Spanish.length&&(e.jaComment.jA_Narrative_Spanish="-- No hay comentarios adicionales este trimestre --")),e.narrative_EnglishCtl.setValue(e.jaComment.jA_Narrative_English),e.narrative_SpanishCtl.setValue(e.jaComment.jA_Narrative_Spanish)):(console.log("no results returned"),e.narrative_EnglishCtl.setValue("--No Report Found--"),e.narrative_SpanishCtl.setValue("--No Report Found--"))})))}},{key:"onSubmit",value:function(){var e=this;return this.myForm.invalid?(this.errorMessage="",this.narrative_EnglishCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(this.jaComment.jA_Narrative_English=this.narrative_EnglishCtl.value,this.jaComment.jA_Narrative_Spanish=this.narrative_SpanishCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.jaComment,"JA").subscribe((function(){e.successMessage="Saved successfully / Guardar con exito",window.setTimeout((function(){e.successMessage=""}),5e3),e.isSubmitted=!0,e.isLoading=!1}),(function(t){e.errorMessage=t,e.isLoading=!1})),!1)}},{key:"onCancel",value:function(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Mb(l.a),d.Mb(l.b),d.Mb(b.a),d.Mb(h.d),d.Mb(p.a),d.Mb(f.a))},e.\u0275cmp=d.Gb({type:e,selectors:[["app-ja-comments"]],decls:36,vars:10,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","quarterlyReportId"],["id","quarterlyReportId","formControlName","quarterlyReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_Spanish",1,"red",3,"errors"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","inpu-sm","narrative"],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(e,t){1&e&&(d.zc(0,m,2,1,"div",0),d.zc(1,y,2,1,"div",1),d.Rb(2,"form",2),d.Rb(3,"fieldset"),d.Rb(4,"div",3),d.Rb(5,"div",4),d.Rb(6,"label",5),d.Bc(7,"Id"),d.Qb(),d.Rb(8,"textarea",6),d.Bc(9,"                  "),d.Qb(),d.Qb(),d.Rb(10,"div",7),d.Rb(11,"label",8),d.Bc(12,"Texto Espa\xf1ol"),d.Qb(),d.Rb(13,"textarea",9,10),d.Bc(15,"                  "),d.Qb(),d.Nb(16,"app-display-errors",11),d.Qb(),d.Rb(17,"div",7),d.Rb(18,"label",12),d.Bc(19,"English Text"),d.Qb(),d.Rb(20,"textarea",13,10),d.Bc(22,"                "),d.Qb(),d.Nb(23,"app-display-errors",14),d.Qb(),d.Rb(24,"div",15),d.Rb(25,"span"),d.Rb(26,"button",16),d.cc("click",(function(){return t.onSubmit()})),d.Bc(27," Guardar/Save "),d.Qb(),d.Qb(),d.Bc(28,"\xa0 "),d.Rb(29,"span"),d.Rb(30,"button",17),d.cc("click",(function(){return t.onCancel()})),d.Bc(31," Cancelar "),d.Qb(),d.Rb(32,"div",18),d.Bc(33,"Year, Month, Emoji and description must be filled in before saving."),d.Nb(34,"br"),d.Bc(35,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.jc("ngIf",t.errorMessage),d.zb(1),d.jc("ngIf",t.successMessage),d.zb(1),d.jc("formGroup",t.myForm),d.zb(14),d.jc("errors",d.mc(8,S)),d.zb(7),d.jc("errors",d.mc(9,R)),d.zb(3),d.jc("hidden",!t.qrComponentsEditable),d.zb(4),d.jc("hidden",!t.qrComponentsEditable),d.zb(2),d.jc("hidden",t.myForm.valid||!t.qrComponentsEditable))},directives:[g.l,h.w,h.n,h.f,h.b,h.m,h.e,v.a],styles:[""]}),Object(n.a)([Object(i.d)(c.a.getSelectedStudentGUId),Object(n.b)("design:type",s.a)],e.prototype,"currentGUId$",void 0),Object(n.a)([Object(i.d)(u.a.getSelectedYearPeriod),Object(n.b)("design:type",s.a)],e.prototype,"selectedYearPeriod$",void 0),Object(n.a)([Object(i.d)(u.a.getQRComponentsEditable),Object(n.b)("design:type",s.a)],e.prototype,"qrComponentsEditable$",void 0),e}()},CZ4s:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r("mrSG"),i=r("AcyG"),s=r("HDdC"),c=r("6VDH"),u=r("dfvj"),d=r("fXoL"),l=r("2vts"),b=r("ofXK"),h=r("T8Dl");function p(e,t){1&e&&d.Nb(0,"div",4)}function f(e,t){1&e&&(d.Rb(0,"div",5),d.Nb(1,"app-loading-container"),d.Qb())}function g(e,t){if(1&e&&(d.Rb(0,"div"),d.Rb(1,"div",6),d.Rb(2,"div",7),d.Rb(3,"label"),d.Bc(4,"Year Joined JA:"),d.Qb(),d.Bc(5),d.Rb(6,"label"),d.Bc(7,"Grad Year/Month:"),d.Qb(),d.Bc(8),d.Qb(),d.Qb(),d.Rb(9,"div",6),d.Rb(10,"div",7),d.Rb(11,"label"),d.Bc(12,"Major:"),d.Qb(),d.Bc(13),d.Nb(14,"br"),d.Rb(15,"label"),d.Bc(16,"University:"),d.Qb(),d.Bc(17),d.Nb(18,"br"),d.Rb(19,"label"),d.Bc(20,"Mentor Name:"),d.Qb(),d.Bc(21),d.Nb(22,"br"),d.Rb(23,"label"),d.Bc(24,"Sponsor Name:"),d.Qb(),d.Bc(25),d.Qb(),d.Qb(),d.Qb()),2&e){var r=d.ec();d.zb(5),d.Dc(" ",r.student.yearJoinedJa,"\xa0\xa0\xa0\xa0\xa0 "),d.zb(3),d.Ec(" ",r.student.gradYear," / ",r.student.gradMonth," "),d.zb(5),d.Dc(" ",r.student.major," "),d.zb(4),d.Dc(" ",r.student.universityName," "),d.zb(4),d.Dc(" ",r.student.mentorName," "),d.zb(4),d.Dc(" ",r.student.sponsorGroupName," ")}}var v=function(){var e=function(){function e(t,r,n){o(this,e),this.store=t,this.studentData=r,this.location=n,this.loadingState=0,this.bReadOnly=!0,console.log("hi from StudentHeaderDetails constructor"),this.errorMessage="",this.successMessage="",this.submitted=!1}return a(e,[{key:"ngOnInit",value:function(){this.loadingState=0,this.subscribeForStudentGUIds2()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: header details new StudentGUId received"+e.studentGUId),e.fetchData()}))}},{key:"fetchData",value:function(){var e=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&(this.loadingState=1,this.studentData.getStudentHeaderDTO(this.studentGUId).subscribe((function(t){e.student=t}),(function(t){e.errorMessage=t}),(function(){e.loadingState=2,e.store.dispatch(new c.b(e.student.photoUrl))})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Mb(i.g),d.Mb(l.a),d.Mb(b.h))},e.\u0275cmp=d.Gb({type:e,selectors:[["app-student-header-details"]],decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-center col-md-12 ",4,"ngSwitchCase"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"text-center","col-md-12"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"row"],[1,"col-12"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.zc(1,p,1,0,"div",1),d.zc(2,f,2,0,"div",2),d.zc(3,g,26,7,"div",3),d.Qb()),2&e&&(d.jc("ngSwitch",t.loadingState),d.zb(1),d.jc("ngSwitchCase",0),d.zb(1),d.jc("ngSwitchCase",1),d.zb(1),d.jc("ngSwitchCase",2))},directives:[b.m,b.n,h.a],encapsulation:2}),Object(n.a)([Object(i.d)(u.a.getSelectedStudentGUId),Object(n.b)("design:type",s.a)],e.prototype,"currentGUId$",void 0),e}()},JHQQ:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var n=r("fXoL"),i=r("oIRo"),s=r("ofXK"),c=["app-sortable-column",""];function u(e,t){1&e&&n.Nb(0,"span",2)}function d(e,t){1&e&&n.Nb(0,"span",3)}var l=["*"],b=function(){var e=function(){function e(t){o(this,e),this.columnSortService=t,this.onSortColumn=new n.o,this.sortCriteria={sortColumn:"",sortDirection:""}}return a(e,[{key:"headerClicked",value:function(){console.log("app-sortable-column has headerClick"),this.sortDirection="asc"===this.sortDirection?"desc":"asc",console.log("direction = "+this.sortDirection),console.log("emitting sortColumnClick with columnName = "+this.columnName),this.sortCriteria.sortColumn=this.columnName,this.sortCriteria.sortDirection=this.sortDirection,this.onSortColumn.emit(this.sortCriteria),this.columnSortService.columnSorted(this.sortCriteria)}},{key:"ngOnInit",value:function(){var e=this;this.columnSortedSubscription=this.columnSortService.columnSorted$.subscribe((function(t){console.log("have column sort subscribption event"),e.columnName!==t.sortColumn&&(e.sortDirection="")}))}},{key:"ngOnDestroy",value:function(){this.columnSortedSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.Mb(i.a))},e.\u0275cmp=n.Gb({type:e,selectors:[["","app-sortable-column",""]],hostBindings:function(e,t){1&e&&n.cc("click",(function(){return t.headerClicked()}))},inputs:{columnName:["app-sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"]},outputs:{onSortColumn:"onSortColumn"},attrs:c,ngContentSelectors:l,decls:3,vars:2,consts:[["class","up-arrow",4,"ngIf"],["class","down-arrow",4,"ngIf"],[1,"up-arrow"],[1,"down-arrow"]],template:function(e,t){1&e&&(n.ic(),n.zc(0,u,1,0,"span",0),n.zc(1,d,1,0,"span",1),n.hc(2)),2&e&&(n.jc("ngIf","asc"===t.sortDirection),n.zb(1),n.jc("ngIf","desc"===t.sortDirection))},directives:[s.l],styles:[".up-arrow[_ngcontent-%COMP%]:after {\n        content: '^';\n      }\n\n      .down-arrow[_ngcontent-%COMP%]:after {\n        content: 'v';\n      }"]}),e}()},Kj3r:function(t,n,i){"use strict";i.d(n,"a",(function(){return u}));var s=i("7o/Q"),c=i("D0XW");function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a;return function(r){return r.lift(new d(e,t))}}var d=function(){function e(t,r){o(this,e),this.dueTime=t,this.scheduler=r}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.dueTime,this.scheduler))}}]),e}(),l=function(t){e(i,t);var n=r(i);function i(e,t,r){var s;return o(this,i),(s=n.call(this,e)).dueTime=t,s.scheduler=r,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return a(i,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(b,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),i}(s.a);function b(e){e.debouncedNext()}},SC10:function(t,n,i){"use strict";i.d(n,"a",(function(){return b}));var s=i("vkgz"),c=i("UXun"),u=i("JIr8"),d=i("jEWH"),l=i("fXoL"),b=function(){var t=function(t){e(i,t);var n=r(i);function i(){var e;return o(this,i),(e=n.apply(this,arguments)).mentorsUrl=e.WebApiPrefix+"lookup/mentors",e.adminsUrl=e.WebApiPrefix+"lookup/admins",e.sponsorGroupsUrl=e.WebApiPrefix+"lookup/sponsorgroups",e.sponsorGroups$=e.http.get(e.sponsorGroupsUrl).pipe(Object(s.a)((function(e){return console.log("sponsorGroups ",JSON.stringify(e[0]))})),Object(c.a)(1),Object(u.a)(e.handleError)),e.universitiesUrl=e.WebApiPrefix+"lookup/universities",e.universities$=e.http.get(e.universitiesUrl).pipe(Object(s.a)((function(e){return console.log("universities ",JSON.stringify(e[0]))})),Object(c.a)(1),Object(u.a)(e.handleError)),e.universityGradeMonthsUrl=e.WebApiPrefix+"lookup/universities/grade-months",e.universityGradeMonths$=e.http.get(e.universityGradeMonthsUrl).pipe(Object(s.a)((function(e){return console.log("universitiy Grade Months ",JSON.stringify(e[0]))})),Object(c.a)(1),Object(u.a)(e.handleError)),e.prepasUrl=e.WebApiPrefix+"lookup/prepas",e.prepas$=e.http.get(e.prepasUrl).pipe(Object(s.a)((function(e){return console.log("prepas ",JSON.stringify(e[0]))})),Object(c.a)(1),Object(u.a)(e.handleError)),e}return a(i,[{key:"getMentors$",value:function(){return this.http.get(this.mentorsUrl).pipe(Object(s.a)((function(e){return console.log("mentorNames ",JSON.stringify(e[0]))})),Object(c.a)(1),Object(u.a)(this.handleError))}},{key:"getAdmins$",value:function(){return this.http.get(this.adminsUrl).pipe(Object(s.a)((function(e){return console.log("adminNames ",JSON.stringify(e[0]))})),Object(c.a)(1),Object(u.a)(this.handleError))}}]),i}(d.a);return t.\u0275fac=function(e){return h(e||t)},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),h=l.Tb(b)},ZmIP:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n=r("mrSG"),i=r("AcyG"),s=r("HDdC"),c=r("dfvj"),u=r("Jw/E"),d=r("fXoL"),l=r("tyNb"),b=r("SC10"),h=r("3Pt+"),p=r("Dn1Q"),f=r("o9p1"),g=r("ofXK"),v=r("EoNH");function m(e,t){if(1&e&&(d.Rb(0,"div",19),d.Bc(1),d.Qb()),2&e){var r=d.ec();d.zb(1),d.Cc(r.errorMessage)}}function y(e,t){if(1&e&&(d.Rb(0,"div",20),d.Bc(1),d.Qb()),2&e){var r=d.ec();d.zb(1),d.Cc(r.successMessage)}}var S=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},R=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}},I=function(){var e=function(){function e(t,r,n,i,s,a){o(this,e),this.currRoute=t,this.router=r,this.miscData=n,this._fb=i,this.session=s,this.quarterlyData=a,this.selectedYearPeriod="",this.myForm=i.group({narrative_English:["",{}],narrative_Spanish:[""],quarterlyReportId:[this.reportIdCtl]}),this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.quarterlyReportId}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.qrComponentsEditable$.subscribe((function(t){e.qrComponentsEditable=t,e.qrComponentsEditable?e.myForm.enable():e.myForm.disable()})),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: SR new StudentGUId received"+e.studentGUId),e.studentGUId&&"0000"!==e.studentGUId&&e.fetchFilteredData()}))}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: SR new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("SR",this.studentGUId,this.selectedYearPeriod,"0").subscribe((function(t){e.studentSelfReport=t}),(function(e){return console.error("Subscribe error: "+e)}),(function(){e.isLoading=!1,e.studentSelfReport?(console.log("### after retreiving, set form controls to retreived selfReport"),e.reportIdCtl.setValue(e.studentSelfReport.quarterlyReportId),e.narrative_EnglishCtl.setValue(e.studentSelfReport.sR_Narrative_English),e.narrative_SpanishCtl.setValue(e.studentSelfReport.sR_Narrative_Spanish)):(console.log("no results returned"),e.narrative_EnglishCtl.setValue("--No Report Found--"),e.narrative_SpanishCtl.setValue("--No Report Found--"))})))}},{key:"onSubmit",value:function(){var e=this;return this.myForm.invalid?(this.errorMessage="",this.narrative_EnglishCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(console.log("###before submitting update model with form control values"),this.studentSelfReport.sR_Narrative_English=this.narrative_EnglishCtl.value,this.studentSelfReport.sR_Narrative_Spanish=this.narrative_SpanishCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.studentSelfReport,"SR").subscribe((function(){e.successMessage="Saved successfully / Guardar con exito",window.setTimeout((function(){e.successMessage=""}),5e3),e.isSubmitted=!0,e.isLoading=!1}),(function(t){e.errorMessage=t.message,e.isLoading=!1})),!1)}},{key:"onCancel",value:function(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Mb(l.a),d.Mb(l.b),d.Mb(b.a),d.Mb(h.d),d.Mb(p.a),d.Mb(f.a))},e.\u0275cmp=d.Gb({type:e,selectors:[["app-self-reports"]],decls:36,vars:10,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","quarterlyReportId"],["id","quarterlyReportId","formControlName","quarterlyReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_Spanish",1,"red",3,"errors"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm","narrative"],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(e,t){1&e&&(d.zc(0,m,2,1,"div",0),d.zc(1,y,2,1,"div",1),d.Rb(2,"form",2),d.Rb(3,"fieldset"),d.Rb(4,"div",3),d.Rb(5,"div",4),d.Rb(6,"label",5),d.Bc(7,"Id"),d.Qb(),d.Rb(8,"textarea",6),d.Bc(9,"                "),d.Qb(),d.Qb(),d.Rb(10,"div",7),d.Rb(11,"label",8),d.Bc(12,"Texto Espa\xf1ol"),d.Qb(),d.Rb(13,"textarea",9,10),d.Bc(15,"                "),d.Qb(),d.Nb(16,"app-display-errors",11),d.Qb(),d.Rb(17,"div",7),d.Rb(18,"label",12),d.Bc(19,"English Text"),d.Qb(),d.Rb(20,"textarea",13,10),d.Bc(22,"              "),d.Qb(),d.Nb(23,"app-display-errors",14),d.Qb(),d.Rb(24,"div",15),d.Rb(25,"span"),d.Rb(26,"button",16),d.cc("click",(function(){return t.onSubmit()})),d.Bc(27," Guardar/Save "),d.Qb(),d.Qb(),d.Bc(28,"\xa0 "),d.Rb(29,"span"),d.Rb(30,"button",17),d.cc("click",(function(){return t.onCancel()})),d.Bc(31," Cancelar "),d.Qb(),d.Rb(32,"div",18),d.Bc(33,"Year, Month, Emoji and description must be filled in before saving."),d.Nb(34,"br"),d.Bc(35,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.jc("ngIf",t.errorMessage),d.zb(1),d.jc("ngIf",t.successMessage),d.zb(1),d.jc("formGroup",t.myForm),d.zb(14),d.jc("errors",d.mc(8,S)),d.zb(7),d.jc("errors",d.mc(9,R)),d.zb(3),d.jc("hidden",!t.qrComponentsEditable),d.zb(4),d.jc("hidden",!t.qrComponentsEditable),d.zb(2),d.jc("hidden",t.myForm.valid||!t.qrComponentsEditable))},directives:[g.l,h.w,h.n,h.f,h.b,h.m,h.e,v.a],styles:[".padded[_ngcontent-%COMP%]{padding-right:30px;font-weight:700}.narrative[_ngcontent-%COMP%]{max-width:44em;width:44em;height:540px}","[_nghost-%COMP%]{display:block;padding:0 16px}label[_ngcontent-%COMP%]{padding-top:10px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], radio.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%], textarea.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], radio.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%], textarea.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], radio.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}.narrative[_ngcontent-%COMP%]{max-width:44em;width:44em;height:540px}"]}),Object(n.a)([Object(i.d)(c.a.getSelectedStudentGUId),Object(n.b)("design:type",s.a)],e.prototype,"currentGUId$",void 0),Object(n.a)([Object(i.d)(u.a.getSelectedYearPeriod),Object(n.b)("design:type",s.a)],e.prototype,"selectedYearPeriod$",void 0),Object(n.a)([Object(i.d)(u.a.getQRComponentsEditable),Object(n.b)("design:type",s.a)],e.prototype,"qrComponentsEditable$",void 0),e}()},bV1B:function(e,t,r){"use strict";r.r(t),r.d(t,"QuarterlyModule",(function(){return ve}));var n,i=r("ofXK"),s=r("1kSV"),c=r("UBNF"),u=r("tyNb"),d=r("LA/q"),l=r("mrSG"),b=r("AcyG"),h=r("HDdC"),p=function e(t,r,n,i,s,a,c,u,d,l,b){o(this,e),this.quarterlyReportGUId=t,this.reportYear=r,this.reportPeriod=n,this.studentGUId=i,this.sponsorGroupGUId=s,this.reportDateTime=a,this.reviewedStatusId=c,this.studentName=u,this.studentStatus=d,this.sponsorGroupName=l,this.highlightStatusId=b},f=r("dfvj"),g=r("WUoG"),v=r("Jw/E"),m=r("WYmY"),y=r("fXoL"),S=r("o9p1"),R=r("qGxU"),I=r("7iOT"),C=r("CZ4s"),Q=((n=function(){function e(){o(this,e)}return a(e,[{key:"ngOnInit",value:function(){this.subscribeForStudentGUIds2()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: header new StudentGUId received"+e.studentGUId)}))}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=y.Gb({type:n,selectors:[["app-student-header-quarterly"]],decls:11,vars:1,consts:[[1,"row"],[1,"col-4"],[3,"showSearchButton"],[1,"col-2"],[1,"col-6"]],template:function(e,t){1&e&&(y.Rb(0,"div"),y.Rb(1,"div",0),y.Rb(2,"div",1),y.Rb(3,"div",0),y.Nb(4,"app-student-lookup",2),y.Qb(),y.Qb(),y.Rb(5,"div",3),y.Rb(6,"div",0),y.Nb(7,"app-student-photo"),y.Qb(),y.Qb(),y.Rb(8,"div",4),y.Rb(9,"div",0),y.Nb(10,"app-student-header-details"),y.Qb(),y.Qb(),y.Qb(),y.Qb()),2&e&&(y.zb(4),y.jc("showSearchButton",!1))},directives:[R.a,I.a,C.a],encapsulation:2}),Object(l.a)([Object(b.d)(f.a.getSelectedStudentGUId),Object(l.b)("design:type",h.a)],n.prototype,"currentGUId$",void 0),n),j=r("3Pt+"),G=r("ZmIP"),M=r("47tG"),P=r("Bxi9"),w=r("SC10"),O=r("Dn1Q"),N=r("EoNH");function U(e,t){if(1&e&&(y.Rb(0,"div",16),y.Bc(1),y.Qb()),2&e){var r=y.ec();y.zb(1),y.Cc(r.errorMessage)}}function _(e,t){if(1&e&&(y.Rb(0,"div",17),y.Bc(1),y.Qb()),2&e){var r=y.ec();y.zb(1),y.Cc(r.successMessage)}}var k,x=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},q=((k=function(){function e(t,r,n,i,s,a){o(this,e),this.currRoute=t,this.router=r,this.miscData=n,this._fb=i,this.session=s,this.quarterlyData=a,this.selectedYearPeriod="",this.myForm=i.group({narrative:[""],quarterlyReportId:[this.reportIdCtl]}),this.narrativeCtl=this.myForm.controls.narrative,this.reportIdCtl=this.myForm.controls.quarterlyReportId}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.qrComponentsEditable$.subscribe((function(t){e.qrComponentsEditable=t,e.qrComponentsEditable?e.myForm.enable():e.myForm.disable()})),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: PN new StudentGUId received"+e.studentGUId),e.studentGUId&&"0000"!==e.studentGUId&&e.fetchFilteredData()}))}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: PN new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getPartialQuarterlyReportByPeriod("PN",this.studentGUId,this.selectedYearPeriod,"0").subscribe((function(t){e.privateNotes=t}),(function(e){return console.error("Subscribe error: "+e)}),(function(){e.isLoading=!1,e.privateNotes&&e.privateNotes.pN_Narrative&&e.privateNotes.pN_Narrative.length>0?(console.log("### after retreiving, set form controls to retreived selfReport"),e.narrativeCtl.setValue(e.privateNotes.pN_Narrative)):(console.log("no results returned"),e.narrativeCtl.setValue(""))})))}},{key:"onSubmit",value:function(){var e=this;return this.myForm.invalid?(this.errorMessage="",this.narrativeCtl.valid||(this.errorMessage=this.errorMessage+"Description must be filled in. Descripcione debe rellenarse"),window.scrollTo(0,0),!1):(this.privateNotes.pN_Narrative=this.narrativeCtl.value,this.quarterlyData.updatePartialQuarterlyReport(this.privateNotes,"PN").subscribe((function(){e.successMessage="Saved successfully / Guardar con exito",window.setTimeout((function(){e.successMessage=""}),5e3),e.isSubmitted=!0,e.isLoading=!1}),(function(t){e.errorMessage=t.message,e.isLoading=!1})),!1)}},{key:"onCancel",value:function(){console.log("navigating to /quarterly"),this.router.navigateByUrl("/quarterly")}}]),e}()).\u0275fac=function(e){return new(e||k)(y.Mb(u.a),y.Mb(u.b),y.Mb(w.a),y.Mb(j.d),y.Mb(O.a),y.Mb(S.a))},k.\u0275cmp=y.Gb({type:k,selectors:[["app-private-notes"]],decls:26,vars:8,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["hidden","",1,"controls"],["for","quarterlyReportId"],["id","quarterlyReportId","formControlName","quarterlyReportId","type","text",1,"form-control","input-sm"],[1,"controls"],["for","narrative"],["id","narrative","data-cy","narrative","formControlName","narrative","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","140px","margin-right","10px",3,"hidden","click"],["type","button",1,"btn","btn-default",2,"width","95px",3,"hidden","click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(e,t){1&e&&(y.zc(0,U,2,1,"div",0),y.zc(1,_,2,1,"div",1),y.Rb(2,"form",2),y.Rb(3,"fieldset"),y.Rb(4,"div",3),y.Rb(5,"div",4),y.Rb(6,"label",5),y.Bc(7,"Id"),y.Qb(),y.Rb(8,"textarea",6),y.Bc(9,"        "),y.Qb(),y.Qb(),y.Rb(10,"div",7),y.Rb(11,"label",8),y.Bc(12,"Text"),y.Qb(),y.Rb(13,"textarea",9,10),y.Bc(15,"        "),y.Qb(),y.Nb(16,"app-display-errors",11),y.Qb(),y.Rb(17,"div",12),y.Rb(18,"span"),y.Rb(19,"button",13),y.cc("click",(function(){return t.onSubmit()})),y.Bc(20," Guardar/Save "),y.Qb(),y.Qb(),y.Bc(21,"\xa0 "),y.Rb(22,"span"),y.Rb(23,"button",14),y.cc("click",(function(){return t.onCancel()})),y.Bc(24," Cancelar "),y.Qb(),y.Nb(25,"div",15),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()),2&e&&(y.jc("ngIf",t.errorMessage),y.zb(1),y.jc("ngIf",t.successMessage),y.zb(1),y.jc("formGroup",t.myForm),y.zb(14),y.jc("errors",y.mc(7,x)),y.zb(3),y.jc("hidden",!t.qrComponentsEditable),y.zb(4),y.jc("hidden",!t.qrComponentsEditable),y.zb(2),y.jc("hidden",t.myForm.valid||!t.qrComponentsEditable))},directives:[i.l,j.w,j.n,j.f,j.b,j.m,j.e,N.a],encapsulation:2}),Object(l.a)([Object(b.d)(f.a.getSelectedStudentGUId),Object(l.b)("design:type",h.a)],k.prototype,"currentGUId$",void 0),Object(l.a)([Object(b.d)(v.a.getSelectedYearPeriod),Object(l.b)("design:type",h.a)],k.prototype,"selectedYearPeriod$",void 0),Object(l.a)([Object(b.d)(v.a.getQRComponentsEditable),Object(l.b)("design:type",h.a)],k.prototype,"qrComponentsEditable$",void 0),k);function z(e,t){if(1&e&&(y.Rb(0,"option",17),y.Bc(1),y.Qb()),2&e){var r=t.$implicit;y.jc("value",r.value),y.zb(1),y.Dc(" ",r.label," ")}}function E(e,t){if(1&e&&(y.Rb(0,"option",17),y.Bc(1),y.Qb()),2&e){var r=t.$implicit;y.jc("value",r.value),y.zb(1),y.Cc(r.label)}}function F(e,t){1&e&&y.Nb(0,"app-self-reports")}function D(e,t){1&e&&y.Nb(0,"app-mr-consolidated")}function B(e,t){1&e&&y.Nb(0,"app-ja-comments")}function Y(e,t){1&e&&y.Nb(0,"app-private-notes")}function A(e,t){if(1&e){var r=y.Sb();y.Rb(0,"div"),y.Rb(1,"div",3),y.Rb(2,"div",4),y.Rb(3,"div",5),y.Rb(4,"span",6),y.Bc(5," Quarterly Reports "),y.Qb(),y.Rb(6,"span",7),y.Bc(7," Report Year-Period: "),y.Rb(8,"select",8),y.cc("ngModelChange",(function(e){return y.sc(r),y.ec().selectedYearPeriod=e}))("change",(function(e){return y.sc(r),y.ec().setSelectedYearPeriod(e.target.value)})),y.zc(9,z,2,2,"option",9),y.Qb(),y.Qb(),y.Rb(10,"span",7),y.Bc(11," Set Report Status: "),y.Rb(12,"select",10),y.cc("ngModelChange",(function(e){return y.sc(r),y.ec().selectedReviewedStatusID=e}))("change",(function(e){return y.sc(r),y.ec().setStatusForQR(e.target.value)})),y.zc(13,E,2,2,"option",9),y.Qb(),y.Qb(),y.Qb(),y.Rb(14,"div",11),y.Rb(15,"ngb-tabset"),y.Rb(16,"ngb-tab",12),y.zc(17,F,1,0,"ng-template",13),y.Qb(),y.Rb(18,"ngb-tab",14),y.zc(19,D,1,0,"ng-template",13),y.Qb(),y.Rb(20,"ngb-tab",15),y.zc(21,B,1,0,"ng-template",13),y.Qb(),y.Rb(22,"ngb-tab",16),y.zc(23,Y,1,0,"ng-template",13),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb(),y.Qb()}if(2&e){var n=y.ec();y.zb(8),y.jc("ngModel",n.selectedYearPeriod),y.zb(1),y.jc("ngForOf",n.activeQRPeriods),y.zb(3),y.jc("ngModel",n.selectedReviewedStatusID),y.zb(1),y.jc("ngForOf",n.reviewedStatuses)}}var L,$=((L=function(){function e(t,r,n){o(this,e),this.route=t,this.quarterlyData=r,this.store=n,this.isLoading=!1,this.selectedYearPeriod="",this.activeQRPeriods=m.a.activeQRperiods,this.reviewedStatuses=m.a.reviewedQRStatuses,this.qrMini=new p}return a(e,[{key:"ngOnInit",value:function(){console.log("QR containerInit"),this.setQRComponentsEditible(!0),this.subscribeForStudentGUIds2(),this.subscribeForSelectedYearPeriod()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: quarterlyContainer new StudentGUId received"+e.studentGUId),e.studentGUId&&"0000"!==e.studentGUId&&(e.studentGUIdReceived=!0,e.fetchFilteredData())}))}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: SR new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"fetchFilteredData",value:function(){var e=this;this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&""!==this.selectedYearPeriod&&(this.isLoading=!0,this.quarterlyData.getQRMiniForStudentPeriod(this.studentGUId,this.selectedYearPeriod).subscribe((function(t){e.qrMini=t,e.selectedReviewedStatusID=""+e.qrMini.reviewedStatusId,console.log("+++++++++++++++++++++selectedReviewedStatusID "+e.qrMini.reviewedStatusId),e.quarterlyReportGUId=e.qrMini.quarterlyReportGUId}),(function(e){return console.error("Subscribe error: "+e)}),(function(){e.isLoading=!1})))}},{key:"setStatusForQR",value:function(e){var t=this;console.log("selected reviewedStatusId: "+e),this.quarterlyData.setQRReviewedStatus(this.quarterlyReportGUId,e).subscribe((function(){t.successMessage="Updated",window.setTimeout((function(){t.successMessage=""}),500)}),(function(e){t.errorMessage=e,t.isLoading=!1}))}},{key:"setSelectedYearPeriod",value:function(e){this.store.dispatch(new g.f(e)),this.fetchFilteredData()}},{key:"setQRComponentsEditible",value:function(e){this.store.dispatch(new g.a(e))}}]),e}()).\u0275fac=function(e){return new(e||L)(y.Mb(u.a),y.Mb(S.a),y.Mb(b.g))},L.\u0275cmp=y.Gb({type:L,selectors:[["app-quarterly-container"]],decls:4,vars:1,consts:[[1,"row"],[1,"col-12"],[4,"ngIf"],[1,"col"],[1,"card","bg-primary"],[1,"card-header","text-white"],["data-cy","qr-title",2,"font-size","large"],[2,"margin-left","5rem"],["data-cy","period-selector","name","activePeriodSelector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["name","StatusSelector",3,"ngModel","ngModelChange","change"],[1,"card-body","bg-white"],["title","Student Reports"],["ngbTabContent",""],["title","Mentor Reports"],["title","JA Comments","id","ja-comments"],["title","Private Notes"],[3,"value"]],template:function(e,t){1&e&&(y.Rb(0,"div",0),y.Rb(1,"div",1),y.Nb(2,"app-student-header-quarterly"),y.Qb(),y.Qb(),y.zc(3,A,24,4,"div",2)),2&e&&(y.zb(3),y.jc("ngIf",t.studentGUIdReceived))},directives:[Q,i.l,j.t,j.m,j.o,i.k,s.d,s.b,s.c,j.p,j.v,G.a,M.a,P.a,q],encapsulation:2}),Object(l.a)([Object(b.d)(f.a.getSelectedStudentGUId),Object(l.b)("design:type",h.a)],L.prototype,"currentGUId$",void 0),Object(l.a)([Object(b.d)(v.a.getSelectedYearPeriod),Object(l.b)("design:type",h.a)],L.prototype,"selectedYearPeriod$",void 0),L),T=r("6VDH"),V=r("oIRo"),X=r("T8Dl"),H=r("JHQQ");function J(e,t){if(1&e&&(y.Rb(0,"option",12),y.Bc(1),y.Qb()),2&e){var r=t.$implicit;y.jc("value",r.value),y.zb(1),y.Cc(r.label)}}function W(e,t){if(1&e&&(y.Rb(0,"span",13),y.Bc(1),y.Qb()),2&e){var r=y.ec();y.zb(1),y.Cc(r.errorMessage)}}function K(e,t){if(1&e&&(y.Rb(0,"span",14),y.Bc(1),y.Qb()),2&e){var r=y.ec();y.zb(1),y.Cc(r.successMessage)}}function Z(e,t){1&e&&(y.Rb(0,"div",15),y.Nb(1,"app-loading-container"),y.Qb())}function ee(e,t){if(1&e&&(y.Rb(0,"option",12),y.Bc(1),y.Qb()),2&e){var r=t.$implicit;y.jc("value",r.value),y.zb(1),y.Cc(r.label)}}function te(e,t){if(1&e&&(y.Rb(0,"option",12),y.Bc(1),y.Qb()),2&e){var r=t.$implicit;y.jc("value",r.value),y.zb(1),y.Cc(r.label)}}function re(e,t){if(1&e){var r=y.Sb();y.Rb(0,"tr"),y.Rb(1,"td"),y.Bc(2),y.Qb(),y.Rb(3,"td",23),y.cc("click",(function(){y.sc(r);var e=t.$implicit;return y.ec(2).gotoStudent(e.studentGUId)})),y.Bc(4),y.Qb(),y.Rb(5,"td"),y.Bc(6),y.Qb(),y.Rb(7,"td",24),y.Rb(8,"select",25),y.cc("ngModelChange",(function(e){return y.sc(r),t.$implicit.reviewedStatusId=e}))("change",(function(e){y.sc(r);var n=t.index;return y.ec(2).setStatusForQR(n,e.target.value)})),y.zc(9,ee,2,2,"option",5),y.Qb(),y.Qb(),y.Rb(10,"td"),y.Bc(11),y.Qb(),y.Rb(12,"td",24),y.Rb(13,"select",26),y.cc("ngModelChange",(function(e){return y.sc(r),t.$implicit.highlightStatusId=e}))("change",(function(e){y.sc(r);var n=t.index;return y.ec(2).setHighlightStatusForQR(n,e.target.value)})),y.zc(14,te,2,2,"option",5),y.Qb(),y.Qb(),y.Qb()}if(2&e){var n=t.$implicit,i=t.index,o=y.ec(2);y.zb(2),y.Cc(i+1),y.zb(1),y.Eb("link",!0)("red",2087==n.reviewedStatusId)("alert-success",2106==n.highlightStatusId)("alert-danger",2105==n.highlightStatusId),y.zb(1),y.Dc(" ",n.studentName," "),y.zb(2),y.Cc(n.studentStatus),y.zb(2),y.jc("ngModel",n.reviewedStatusId),y.zb(1),y.jc("ngForOf",o.reviewedStatuses),y.zb(2),y.Cc(n.sponsorGroupName),y.zb(2),y.jc("ngModel",n.highlightStatusId),y.zb(1),y.jc("ngForOf",o.highlightStatuses)}}function ne(e,t){if(1&e){var r=y.Sb();y.Rb(0,"div"),y.Rb(1,"table",16),y.Rb(2,"thead"),y.Rb(3,"tr"),y.Nb(4,"th"),y.Rb(5,"th",17),y.cc("onSortColumn",(function(e){return y.sc(r),y.ec().onSortColumn(e)})),y.Bc(6," Student "),y.Qb(),y.Rb(7,"th",18),y.cc("onSortColumn",(function(e){return y.sc(r),y.ec().onSortColumn(e)})),y.Bc(8,"Student Status"),y.Qb(),y.Rb(9,"th",19),y.cc("onSortColumn",(function(e){return y.sc(r),y.ec().onSortColumn(e)})),y.Bc(10,"QR Status"),y.Qb(),y.Rb(11,"th",20),y.cc("onSortColumn",(function(e){return y.sc(r),y.ec().onSortColumn(e)})),y.Bc(12,"Sponsor Group"),y.Qb(),y.Rb(13,"th",21),y.cc("onSortColumn",(function(e){return y.sc(r),y.ec().onSortColumn(e)})),y.Bc(14,"Highlight Status"),y.Qb(),y.Qb(),y.Qb(),y.Rb(15,"tbody"),y.zc(16,re,15,16,"tr",22),y.Qb(),y.Qb(),y.Qb()}if(2&e){var n=y.ec();y.zb(16),y.jc("ngForOf",n.qrMinis)}}var ie,oe,se,ae,ce,ue=((ie=function(){function e(t,r,n,i,s,a){o(this,e),this.currRoute=t,this.router=r,this.quarterlyData=n,this.columnSorter=i,this.store=s,this.session=a,this.isLoading=!1,this.reviewedStatuses=m.a.reviewedQRStatuses,this.highlightStatuses=m.a.highlightStatuses,this.activeQRPeriods=m.a.activeQRperiods,this.selectedYearPeriod="",console.log("quarterly-list constructor"),this.isLoading=!1}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.testNameVisibility$.subscribe((function(t){e.displayTestNames=t})),this.subscribeForSelectedYearPeriod()}},{key:"subscribeForSelectedYearPeriod",value:function(){var e=this;this.subscription=this.selectedYearPeriod$.subscribe((function(t){e.selectedYearPeriod=t,console.log("************NGXS: SR new selectedYearPeriod received"+e.selectedYearPeriod),e.fetchFilteredData()}))}},{key:"scrollIntoView",value:function(){var e=document.body;e&&e.scrollIntoView(!0)}},{key:"setSelectedYearPeriod",value:function(e){this.store.dispatch(new g.f(e))}},{key:"gotoStudent",value:function(e){this.store.dispatch(new T.c(e)),this.router.navigate(["quarterly/edit"])}},{key:"onSortColumn",value:function(e){var t=this;return this.qrMinis.sort((function(r,n){return t.columnSorter.compareValues(r,n,e)}))}},{key:"onSorted",value:function(e){console.log("sorted event received"),console.log(e)}},{key:"fetchFilteredData",value:function(){var e=this;this.isLoading=!0,console.log("quarterly-list data fetch "),this.quarterlyData.getQRMinisForPeriod(this.selectedYearPeriod,0).subscribe((function(t){e.qrMinis=t.filter((function(t){return e.displayTestNames?t:e.displayTestNames||"_Test, _Student"===t.studentName?void 0:t}))}),(function(t){console.error("Subscribe error: "+t),e.isLoading=!1}),(function(){e.isLoading=!1,e.qrMinis&&e.qrMinis.length>0?console.log("### after retreiving, grid to data "+e.qrMinis[0].quarterlyReportGUId):console.log("no results returned")}))}},{key:"setStatusForQR",value:function(e,t){var r=this;console.log("selected reviewedStatusId: "+t),this.quarterlyData.setQRReviewedStatus(this.qrMinis[e].quarterlyReportGUId,t).subscribe((function(){r.successMessage="Updated",window.setTimeout((function(){r.successMessage=""}),500)}),(function(e){r.errorMessage=e,r.isLoading=!1}))}},{key:"setHighlightStatusForQR",value:function(e,t){var r=this;console.log("selected highlightStatusId: "+t),console.log("selected RQGUID:"+this.qrMinis[e].quarterlyReportGUId),this.quarterlyData.setQRHighlightStatus(this.qrMinis[e].quarterlyReportGUId,t).subscribe((function(){r.successMessage="Updated",window.setTimeout((function(){r.successMessage=""}),500)}),(function(e){r.errorMessage=e,r.isLoading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||ie)(y.Mb(u.a),y.Mb(u.b),y.Mb(S.a),y.Mb(V.a),y.Mb(b.g),y.Mb(O.a))},ie.\u0275cmp=y.Gb({type:ie,selectors:[["ng-component"]],decls:15,vars:7,consts:[[1,"card","bg-primary"],[1,"card-header","text-white"],[2,"font-size","large"],[2,"margin-left","10rem"],["name","activePeriodSelector","data-cy","period-selector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"value"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"table-sm","table-striped"],["app-sortable-column","studentName","sort-direction","asc",3,"onSortColumn"],["app-sortable-column","studentStatus",3,"onSortColumn"],["app-sortable-column","reviewedStatusId",3,"onSortColumn"],["app-sortable-column","sponsorGroupName",3,"onSortColumn"],["app-sortable-column","highlightStatusId",3,"onSortColumn"],[4,"ngFor","ngForOf"],[3,"click"],[1,"centered"],["name","StatusSelector",3,"ngModel","ngModelChange","change"],["name","HighlightSelector",3,"ngModel","ngModelChange","change"]],template:function(e,t){1&e&&(y.Rb(0,"div",0),y.Rb(1,"div",1),y.Rb(2,"span",2),y.Bc(3," Quarterly Report Statuses "),y.Qb(),y.Rb(4,"span",3),y.Bc(5," Report Year-Period: "),y.Rb(6,"select",4),y.cc("ngModelChange",(function(e){return t.selectedYearPeriod=e}))("change",(function(e){return t.setSelectedYearPeriod(e.target.value)})),y.zc(7,J,2,2,"option",5),y.Qb(),y.Qb(),y.Qb(),y.Rb(8,"div",6),y.zc(9,W,2,1,"span",7),y.zc(10,K,2,1,"span",8),y.Nb(11,"div"),y.Rb(12,"div",9),y.zc(13,Z,2,0,"div",10),y.zc(14,ne,17,1,"div",11),y.Qb(),y.Qb(),y.Qb()),2&e&&(y.zb(6),y.jc("ngModel",t.selectedYearPeriod),y.zb(1),y.jc("ngForOf",t.activeQRPeriods),y.zb(2),y.jc("ngIf",t.errorMessage),y.zb(1),y.jc("ngIf",t.successMessage),y.zb(2),y.jc("ngSwitch",t.isLoading),y.zb(1),y.jc("ngSwitchCase",!0),y.zb(1),y.jc("ngSwitchCase",!1))},directives:[j.t,j.m,j.o,i.k,i.l,i.m,i.n,j.p,j.v,X.a,H.a],styles:['th[app-sortable-column][_ngcontent-%COMP%]{text-align:left;cursor:pointer;-webkit-text-decoration-line:underline;text-decoration-line:underline;-webkit-text-decoration-style:solid;text-decoration-style:solid}.up-arrow[_ngcontent-%COMP%]:before{content:"^&nbsp;"}.down-arrow[_ngcontent-%COMP%]:after{content:"v&nbsp;&nbsp;"}.thumbnail[_ngcontent-%COMP%]:hover{position:relative;top:-25px;left:-35px;width:150px;height:auto;display:block;z-index:999}']}),Object(l.a)([Object(b.d)(v.a.getTestNamesVisibility),Object(l.b)("design:type",h.a)],ie.prototype,"testNameVisibility$",void 0),Object(l.a)([Object(b.d)(v.a.getSelectedYearPeriod),Object(l.b)("design:type",h.a)],ie.prototype,"selectedYearPeriod$",void 0),ie),de=function(){return["active"]},le=function(){return["/quarterly"]},be=function(){return{exact:!0}},he=function(){return["/quarterly/edit"]},pe=((oe=function e(){o(this,e)}).\u0275fac=function(e){return new(e||oe)},oe.\u0275cmp=y.Gb({type:oe,selectors:[["app-quarterly-navbar"]],decls:5,vars:10,consts:[[3,"routerLinkActive","routerLink","routerLinkActiveOptions"],[3,"routerLinkActive","routerLink"]],template:function(e,t){1&e&&(y.Rb(0,"nav"),y.Rb(1,"a",0),y.Bc(2,"Status List"),y.Qb(),y.Rb(3,"a",1),y.Bc(4,"Review/Edit Reports"),y.Qb(),y.Qb()),2&e&&(y.zb(1),y.jc("routerLinkActive",y.mc(5,de))("routerLink",y.mc(6,le))("routerLinkActiveOptions",y.mc(7,be)),y.zb(2),y.jc("routerLinkActive",y.mc(8,de))("routerLink",y.mc(9,he)))},directives:[u.d,u.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:38px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#add8e6}"]}),oe),fe=[{path:"",component:(se=function e(){o(this,e)},se.\u0275fac=function(e){return new(e||se)},se.\u0275cmp=y.Gb({type:se,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,t){1&e&&(y.Nb(0,"app-quarterly-navbar"),y.Nb(1,"router-outlet"))},directives:[pe,u.f],encapsulation:2}),se),canActivate:[d.a],children:[{path:"",pathMatch:"full",component:ue},{path:"edit",component:$},{path:"quarterly-container",component:ue}]}],ge=((ce=function e(){o(this,e)}).\u0275mod=y.Kb({type:ce}),ce.\u0275inj=y.Jb({factory:function(e){return new(e||ce)},imports:[[u.e.forChild(fe)],u.e]}),ce),ve=((ae=function e(){o(this,e)}).\u0275mod=y.Kb({type:ae}),ae.\u0275inj=y.Jb({factory:function(e){return new(e||ae)},imports:[[i.c,c.a,ge,s.a]]}),ae)},o9p1:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("tk/3"),i=r("z6cu"),s=r("JIr8"),c=r("vkgz"),u=r("HS3z"),d=r("fXoL"),l=function(){var e=function(){function e(t,r){o(this,e),this.http=t,this.webApiPrefixService=r,this.WebApiPrefix=r.getWebApiPrefix()}return a(e,[{key:"getQuarterlyReport",value:function(e){var t=this.WebApiPrefix+"quarterlyreport/"+e;return console.log("sending AuthHttp get request for QuarterlyReport"),this.http.get(t).pipe(Object(s.a)(this.handleError))}},{key:"getQuarterlyReportsForStudent",value:function(e,t){var r=t.substr(0,4),n=t.substr(5,1),i=this.WebApiPrefix+"quarterlyreport/"+e+"/"+r+"/"+n;return console.log("sending AuthHttp get request for QuarterlyReportForStudentPeriod"),this.http.get(i).pipe(Object(s.a)(this.handleError))}},{key:"getQRMiniForStudentPeriod",value:function(e,t){var r=t.substr(0,4),n=t.substr(5,1),i=this.WebApiPrefix+"quarterly/single/"+e+"/"+r+"/"+n;return console.log("sending AuthHttp get request for QRMiniForStudentPeriod with url"+i),this.http.get(i).pipe(Object(s.a)(this.handleError))}},{key:"getQRMinisForPeriod",value:function(e,t){var r=e.substr(0,4),n=e.substr(5,1),i=this.WebApiPrefix+"quarterly/"+r+"/"+n+"/"+t;return console.log("sending AuthHttp get request for QRMinisForPeriod"),this.http.get(i).pipe(Object(s.a)(this.handleError))}},{key:"getPartialQuarterlyReportByPeriod",value:function(e,t,r,n){var i=r.substr(0,4),o=r.substr(5,1),a=this.WebApiPrefix+"quarterly/"+e+"/"+t+"/"+i+"/"+o+"/"+n;return console.log("sending AuthHttp get request for getPartialQuarterlyReportByPeriod with "+a),this.http.get(a).pipe(Object(s.a)(this.handleError))}},{key:"setQRReviewedStatus",value:function(e,t){var r=this.WebApiPrefix+"quarterly/status/"+e+"/"+t;return console.log("sending AuthHttp put request to set reviewedStatusId "+t),this.http.put(r,null).pipe(Object(c.a)((function(){return console.log("set reviewedStatus returned")})),Object(s.a)(this.handleError))}},{key:"setQRHighlightStatus",value:function(e,t){var r=this.WebApiPrefix+"quarterly/highlight_status/"+e+"/"+t;return console.log("sending AuthHttp put request to with URL"+r),this.http.put(r,null).pipe(Object(c.a)((function(){return console.log("set highlightStatus returned")})),Object(s.a)(this.handleError))}},{key:"updatePartialQuarterlyReport",value:function(e,t){var r=this.WebApiPrefix+"quarterly/"+t;console.log("in putPartialQuarterlyReport with url "+r);var i=JSON.stringify(e),o=(new n.c).set("Content-Type","application/json");return console.log("ready to post "+r+" body: "+i+" options "+o),this.http.put(r,i,{headers:o})}},{key:"handleError",value:function(e){console.log("quarterly-data handlError"),JSON.stringify(e);var t=e.message?e.message:e.status?"".concat(e.status," - ").concat(e.statusText):"Server error";return console.log(t.message),console.log(t.statusText),console.error(t),"No JWT present or has expired"===t&&window.alert("Session has expired, please log in again."),Object(i.a)(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Zb(n.a),d.Zb(u.a))},e.\u0275prov=d.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},qGxU:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var n=r("mrSG"),i=r("AcyG"),s=r("LRne"),c=r("HDdC"),u=r("vkgz"),d=r("Kj3r"),l=r("/uUt"),b=r("eIep"),h=r("JIr8"),p=r("6VDH"),f=r("dfvj"),g=r("fXoL"),v=r("2vts"),m=r("tyNb"),y=r("ofXK"),S=r("3Pt+"),R=r("1kSV");function I(e,t){1&e&&(g.Rb(0,"span"),g.Bc(1," Or: "),g.Qb())}function C(e,t){if(1&e){var r=g.Sb();g.Rb(0,"span",10),g.cc("click",(function(){return g.sc(r),g.ec().gotoStudentList()})),g.Bc(1,"Browse Students "),g.Qb()}}var Q=function(){var e=function(){function e(t){o(this,e),this.studentData=t}return a(e,[{key:"search",value:function(e){return""===e?Object(s.a)([]):this.studentData.getCurrentStudentMiniDTOs(e).pipe(Object(u.a)((function(e){return console.log(e)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Zb(v.a))},e.\u0275prov=g.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),j=function(){var e=function(){function e(t,r,n,i){var a=this;o(this,e),this._service=t,this.router=r,this.studentData=n,this.store=i,this.searching=!1,this.searchFailed=!1,this.currentGUId="0000",this.search=function(e){return e.pipe(Object(d.a)(500),Object(l.a)(),Object(u.a)((function(){return a.searching=!0})),Object(b.a)((function(e){return a._service.search(e).pipe(Object(u.a)((function(){return a.searchFailed=!1})),Object(u.a)((function(e){return console.log(e[0].studentName)})),Object(h.a)((function(){return a.searchFailed=!0,Object(s.a)([])})))})),Object(u.a)((function(){return a.searching=!1})))},this.formatter=function(e){return e.studentName+" <"+e.email+">"},console.log("name-lookup constructor!")}return a(e,[{key:"ngOnInit",value:function(){this.subscribeForStudentGUIds2()}},{key:"onSelect",value:function(e){console.log(e.item.studentId),console.log(e.item.studentGUId),this.currentGUId=e.item.studentGUId,this.store.dispatch(new p.c(this.currentGUId)),this.email=e.item.email,this.studentName=e.item.studentName}},{key:"onFocus",value:function(){var e=document.getElementById("search-string");e.focus(),e.select()}},{key:"onInput",value:function(){0===document.getElementById("search-string").value.length&&this.resetStudentData()}},{key:"onClear",value:function(){console.log("onClear");var e=document.getElementById("search-string");e.focus(),e.value="",this.resetStudentData()}},{key:"subscribeForStudentGUIds2",value:function(){var e=this;this.subscription=this.currentGUId$.subscribe((function(t){e.studentGUId=t,console.log("************NGXS: header new StudentGUId received"+e.studentGUId),e.studentGUId&&"0000"!==e.studentGUId&&(e.currentGUId=e.studentGUId,e.fetchData())}))}},{key:"resetStudentData",value:function(){console.log("studentLookup reset"),this.currentGUId="0000",this.store.dispatch(new p.c(this.studentGUId))}},{key:"fetchData",value:function(){var e=this;this.studentData.getCurrentStudentMiniDTO(this.currentGUId).subscribe((function(t){e.studentMiniDTO=t}),(function(e){return console.error("Subscribe error: "+e)}),(function(){e.email=e.studentMiniDTO.email,e.studentName=e.studentMiniDTO.studentName}))}},{key:"gotoStudentList",value:function(){this.router.navigateByUrl("admins/students/studentList")}},{key:"gotoStudent",value:function(){if("0000"!==this.currentGUId){var e=["admins/students/student",{guid:this.currentGUId}];console.log("navigating to "+e),this.router.navigate(e)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Mb(Q),g.Mb(m.b),g.Mb(v.a),g.Mb(i.g))},e.\u0275cmp=g.Gb({type:e,selectors:[["app-student-lookup"]],inputs:{showSearchButton:"showSearchButton"},decls:17,vars:13,consts:[["for","search-string"],[2,"margin-bottom","2px","margin-left","3rem"],[4,"ngIf"],["style","margin-bottom: 2px; margin-left: 1rem;","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between"],["id","search-string","type","text","placeholder","Last Name or First Name or Email",1,"form-control",3,"editable","ngModel","ngbTypeahead","inputFormatter","resultFormatter","ngModelChange","input","focus","selectItem"],[1,"btn",2,"margin-left","-25px",3,"click"],[1,"row"],[1,"link",2,"margin-top",".4rem","margin-left","1rem",3,"hidden","click"],[2,"margin-left","1rem","margin-top",".2rem",3,"hidden"],[1,"btn","btn-sm","btn-primary",2,"margin-bottom","2px","margin-left","1rem",3,"click"]],template:function(e,t){1&e&&(g.Rb(0,"label",0),g.Bc(1,"Search for Student:"),g.Qb(),g.Rb(2,"span",1),g.zc(3,I,2,0,"span",2),g.zc(4,C,2,0,"span",3),g.Qb(),g.Rb(5,"div",4),g.Rb(6,"input",5),g.cc("ngModelChange",(function(e){return t.studentMiniDTO=e}))("input",(function(){return t.onInput()}))("focus",(function(){return t.onFocus()}))("selectItem",(function(e){return t.onSelect(e)})),g.Qb(),g.Rb(7,"span"),g.Rb(8,"button",6),g.cc("click",(function(){return t.onClear()})),g.Rb(9,"b"),g.Bc(10,"[\u2716]"),g.Qb(),g.Qb(),g.Qb(),g.Qb(),g.Rb(11,"div",7),g.Rb(12,"span",8),g.cc("click",(function(){return t.gotoStudent()})),g.Bc(13),g.Qb(),g.Nb(14,"br"),g.Rb(15,"span",9),g.Bc(16),g.Qb(),g.Qb()),2&e&&(g.zb(3),g.jc("ngIf",t.showSearchButton),g.zb(1),g.jc("ngIf",t.showSearchButton),g.zb(2),g.Eb("is-invalid",t.searchFailed),g.jc("editable",!1)("ngModel",t.studentMiniDTO)("ngbTypeahead",t.search)("inputFormatter",t.formatter)("resultFormatter",t.formatter),g.zb(6),g.jc("hidden","0000"==t.currentGUId),g.zb(1),g.Dc("Student Profile: ",t.studentName," "),g.zb(2),g.jc("hidden","0000"==t.currentGUId),g.zb(1),g.Dc(" Email: ",t.email," "))},directives:[y.l,S.b,R.e,S.m,S.o],styles:[".form-control[_ngcontent-%COMP%] { width: 300px; display: inline; }"]}),Object(n.a)([Object(i.d)(f.a.getSelectedStudentGUId),Object(n.b)("design:type",c.a)],e.prototype,"currentGUId$",void 0),e}()}}])}();