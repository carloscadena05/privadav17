(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{S6ZU:function(e,t,s){"use strict";s.r(t),s.d(t,"MentorsModule",(function(){return Xe}));var o=s("1kSV"),n=s("bV1B"),i=s("UBNF"),r=s("tyNb"),a=s("LA/q"),c=s("mrSG"),l=s("AcyG"),d=s("HDdC"),b=s("fPB/"),u=s("dfvj"),h=s("LkS6"),m=s("fXoL"),g=s("NJKB"),p=s("3Pt+"),f=s("Dn1Q"),v=s("WhHa"),R=s("ofXK");function y(e,t){if(1&e&&(m.Rb(0,"div",16),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function C(e,t){if(1&e&&(m.Rb(0,"div",17),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}let I=(()=>{class e{constructor(e,t,s,o,n,i){this.currRoute=e,this.router=t,this.followUpData=s,this._fb=o,this.session=n,this.xlator=i,this.followUpRequest=new h.a,this.requestStatuses=[{value:"0",label:"[None]"},{value:"2091",label:"Requested"},{value:"2092",label:"Assigned"},{value:"2104",label:"Closed"}],this.requestorRoles=[{value:"0",label:"[None]"},{value:"1008",label:"Volunteer"},{value:"1009",label:"Sponsor"},{value:"1010",label:"Mentor"},{value:"1013",label:"Donor"},{value:"1007",label:"Board Member"},{value:"2068",label:"Admin"},{value:"2069",label:"Student"}],this.myForm=o.group({studentSelector:[""],requestorRoleSelector:[""],requestorSelector:[""],description_English:[""],comments_English:[""]}),this.followUpRequest.studentGUId=e.snapshot.params.studentGUId,this.followUpRequest.requestorRoleId=1010,this.followUpRequest.requestorId=this.session.getUserId();const r=new Date;this.followUpRequest.requestDateTime=new Date(r.getTime()-6e4*r.getTimezoneOffset()),console.log("reportDateTime = "+this.followUpRequest.requestDateTime),this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){this.isLoading=!0,this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1}),this.subscribeForStudentNames()}subscribeForStudentNames(){this.subscription=this.currentName$.subscribe(e=>{this.studentName=e,console.log("************NGXS: mr summary updates new StudentName received"+this.studentName)})}onSubmit(){return console.log("Hi from FollowUpRequests Submit"),this.myForm.invalid?(this.errorMessage="",window.scrollTo(0,0),!1):(this.followUpData.postFollowUpRequest(this.followUpRequest).subscribe(e=>{console.log("followUp Request completed -- sending Initial Event with response"),console.log(e.followUpRequest),this.submitInitialEvent(e.followUpRequest)},e=>{this.errorMessage=e.message,this.isLoading=!1},()=>{}),!1)}onCancel(){this.navigateBackInContext()}submitInitialEvent(e){console.log("in submitInitialEvent with FollowUpRequest"),console.log(e);const t=new b.a;t.followUpRequestId=e.followUpRequestId,t.eventDateTime=e.requestDateTime,t.enteredById=this.session.getUserId(),t.requestStatusId=2092,t.assignedToId=2433,t.assignedToRoleId=2068,t.comments_English=this.initialComments,console.log("ready to submit intitial event with"),console.log(t),this.followUpData.postFollowUpEvent(t).subscribe(e=>{console.log("have response to followUpRequest post with response "),console.log(e)},e=>{this.errorMessage=e.message,this.isLoading=!1},()=>{this.submitted=!0,this.isLoading=!1;const e="/mentors/follow-up-requests";console.log("after call to addFollowUpRequest for mentors; navigating to "+e),this.router.navigateByUrl(e)})}navigateBackInContext(){console.log("navigating to /mentors"),this.router.navigateByUrl("/mentors")}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}translateFromSpanish(e){this.xlator.translateFromSpanish(e)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(r.a),m.Mb(r.b),m.Mb(g.a),m.Mb(p.d),m.Mb(f.a),m.Mb(v.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-follow-up-requests-add"]],decls:29,vars:7,consts:[[1,"card","bg-warning"],[1,"card-header","bg-warning","text-for-warning",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[3,"disabled"],[1,"form-group"],[1,"controls"],["formControlName","description_English","type","text","placeholder","Brief Description of Request",1,"form-control","input-sm",3,"ngModel","ngModelChange"],["success",""],["for","comments_English"],["id","comments_English","formControlName","comments_English","type","text","placeholder","",1,"form-control","input-sm",3,"ngModel","ngModelChange"],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2),m.Qb(),m.Rb(3,"div",2),m.zc(4,y,2,1,"div",3),m.zc(5,C,2,1,"div",4),m.Rb(6,"form",5),m.Rb(7,"fieldset",6),m.Rb(8,"div",7),m.Rb(9,"div",8),m.Rb(10,"label"),m.Bc(11,"Brief Description / Breve Descripci\xf3n"),m.Qb(),m.Rb(12,"input",9,10),m.cc("ngModelChange",(function(e){return t.followUpRequest.description_English=e})),m.Qb(),m.Qb(),m.Rb(14,"div",8),m.Rb(15,"label",11),m.Bc(16,"Detailed Comments / Comentarios detallados"),m.Qb(),m.Rb(17,"textarea",12,10),m.cc("ngModelChange",(function(e){return t.initialComments=e})),m.Bc(19,"              "),m.Qb(),m.Qb(),m.Qb(),m.Rb(20,"div",7),m.Rb(21,"div",13),m.Rb(22,"span"),m.Rb(23,"button",14),m.cc("click",(function(){return t.onSubmit()})),m.Bc(24," Submit "),m.Qb(),m.Qb(),m.Bc(25,"\xa0 "),m.Rb(26,"span"),m.Rb(27,"button",15),m.cc("click",(function(){return t.onCancel()})),m.Bc(28," Cancel "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(2),m.Dc(" Request For Assistance / Solicitud de Asistencia -- ",t.studentName," "),m.zb(2),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("formGroup",t.myForm),m.zb(1),m.jc("disabled",t.submitted),m.zb(5),m.jc("ngModel",t.followUpRequest.description_English),m.zb(5),m.jc("ngModel",t.initialComments))},directives:[R.l,p.w,p.n,p.f,p.b,p.m,p.e],styles:[""]}),Object(c.a)([Object(l.d)(u.a.getSelectedStudentName),Object(c.b)("design:type",d.a)],e.prototype,"currentName$",void 0),e})();var S=s("T8Dl"),M=s("1w/L");function Q(e,t){if(1&e&&(m.Rb(0,"div",4),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Dc(" ",e.errorMessage,"")}}function j(e,t){1&e&&(m.Rb(0,"div",5),m.Nb(1,"app-loading-container"),m.Qb())}function w(e,t){1&e&&(m.Rb(0,"div",12),m.Bc(1," No Requests have been filed recently. "),m.Qb())}function z(e,t){1&e&&(m.Rb(0,"div",12),m.Rb(1,"div"),m.Bc(2," If you need more information after submitting a request, please send an email to Antonio ("),m.Rb(3,"a",13),m.Bc(4,"s.martinez@jovenesadelante.org"),m.Qb(),m.Bc(5,") at the office. "),m.Qb(),m.Rb(6,"div"),m.Bc(7," Si necesita m\xe1s informaci\xf3n despu\xe9s de presentar una solicitud, por favor env\xede un correo electr\xf3nico a Antonio ("),m.Rb(8,"a",13),m.Bc(9,"s.martinez@jovenesadelante.org"),m.Qb(),m.Bc(10,") en la oficina. "),m.Qb(),m.Qb())}function N(e,t){if(1&e&&(m.Rb(0,"div"),m.Nb(1,"app-follow-up-requests-list",14),m.Qb()),2&e){const e=m.ec(3);m.zb(1),m.jc("followUpRequests",e.followUpRequests)("displayCompleteHistory",!0)("showAddDetails",!1)}}function B(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div",7),m.Rb(1,"div",8),m.Rb(2,"span"),m.Bc(3,"Previous Requests / Pedidos Anteriores -- "),m.Qb(),m.Rb(4,"span"),m.Bc(5),m.Qb(),m.Rb(6,"span"),m.Rb(7,"span"),m.Rb(8,"span",9),m.cc("click",(function(){return m.sc(e),m.ec(2).followUpRequestAdd()})),m.Bc(9," New Request / Nuevo Pedir "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.zc(10,w,2,0,"div",10),m.zc(11,z,11,0,"div",10),m.zc(12,N,2,3,"div",11),m.Qb()}if(2&e){const e=m.ec(2);m.zb(5),m.Cc(e.studentName),m.zb(5),m.jc("ngIf",!e.haveData),m.zb(1),m.jc("ngIf",e.haveData),m.zb(1),m.jc("ngIf",e.haveData)}}function U(e,t){if(1&e&&(m.Rb(0,"div"),m.zc(1,B,13,4,"div",6),m.Qb()),2&e){const e=m.ec();m.zb(1),m.jc("ngIf",!e.errorMessage)}}let G=(()=>{class e{constructor(e,t,s){this.followUpData=e,this.router=t,this.session=s,this.haveData=!1}ngOnInit(){console.log("followUpRequest ngOnInit"),this.mentorId=this.session.getUserId(),console.log("mentorId "+this.mentorId),this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId=e,console.log("************NGXS: header new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchData()})}fetchData(){this.isLoading=!0,console.log("in fetchData for Assistance with studentGUId"+this.studentGUId),this.followUpData.getFollowUpRequestsForStudentByGUID(this.studentGUId).subscribe(e=>{this.followUpRequests=e},e=>console.error("Subscribe error: "+e),()=>{console.log("done >>"),console.log(this.followUpRequests[0]),console.log("<<"),this.isLoading=!1,this.haveData=this.followUpRequests.length>0})}followUpRequestAdd(){if(console.log("in follow-up-requests: FollowUpRequestAdd, ready to navigate"),null!==this.studentGUId){const e=["/mentors/follow-up-requests-add",{mentorId:this.mentorId,studentGUId:this.studentGUId}];console.log("navigating to "+JSON.stringify(e)),this.router.navigate(e)}}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(g.a),m.Mb(r.b),m.Mb(f.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-follow-up-requests"]],decls:4,vars:4,consts:[["class","alert alert-danger",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"text-center","col-md-4","col-md-offset-4"],["class","card bg-warning",4,"ngIf"],[1,"card","bg-warning"],[1,"card-header","bg-warning","text-for-warning",2,"font-size","large"],[1,"btn","btn-default","active",2,"margin-left","10px",3,"click"],["style","padding: .5rem","class","text-for-warning",4,"ngIf"],[4,"ngIf"],[1,"text-for-warning",2,"padding",".5rem"],["href","mailto:a.lopez@jovenesadelante.org"],[3,"followUpRequests","displayCompleteHistory","showAddDetails"]],template:function(e,t){1&e&&(m.zc(0,Q,2,1,"div",0),m.Rb(1,"div",1),m.zc(2,j,2,0,"div",2),m.zc(3,U,2,1,"div",3),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[R.l,R.m,R.n,S.a,M.a],encapsulation:2}),Object(c.a)([Object(l.d)(u.a.getSelectedStudentGUId),Object(c.b)("design:type",d.a)],e.prototype,"currentGUId$",void 0),e})(),F=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-forum"]],decls:14,vars:0,consts:[[1,"padded"],["href","https://forum.jovenesadelante.org","target","_blank"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"span"),m.Bc(2,"\xa0"),m.Qb(),m.Qb(),m.Rb(3,"div",0),m.Bc(4," A new "),m.Rb(5,"a",1),m.Bc(6,"discussion forum"),m.Qb(),m.Bc(7," just for Jovenes Adelante mentors is now available. If you have any questions about the mentoring process you can find answers, or ask questions. The first time only, you will need to sign up as a new user."),m.Rb(8,"a",1),m.Bc(9,"here"),m.Qb(),m.Bc(10,".\n"),m.Qb(),m.Rb(11,"div"),m.Rb(12,"span"),m.Bc(13,"\xa0"),m.Qb(),m.Qb())},styles:[""]}),e})();var E=s("WUoG"),q=s("6VDH"),x=s("Jw/E"),k=s("WYmY"),D=s("Y1Yw");function O(e,t){if(1&e&&(m.Rb(0,"div",2),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function L(e,t){1&e&&(m.Rb(0,"div",6),m.Nb(1,"app-loading-container"),m.Qb())}function A(e,t){if(1&e){const e=m.Sb();m.Rb(0,"tr",9),m.cc("click",(function(){m.sc(e);const s=t.$implicit,o=t.index;return m.ec(3).selectStudent(s.studentGUId,s.studentName,o)})),m.Rb(1,"td"),m.Bc(2),m.Qb(),m.Rb(3,"td"),m.Nb(4,"img",10),m.Qb(),m.Qb()}if(2&e){const e=t.$implicit,s=m.ec(3);m.jc("ngClass",s.setRowClasses(e.studentGUId,e.activeStatus)),m.zb(2),m.Cc(e.studentName),m.zb(2),m.lc("src","../../../",s.emojis[e.studentSnapshotStatus+1],"",m.uc)}}function _(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"table",7),m.Rb(2,"thead"),m.Rb(3,"tr"),m.Rb(4,"th"),m.Bc(5,"Student Name"),m.Qb(),m.Rb(6,"th"),m.Bc(7,"Latest Emoji"),m.Qb(),m.Qb(),m.Qb(),m.Rb(8,"tbody"),m.zc(9,A,5,3,"tr",8),m.Qb(),m.Qb(),m.Qb()),2&e){const e=m.ec(2);m.zb(9),m.jc("ngForOf",e.students)}}function P(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"div",3),m.zc(2,L,2,0,"div",4),m.zc(3,_,10,1,"div",5),m.Qb(),m.Qb()),2&e){const e=m.ec();m.zb(1),m.jc("ngSwitch",e.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1)}}let V=(()=>{class e{constructor(e,t,s){this.session=e,this.mentorData=t,this.store=s,this.emojis=[],this.errorMessage="",this.emojis=k.a.emojis,this.testNameVisibility$.subscribe(e=>{this.displayTestNames=e})}ngOnInit(){this.isLoading=!0,this.studentGUId="",this.gridLoaded=!1,this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId=e,console.log("************NGXS: header new StudentGUId received"+this.studentGUId),this.gridLoaded||(this.fetchData(),this.gridLoaded=!0)})}fetchData(){console.log("studentGrid calling getStudentsForMentor"),this.mentorData.getStudentsForMentorByGUId(this.session.getUserGUId()).subscribe(e=>{this.students=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test, _Student"===e.studentName?void 0:e)},e=>console.error("Subscribe error: "+e),()=>{this.isLoading=!1,console.log("studentsForMentorGrid has # students: "+this.students.length),console.log(this.students),this.students.length>0?this.selectInitialStudentAfterLoad():this.errorMessage="No students are assigned at this time. / No hay estudiantes asignado en este momento"})}selectInitialStudentAfterLoad(){"0000"===this.studentGUId&&(console.log("no StudentGuid set, force selection of first row"),this.studentGUId=this.students[0].studentGUId,this.studentName=this.students[0].studentName);const e=this.students.findIndex(e=>e.studentGUId===this.studentGUId);e>=0?(console.log("selecting specific row, studentGUId = "+this.studentGUId),this.selectStudent(this.studentGUId,this.studentName,e)):(this.studentGUId="0000",this.studentName="",this.selectInitialStudentAfterLoad())}selectStudent(e,t,s){console.log("student selected studentGUId: "+e+"idx: "+s),this.studentGUId=e,this.studentName=t,this.setRowClasses(this.students[s].studentGUId,this.students[s].activeStatus),this.store.dispatch(new q.d({studentGUId:e,studentName:t}))}setRowClasses(e,t){return{"table-success":e===this.studentGUId,dimmed:0===t,"student-row":!0,clickable:!0}}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(f.a),m.Mb(D.a),m.Mb(l.g))},e.\u0275cmp=m.Gb({type:e,selectors:[["students-for-mentor-grid"]],decls:2,vars:2,consts:[["class","alert alert-warning",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-warning"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"table","table-condensed"],["id","item.studentId",3,"ngClass","click",4,"ngFor","ngForOf"],["id","item.studentId",3,"ngClass","click"],["height","22",3,"src"]],template:function(e,t){1&e&&(m.zc(0,O,2,1,"div",0),m.zc(1,P,4,3,"div",1)),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",!t.errorMessage))},directives:[R.l,R.m,R.n,S.a,R.k,R.j],encapsulation:2}),Object(c.a)([Object(l.d)(u.a.getSelectedStudentGUId),Object(c.b)("design:type",d.a)],e.prototype,"currentGUId$",void 0),Object(c.a)([Object(l.d)(x.a.getTestNamesVisibility),Object(c.b)("design:type",d.a)],e.prototype,"testNameVisibility$",void 0),e})();var Y=s("7iOT"),T=s("CZ4s");let $=(()=>{class e{constructor(){console.log("hi from student-header-mentors constructor")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-student-header-mentors"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"col-2"],[1,"col-6"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"div",0),m.Rb(2,"div",1),m.Rb(3,"div",0),m.Nb(4,"students-for-mentor-grid"),m.Qb(),m.Qb(),m.Rb(5,"div",2),m.Rb(6,"div",0),m.Nb(7,"app-student-photo"),m.Qb(),m.Qb(),m.Rb(8,"div",3),m.Rb(9,"div",0),m.Nb(10,"app-student-header-details"),m.Qb(),m.Qb(),m.Qb(),m.Qb())},directives:[V,Y.a,T.a],encapsulation:2}),e})();var J=s("/JM1"),H=s("joA1");function X(e,t){if(1&e&&(m.Rb(0,"div",4),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Dc(" ",e.errorMessage,"")}}function K(e,t){1&e&&(m.Rb(0,"div",5),m.Nb(1,"app-loading-container"),m.Qb())}function W(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div",7),m.Rb(1,"div",8),m.Rb(2,"span"),m.Bc(3,"Past Reports / Informes Anteriores -- "),m.Qb(),m.Rb(4,"span"),m.Rb(5,"span"),m.Rb(6,"span",9),m.cc("click",(function(){return m.sc(e),m.ec(2).monthlyReportAdd()})),m.Bc(7," Add New Report /A\xf1adir un Nuevo Informe "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Nb(8,"app-mentor-reports2-list",10),m.Qb()}if(2&e){const e=m.ec(2);m.zb(8),m.jc("mentorReports2",e.mentorReports2)}}function Z(e,t){if(1&e&&(m.Rb(0,"div"),m.zc(1,W,9,1,"div",6),m.Qb()),2&e){const e=m.ec();m.zb(1),m.jc("ngIf",!e.errorMessage)}}let ee=(()=>{class e{constructor(e,t,s,o){this.currRoute=e,this.router=t,this.mentorReport2Data=s,this.session=o,console.log("monthlyReports constructor"),this.smileys=k.a.smileys}ngOnInit(){console.log("monthlyReports ngOnInit"),this.mentorId=this.session.getUserId(),console.log("mentorId "+this.mentorId),this.mentorGUId=this.session.getUserGUId(),console.log("mentorGUId "+this.mentorGUId),this.haveCurrentReport=!1,this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId!==e&&(this.studentGUId=e,console.log("************NGXS: header new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&this.fetchData())})}fetchData(){console.log("mr fetchData"),this.isLoading=!0,this.isLoading=!0,this.haveCurrentReport=!1,this.mentorReport2Data.getMentorReport2RPTsViaGUID(this.mentorGUId,this.studentGUId).subscribe(e=>{this.mentorReports2=e},e=>console.error("Subscribe error: "+e),()=>{console.log("done: "),this.isLoading=!1;for(const e of this.mentorReports2);})}monthlyReportAdd(){var e;if(this.haveCurrentReport)alert("There is already a report filed for this month. Please use the edit button to edit it. / Ya hay un informe presentado para este mes. Por favor, utilice el bot\xf3n Editar para editarlo. ");else if(console.log("in monthly-reports: monthlyReportAdd, ready to navigate"),null!==this.studentGUId){const t=["/mentors/monthly-reports-add",{mentorId:this.mentorId,mentorGUId:this.mentorGUId,studentGUId:this.studentGUId,studentName:null===(e=this.mentorReports2[0])||void 0===e?void 0:e.studentName}];console.log("navigating to "+JSON.stringify(t)),this.router.navigate(t)}}monthlyReportEdit(e){console.log("in monthly-reports: monthlyReportEdit, ready to navigate"),null!==this.studentId&&this.router.navigateByUrl("/mentors/monthly-reports-edit/"+e)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(r.a),m.Mb(r.b),m.Mb(J.a),m.Mb(f.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-mentor-reports"]],decls:6,vars:4,consts:[["class","alert alert-danger",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"text-center","col-md-4","col-md-offset-4"],["class","card bg-primary",4,"ngIf"],[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"btn","btn-default","active",2,"margin","4px 0 0 10px",3,"click"],[3,"mentorReports2"]],template:function(e,t){1&e&&(m.zc(0,X,2,1,"div",0),m.Rb(1,"h4"),m.Bc(2,"\xa0"),m.Qb(),m.Rb(3,"div",1),m.zc(4,K,2,0,"div",2),m.zc(5,Z,2,1,"div",3),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(3),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[R.l,R.m,R.n,S.a,H.a],encapsulation:2}),Object(c.a)([Object(l.d)(u.a.getSelectedStudentGUId),Object(c.b)("design:type",d.a)],e.prototype,"currentGUId$",void 0),e})();var te=s("ZmIP");function se(e,t){if(1&e&&(m.Rb(0,"option",8),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}let oe=(()=>{class e{constructor(e){this.store=e,this.isLoading=!1,this.activeQRPeriods=k.a.activeQRperiods}ngOnInit(){this.subscribeForSelectedYearPeriod()}subscribeForSelectedYearPeriod(){this.subscription=this.selectedYearPeriod$.subscribe(e=>{this.selectedYearPeriod=e,console.log("************NGXS: SR new selectedYearPeriod received"+this.selectedYearPeriod)})}setSelectedYearPeriod(e){this.store.dispatch(new E.f(e))}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(l.g))},e.\u0275cmp=m.Gb({type:e,selectors:[["student-self-report-container"]],decls:12,vars:2,consts:[[1,"col"],[1,"card","bg-primary"],[1,"card-header","text-white"],[2,"font-size","large"],[2,"margin-left","10rem"],["name","activePeriodSelector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body","bg-white"],[3,"value"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Rb(2,"div",2),m.Rb(3,"span",3),m.Bc(4," Student Quarterly Reports "),m.Qb(),m.Rb(5,"span",4),m.Bc(6," Report Year-Period: "),m.Rb(7,"select",5),m.cc("ngModelChange",(function(e){return t.selectedYearPeriod=e}))("change",(function(e){return t.setSelectedYearPeriod(e.target.value)})),m.Bc(8,"> "),m.zc(9,se,2,2,"option",6),m.Qb(),m.Qb(),m.Qb(),m.Rb(10,"div",7),m.Nb(11,"app-self-reports"),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(7),m.jc("ngModel",t.selectedYearPeriod),m.zb(2),m.jc("ngForOf",t.activeQRPeriods))},directives:[p.t,p.m,p.o,R.k,te.a,p.p,p.v],encapsulation:2}),Object(c.a)([Object(l.d)(x.a.getSelectedYearPeriod),Object(c.b)("design:type",d.a)],e.prototype,"selectedYearPeriod$",void 0),e})();function ne(e,t){1&e&&m.Nb(0,"app-mentor-reports")}function ie(e,t){1&e&&m.Nb(0,"student-self-report-container")}function re(e,t){1&e&&m.Nb(0,"app-follow-up-requests")}let ae=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.setQRComponentsEditible(!1)}setQRComponentsEditible(e){this.store.dispatch(new E.a(e))}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(l.g))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:12,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"col"],["title","Mentor Reports"],["ngbTabContent",""],["title","Student Self-Reports"],["title","Assistence/Asistencia"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Nb(2,"app-student-header-mentors"),m.Qb(),m.Qb(),m.Rb(3,"div",0),m.Rb(4,"div",2),m.Rb(5,"ngb-tabset"),m.Rb(6,"ngb-tab",3),m.zc(7,ne,1,0,"ng-template",4),m.Qb(),m.Rb(8,"ngb-tab",5),m.zc(9,ie,1,0,"ng-template",4),m.Qb(),m.Rb(10,"ngb-tab",6),m.zc(11,re,1,0,"ng-template",4),m.Qb(),m.Qb(),m.Qb(),m.Qb())},directives:[$,o.d,o.b,o.c,ee,oe,G],encapsulation:2}),e})();var ce=s("Mg5C"),le=s("j5sF"),de=s("EoNH");function be(e,t){if(1&e&&(m.Rb(0,"div",5),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function ue(e,t){if(1&e&&(m.Rb(0,"div",6),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function he(e,t){1&e&&(m.Rb(0,"div",7),m.Nb(1,"app-loading-container"),m.Qb())}function me(e,t){if(1&e&&(m.Rb(0,"option",32),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function ge(e,t){if(1&e&&(m.Rb(0,"option",32),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}const pe=function(){return{required:"First name is required",maxlength:"Mentor First name cannot exceed 30 characters in length."}},fe=function(){return{required:"Last name is required",maxlength:"Mentor Last name cannot exceed 30 characters in length."}},ve=function(){return{required:"SMA Phone is required.",minlength:"SMA Phone must be at least 7 characters in length.",maxlength:"SMA Phone cannot exceed 13 characters in length."}},Re=function(){return{required:"Months in SMA is required."}},ye=function(){return{required:"Spanish Skill Level is required"}},Ce=function(){return{required:"English Skill Level is required"}};function Ie(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"form",8),m.Rb(2,"label",9),m.Bc(3,"First Name(s)"),m.Qb(),m.Nb(4,"input",10),m.Nb(5,"app-display-errors",11),m.Rb(6,"label",12),m.Bc(7,"Last Name(s)"),m.Qb(),m.Nb(8,"input",13),m.Nb(9,"app-display-errors",14),m.Rb(10,"label",15),m.Bc(11,"SMA Phone"),m.Qb(),m.Nb(12,"input",16),m.Nb(13,"app-display-errors",17),m.Rb(14,"label",18),m.Bc(15,"Months Expected to be in SMA the coming year (e.g., 'All' or 'Jan, Feb,...')"),m.Qb(),m.Nb(16,"input",19),m.Nb(17,"app-display-errors",20),m.Rb(18,"label",21),m.Bc(19,"Spanish Level:"),m.Qb(),m.Rb(20,"select",22),m.zc(21,me,2,2,"option",23),m.Qb(),m.Nb(22,"app-display-errors",24),m.Rb(23,"label",25),m.Bc(24,"English Level:"),m.Qb(),m.Rb(25,"select",26),m.zc(26,ge,2,2,"option",23),m.Qb(),m.Nb(27,"app-display-errors",27),m.Rb(28,"div",28),m.Rb(29,"div",29),m.Rb(30,"button",30),m.cc("click",(function(){return m.sc(e),m.ec().saveMyForm()})),m.Bc(31," Save "),m.Qb(),m.Rb(32,"span",31),m.Bc(33,"All required fields must be filled in before saving."),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(1),m.jc("formGroup",e.myForm),m.zb(4),m.jc("errors",m.mc(11,pe)),m.zb(4),m.jc("errors",m.mc(12,fe)),m.zb(4),m.jc("errors",m.mc(13,ve)),m.zb(4),m.jc("errors",m.mc(14,Re)),m.zb(4),m.jc("ngForOf",e.languageStatuses),m.zb(1),m.jc("errors",m.mc(15,ye)),m.zb(4),m.jc("ngForOf",e.languageStatuses),m.zb(1),m.jc("errors",m.mc(16,Ce)),m.zb(3),m.jc("disabled",!e.myForm.valid),m.zb(2),m.jc("hidden",e.myForm.valid)}}let Se=(()=>{class e{constructor(e,t,s,o){this.currRoute=e,this.session=t,this.memberData=s,this.formBuilder=o,console.log("hi from profile.component constructor"),this.languageStatuses=k.a.languageStatuses,this.myForm=o.group({firstNames:["",p.u.required],lastNames:["",p.u.required],smA_Phone:["",p.u.required],monthsinSma:["",p.u.required],spanishSkillLevelId:["",p.u.required],englishSkillLevelId:["",p.u.required]}),this.mentor=new le.a,this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){console.log("ngOnInit"),this.fetchData(),this.myForm.valueChanges.subscribe(()=>{this.submitted=!1})}fetchData(){const e=this.session.getUserGUId();console.log("calling data service with mentorGUId: "+e),this.isLoading=!0,this.memberData.getMemberByGUId(e).subscribe(e=>{this.mentor=e},e=>console.error("Subscribe error: "+e),()=>{console.log("done loading"),this.setFormValues(this.mentor),this.isLoading=!1})}setFormValues(e){this.myForm.setValue({firstNames:e.firstNames,lastNames:e.lastNames,smA_Phone:e.smA_Phone,monthsinSma:e.monthsinSma,spanishSkillLevelId:e.spanishSkillLevelId,englishSkillLevelId:e.englishSkillLevelId})}retrieveFormValues(){console.log("retrieveFormValues "+JSON.stringify(this.myForm.value)),this.mentor=Object.assign(Object.assign({},this.mentor),this.myForm.value)}saveMyForm(){return console.log("saving "),this.isLoading=!0,this.retrieveFormValues(),this.memberData.updateMember(this.mentor).subscribe(()=>{this.successMessage="Changes were saved successfully.",this.submitted=!0,this.isLoading=!1,window.scrollTo(0,0),window.setTimeout(()=>{this.successMessage=""},3e3)},e=>{this.errorMessage=e,this.isLoading=!1}),!1}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(r.a),m.Mb(f.a),m.Mb(ce.a),m.Mb(p.d))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:5,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"form-horizontal",3,"formGroup"],["for","firstNames"],["id","firstNames","formControlName","firstNames","type","text","placeholder","First Name","maxlength","30",1,"form-control","form-control-sm"],["control","firstNames",1,"red",3,"errors"],["for","lastNames"],["id","lastNames","formControlName","lastNames","type","text","placeholder","Last Name","maxlength","30",1,"form-control","form-control-sm"],["control","lastNames",1,"red",3,"errors"],["for","smA_Phone"],["id","smA_Phone","formControlName","smA_Phone","type","text","placeholder","Phone while in SMA: ###-###-####","required","","maxlength","13","minlength","7",1,"form-control","form-control-sm"],["control","smA_Phone",1,"red",3,"errors"],["for","monthsinSma"],["id","monthsinSma","formControlName","monthsinSma","type","text","placeholder","Months in SMA","required","",1,"form-control","form-control-sm"],["control","monthsinSma",1,"red",3,"errors"],["for","spanishSkillLevelId"],["formControlName","spanishSkillLevelId",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],["control","spanishSkillLevelId",1,"red",3,"errors"],["for","englishSkillLevelId"],["formControlName","englishSkillLevelId",1,"form-control","form-control-sm"],["control","englishSkillLevelId",1,"red",3,"errors"],[1,"form-group"],[1,"controls"],[1,"btn","btn-default",3,"disabled","click"],[1,"red",3,"hidden"],[3,"value"]],template:function(e,t){1&e&&(m.zc(0,be,2,1,"div",0),m.zc(1,ue,2,1,"div",1),m.Rb(2,"div",2),m.zc(3,he,2,0,"div",3),m.zc(4,Ie,34,17,"div",4),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[R.l,R.m,R.n,S.a,p.w,p.n,p.f,p.b,p.m,p.e,p.i,de.a,p.s,p.j,p.t,R.k,p.p,p.v],encapsulation:2}),e})();const Me=function(){return["active"]},Qe=function(e){return["/mentors/profile",e]},je=function(){return{exact:!0}},we=function(){return["/mentors"]};let ze=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-mentors-navbar"]],decls:7,vars:11,consts:[[3,"routerLinkActive","routerLink"],[3,"routerLinkActive","routerLinkActiveOptions","routerLink"],["href","https://forum.jovenesadelante.org","target","blank"]],template:function(e,t){1&e&&(m.Rb(0,"nav"),m.Rb(1,"a",0),m.Bc(2,"[Profile/Perfil]"),m.Qb(),m.Rb(3,"a",1),m.Bc(4,"[Monthly Report/Informe Mensual]"),m.Qb(),m.Rb(5,"a",2),m.Bc(6,"[Discussion Forum]>>"),m.Qb(),m.Qb()),2&e&&(m.zb(1),m.jc("routerLinkActive",m.mc(5,Me))("routerLink",m.nc(6,Qe,t.currUserId)),m.zb(2),m.jc("routerLinkActive",m.mc(8,Me))("routerLinkActiveOptions",m.mc(9,je))("routerLink",m.mc(10,we)))},directives:[r.d,r.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:38px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#add8e6}"]}),e})(),Ne=(()=>{class e{constructor(){console.log("MentorsComponent")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,t){1&e&&(m.Nb(0,"app-mentors-navbar"),m.Nb(1,"router-outlet"))},directives:[ze,r.f],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:500;letter-spacing:.005em;margin-bottom:0;margin-top:.83em}"]}),e})();var Be=s("gExv");function Ue(e,t){if(1&e&&(m.Rb(0,"div",33),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function Ge(e,t){if(1&e&&(m.Rb(0,"div",34),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function Fe(e,t){if(1&e&&(m.Rb(0,"option",14),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Ee(e,t){1&e&&(m.Rb(0,"span",35),m.Bc(1," Select Year"),m.Qb())}function qe(e,t){if(1&e&&(m.Rb(0,"option",14),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function xe(e,t){1&e&&(m.Rb(0,"span",35),m.Bc(1,"Please select an emoji."),m.Qb())}const ke=function(e){return{red:e}},De=function(){return{required:"An entry is required, even if it is just N/A. Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"Entry cannot exceed 4000 characters in length.<br />La entrada no puede exceder 4000 caracteres del largo."}};function Oe(e,t){if(1&e&&(m.Rb(0,"div",37),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function Le(e,t){if(1&e&&(m.Rb(0,"div",38),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function Ae(e,t){if(1&e&&(m.Rb(0,"option",14),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function _e(e,t){1&e&&(m.Rb(0,"span",39),m.Bc(1," Select Year"),m.Qb())}function Pe(e,t){if(1&e&&(m.Rb(0,"option",14),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Ve(e,t){1&e&&(m.Rb(0,"span",39),m.Bc(1,"Please select an emoji."),m.Qb())}const Ye=function(e){return{red:e}},Te=function(){return{bothEmpty:"English OR Spanish Description must be filled in. Descripcione ingles O espa\xf1ol debe rellenarse",maxlength:"Entry cannot exceed 4000 characters in length."}},$e=function(){return{bothEmpty:"English OR Spanish Description must be filled in. Descripcione ingles O espa\xf1ol debe rellenarse",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}},Je=[{path:"",component:Ne,canActivate:[a.b],children:[{path:"",pathMatch:"full",component:ae},{path:"becas-home",component:ae},{path:"profile/:id",component:Se},{path:"monthly-reports/:mentorId",component:ee},{path:"monthly-reports",component:ee},{path:"monthly-reports-add",component:(()=>{class e{constructor(e,t,s,o,n,i){this.location=e,this.currRoute=t,this.router=s,this.mentorReportData=o,this._fb=n,this.session=i,this.mentorReport2=new Be.a,this.isSubmitted=!1,this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.contactYears=k.a.years,this.contactMonths=k.a.months,console.log("Hi from MonthlyReportsAddComponent"),this.myForm=n.group({lastContactYearSelector:["2020"],lastContactMonthSelector:["0",{validators:[this.validateMonth]}],inputEmoji:[666,{validators:[p.u.required,this.validateEmojis]}],narrative_English:["",p.u.required],narrative_Spanish:[""],mentorReportId:[this.reportIdCtl]}),this.lastYearCtl=this.myForm.controls.lastContactYearSelector,this.lastMonthCtl=this.myForm.controls.lastContactMonthSelector,this.emojiCtl=this.myForm.controls.inputEmoji,this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.mentorReportId,this.mentorReport2.reviewedStatusId=2087,this.errorMessage="",this.successMessage="",this.isSubmitted=!1,this.byProxy=this.currRoute.snapshot.params.byProxy,"true"===this.byProxy&&(this.returnTarget="")}ngOnInit(){if(console.log("monthlyReportsAdd ngOnInit"),this.mentorReport2.mentorGUId=this.currRoute.snapshot.params.mentorGUId,this.mentorReport2.studentId=0,this.mentorReport2.studentGUId=this.currRoute.snapshot.params.studentGUId,this.studentName=this.currRoute.snapshot.params.studentName,console.log("mentorGUId "+this.mentorReport2.mentorGUId),console.log("studentId "+this.mentorReport2.studentId),console.log("studentGUId "+this.mentorReport2.studentGUId),"undefined"===this.mentorReport2.mentorGUId||"null"===this.mentorReport2.mentorGUId)console.log("null or undefined value for mentorGUId"),alert("Sorry, you must log out and log back in again before adding a new monthly report"),this.onCancel();else{const e=new Date;this.mentorReport2.reportDateTime=new Date(e.getTime()-6e4*e.getTimezoneOffset()),console.log("reportDateTime = "+this.mentorReport2.reportDateTime),this.mentorReport2.lastContactYear=2020,this.mentorReport2.lastContactMonth=0,this.myForm.valueChanges.subscribe(e=>{console.log("valueChanges fired for form with values"),console.log(JSON.stringify(e)),this.errorMessage="",this.successMessage="",this.isSubmitted=!1,this.checkFormControlsAreValid(!1)})}}checkFormControlsAreValid(e){console.log("checking for valid form controls");let t=!0;return this.errorMessage="",this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.lastMonthCtl.invalid&&(this.lastMonthCtl.dirty||e)&&(this.monthValidationMessage="Please select the correct month. Por favor selecciona el mes corecto",t=!1),this.emojiCtl.invalid&&(this.emojiCtl.dirty||e)&&(this.emojiValidationMessage="An emoji must be selected. Se debe seleccionar un Emoji",t=!1),this.narrative_EnglishCtl.invalid&&(this.narrative_EnglishCtl.dirty||e)&&(this.narrativeValidationMessage="Description must be filled in. Descripcione debe rellenarse",t=!1),window.scrollTo(0,0),t}onSubmit(){console.log("Hi from mentor Report2 Submit"),this.isSubmitted||this.checkFormControlsAreValid(!0)&&(this.isSubmitted=!0,console.log("###before submitting update model with form control values"),this.mentorReport2.lastContactYear=this.lastYearCtl.value,this.mentorReport2.lastContactMonth=this.lastMonthCtl.value,this.mentorReport2.emoji=this.emojiCtl.value,this.mentorReport2.narrative_English=this.narrative_EnglishCtl.value,this.mentorReport2.narrative_Spanish=this.narrative_SpanishCtl.value,this.mentorReportData.addMentorReport2(this.mentorReport2).subscribe(e=>{console.log(this.successMessage=e),this.isLoading=!1,this.location.back()},e=>{this.errorMessage=e,this.isLoading=!1}),this.isSubmitted=!0)}onCancel(){console.log("navigating to /mentors"),this.router.navigateByUrl("/mentors")}validateMonth(e){return console.log("validateMonth has input "+e.value),""+e.value=="0"?(console.log("validateMonth failed"),{validateMonth:!0}):null}validateEmojis(e){return 666===e.value?(console.log("validate emoji failed"),{validateEmojis:!0}):null}hasChanges(){return console.log("hasChanges has submitted "+this.isSubmitted),console.log("hasChanges has form dirty "+this.myForm.dirty),this.myForm.dirty&&!this.isSubmitted}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(R.h),m.Mb(r.a),m.Mb(r.b),m.Mb(J.a),m.Mb(p.d),m.Mb(f.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:71,vars:20,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],[1,"controls"],["for","lastContactYearSelector"],["formControlName","lastContactYearSelector"],[3,"value",4,"ngFor","ngForOf"],["class","red",4,"ngIf"],["formControlName","lastContactMonthSelector"],[3,"value"],[3,"ngClass"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","1",3,"checked"],["src","/assets/images/celebrate.jpg","width","32px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","0",3,"checked"],["src","/assets/images/thumbsUp.jpg","width","30px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","-1",3,"checked"],["src","/assets/images/needsAttention.jpg","width","30px"],["hidden","",1,"controls"],["for","mentorReportId"],["id","mentorReportId","formControlName","mentorReportId","type","text",1,"form-control","input-sm"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm"],["success",""],["control","narrative_English",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],["type","submit",1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"red"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2),m.Qb(),m.Rb(3,"div",2),m.zc(4,Ue,2,1,"div",3),m.zc(5,Ge,2,1,"div",4),m.Rb(6,"form",5),m.cc("ngSubmit",(function(){return t.onSubmit()})),m.Rb(7,"fieldset",6),m.Rb(8,"div",7),m.Rb(9,"div",8),m.Rb(10,"label",9),m.Bc(11," Year/Month you Last Communicated with Student"),m.Nb(12,"br"),m.Bc(13,"A\xf1o/Mes la \xfaltima vez que se comunic\xf3 con el estudiante\xa0"),m.Qb(),m.Rb(14,"select",10),m.zc(15,Fe,2,2,"option",11),m.Qb(),m.zc(16,Ee,2,0,"span",12),m.Rb(17,"select",13),m.Rb(18,"option",14),m.Bc(19,"Select Month"),m.Qb(),m.zc(20,qe,2,2,"option",11),m.Qb(),m.Rb(21,"span",15),m.Bc(22),m.Qb(),m.Qb(),m.Qb(),m.Rb(23,"div",7),m.Rb(24,"div",8),m.Rb(25,"span"),m.Bc(26," Student Emoji: (How are things going overall with the student?)"),m.Nb(27,"br"),m.Bc(28,"Emoji de Estudiante: (c\xf3mo van las cosas en general con el estudiante?)"),m.Qb(),m.Rb(29,"label"),m.Bc(30,"\xa0\xa0\xa0\xa0 "),m.Nb(31,"input",16),m.Nb(32,"img",17),m.Bc(33," Celebrar "),m.Qb(),m.Rb(34,"label"),m.Bc(35,"\xa0\xa0\xa0\xa0 "),m.Nb(36,"input",18),m.Nb(37,"img",19),m.Bc(38," Bien "),m.Qb(),m.Rb(39,"label"),m.Bc(40,"\xa0\xa0\xa0\xa0 "),m.Nb(41,"input",20),m.Nb(42,"img",21),m.Bc(43," Problemas "),m.zc(44,xe,2,0,"span",12),m.Qb(),m.Qb(),m.Qb(),m.Rb(45,"div",22),m.Rb(46,"label",23),m.Bc(47,"Id"),m.Qb(),m.Rb(48,"textarea",24),m.Bc(49,"          "),m.Qb(),m.Qb(),m.Rb(50,"div",8),m.Rb(51,"label",25),m.Bc(52,"Describe positive events or special challenges in the student's life during the past month"),m.Nb(53,"br"),m.Bc(54,"Describa logros y eventos positivos o obst\xe1culos en la vida del estudiante"),m.Qb(),m.Rb(55,"textarea",26,27),m.Bc(57,"          "),m.Qb(),m.Nb(58,"app-display-errors",28),m.Qb(),m.Rb(59,"div",29),m.Rb(60,"span"),m.Rb(61,"button",30),m.cc("click",(function(){return t.onSubmit()})),m.Bc(62," Submit "),m.Qb(),m.Qb(),m.Bc(63,"\xa0 "),m.Rb(64,"span"),m.Rb(65,"button",31),m.cc("click",(function(){return t.onCancel()})),m.Bc(66," Cancel "),m.Qb(),m.Rb(67,"div",32),m.Bc(68,"Year, Month, Emoji and description must be filled in before saving."),m.Nb(69,"br"),m.Bc(70,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(2),m.Dc(" Monthly Mentor Report for ",t.studentName," "),m.zb(2),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("formGroup",t.myForm),m.zb(1),m.jc("disabled",t.isSubmitted),m.zb(8),m.jc("ngForOf",t.contactYears),m.zb(1),m.jc("ngIf",!t.lastYearCtl.valid&&t.lastYearCtl.touched),m.zb(2),m.jc("value",0),m.zb(2),m.jc("ngForOf",t.contactMonths),m.zb(1),m.jc("ngClass",m.nc(17,ke,t.monthValidationMessage)),m.zb(1),m.Cc(t.monthValidationMessage),m.zb(9),m.jc("checked",1==t.emojiCtl.value),m.zb(5),m.jc("checked",0==t.emojiCtl.value),m.zb(5),m.jc("checked",-1==t.emojiCtl.value),m.zb(3),m.jc("ngIf",t.emojiCtl.hasError("required")),m.zb(14),m.jc("errors",m.mc(19,De)),m.zb(9),m.jc("hidden",t.myForm.valid))},directives:[R.l,p.w,p.n,p.f,p.t,p.m,p.e,R.k,p.p,p.v,R.j,p.q,p.b,de.a],encapsulation:2}),e})(),canDeactivate:[a.g]},{path:"monthly-reports-edit/:mentorReportId",component:(()=>{class e{constructor(e,t,s,o,n){this.currRoute=e,this.router=t,this.mentorReportData=s,this._fb=o,this.session=n,this.mentorReport2=new Be.a,this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.contactYears=k.a.years,this.contactMonths=k.a.months,console.log("Hi from MonthlyReports2EditComponent"),this.myForm=o.group({lastContactYearSelector:["2020"],lastContactMonthSelector:["0",{validators:[this.validateMonth]}],inputEmoji:[666,{validators:[p.u.required,this.validateEmojis]}],narrative_English:["",p.u.required],narrative_Spanish:[""],mentorReportId:[this.reportIdCtl]}),this.lastYearCtl=this.myForm.controls.lastContactYearSelector,this.lastMonthCtl=this.myForm.controls.lastContactMonthSelector,this.emojiCtl=this.myForm.controls.inputEmoji,this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.reportIdCtl=this.myForm.controls.mentorReportId,this.mentorReport2.reviewedStatusId=2087,this.errorMessage="",this.successMessage="",this.isSubmitted=!1}ngOnInit(){console.log("monthlyReportsEdit ngOnInit");const e=new Date;this.mentorReport2.reportDateTime=new Date(e.getTime()-6e4*e.getTimezoneOffset()),console.log("reportDateTime = "+this.mentorReport2.reportDateTime),this.mentorReportId=this.currRoute.snapshot.params.mentorReportId,console.log("calling sqlRenpsource with mentorReportId: "+this.mentorReportId),this.isLoading=!0,this.mentorReportData.getMentorReport2(this.mentorReportId).subscribe(e=>{this.mentorReport2=e},e=>console.error("Subscribe error: "+e),()=>{this.isLoading=!1,console.log("### after retreiving, set form controls to retreived mentorReport2-- reportId to "+this.mentorReportId),this.reportIdCtl.setValue(this.mentorReportId),this.lastYearCtl.setValue(this.mentorReport2.lastContactYear),this.lastMonthCtl.setValue(this.mentorReport2.lastContactMonth),this.emojiCtl.setValue(this.mentorReport2.emoji),this.emojiCtl.setValue(0),this.narrative_EnglishCtl.setValue(this.mentorReport2.narrative_English),this.narrative_SpanishCtl.setValue(this.mentorReport2.narrative_Spanish)}),console.log("after init form values"),this.myForm.valueChanges.subscribe(e=>{console.log("valueChanges fired for form with values"),console.log(JSON.stringify(e)),this.errorMessage="",this.successMessage="",this.isSubmitted=!1,this.checkFormControlsAreValid(!1)}),this.subscribeForStudentNames()}subscribeForStudentNames(){this.subscription=this.currentName$.subscribe(e=>{this.studentName=e,console.log("************NGXS: mr edit new StudentName received"+this.studentName)})}checkFormControlsAreValid(e){console.log("checking for valid form controls");let t=!0;return this.errorMessage="",this.monthValidationMessage="",this.emojiValidationMessage="",this.narrativeValidationMessage="",this.lastMonthCtl.invalid&&(this.lastMonthCtl.dirty||e)&&(this.monthValidationMessage="Please select the correct month. Por favor selecciona el mes corecto",t=!1),this.emojiCtl.invalid&&(this.emojiCtl.dirty||e)&&(this.emojiValidationMessage="An emoji must be selected. Se debe seleccionar un Emoji",t=!1),this.narrative_EnglishCtl.invalid&&(this.narrative_EnglishCtl.dirty||e)&&(this.narrativeValidationMessage="Description must be filled in. Descripcione debe rellenarse",t=!1),window.scrollTo(0,0),t}onSubmit(){if(console.log("Hi from mentor Report2 Submit"),this.checkFormControlsAreValid(!0))return console.log("###before submitting update model with form control values"),this.mentorReport2.lastContactYear=this.lastYearCtl.value,this.mentorReport2.lastContactMonth=this.lastMonthCtl.value,this.mentorReport2.emoji=this.emojiCtl.value,this.mentorReport2.narrative_English=this.narrative_EnglishCtl.value,this.mentorReport2.narrative_Spanish=this.narrative_SpanishCtl.value,this.mentorReportData.updateMentorReport2(this.mentorReport2).subscribe(e=>{console.log(this.successMessage=e),this.isLoading=!1,console.log("after call to editMentorReport; navigating to /mentors"),this.router.navigateByUrl("/mentors")},e=>{this.errorMessage=e,this.isLoading=!1}),this.isSubmitted=!0,!1}onCancel(){console.log("navigating to /mentors"),this.router.navigateByUrl("/mentors")}validateMonth(e){return console.log("validateMonth has input "+e.value),""+e.value=="0"?(console.log("validateMonth failed"),{validateMonth:!0}):null}validateEmojis(e){return 666===e.value?(console.log("validate emoji failed"),{validateEmojis:!0}):null}hasChanges(){return console.log("hasChanges has submitted "+this.isSubmitted),console.log("hasChanges has form dirty "+this.myForm.dirty),this.myForm.dirty&&!this.isSubmitted}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(r.a),m.Mb(r.b),m.Mb(J.a),m.Mb(p.d),m.Mb(f.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:83,vars:22,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[3,"disabled"],[1,"form-group"],[1,"controls"],["for","lastContactYearSelector"],["formControlName","lastContactYearSelector"],[3,"value",4,"ngFor","ngForOf"],["class","red",4,"ngIf"],["formControlName","lastContactMonthSelector"],[3,"value"],[3,"ngClass"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","1",3,"checked"],["src","/assets/images/celebrate.jpg","width","32px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","0",3,"checked"],["src","/assets/images/thumbsUp.jpg","width","30px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","-1",3,"checked"],["src","/assets/images/needsAttention.jpg","width","30px"],[2,"color","mediumblue"],["hidden","",1,"controls"],["for","mentorReportId"],["id","mentorReportId","formControlName","mentorReportId","type","text",1,"form-control","input-sm"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm"],["success",""],["control","narrative_English",1,"red",3,"errors"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm"],["control","narrative_Spanish",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],["type","submit",1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],[1,"red",3,"hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"red"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2),m.Qb(),m.Rb(3,"div",2),m.zc(4,Oe,2,1,"div",3),m.zc(5,Le,2,1,"div",4),m.Rb(6,"form",5),m.Rb(7,"fieldset",6),m.Rb(8,"div",7),m.Rb(9,"div",8),m.Rb(10,"label",9),m.Bc(11," Year/Month you Last Communicated with Student"),m.Nb(12,"br"),m.Bc(13,"A\xf1o/Mes la \xfaltima vez que se comunic\xf3 con el estudiante\xa0"),m.Qb(),m.Rb(14,"select",10),m.zc(15,Ae,2,2,"option",11),m.Qb(),m.zc(16,_e,2,0,"span",12),m.Rb(17,"select",13),m.Rb(18,"option",14),m.Bc(19,"Select Month"),m.Qb(),m.zc(20,Pe,2,2,"option",11),m.Qb(),m.Rb(21,"span",15),m.Bc(22),m.Qb(),m.Qb(),m.Qb(),m.Rb(23,"div",7),m.Rb(24,"div",8),m.Rb(25,"span"),m.Bc(26," Student Emoji: (How are things going overall with the student?)"),m.Nb(27,"br"),m.Bc(28,"Emoji de Estudiante: (c\xf3mo van las cosas en general con el estudiante?)"),m.Qb(),m.Bc(29,"> "),m.Rb(30,"label"),m.Bc(31,"\xa0\xa0\xa0\xa0 "),m.Nb(32,"input",16),m.Nb(33,"img",17),m.Bc(34," Celebrar "),m.Qb(),m.Rb(35,"label"),m.Bc(36,"\xa0\xa0\xa0\xa0 "),m.Nb(37,"input",18),m.Nb(38,"img",19),m.Bc(39," Bien "),m.Qb(),m.Rb(40,"label"),m.Bc(41,"\xa0\xa0\xa0\xa0 "),m.Nb(42,"input",20),m.Nb(43,"img",21),m.Bc(44," Problemas "),m.zc(45,Ve,2,0,"span",12),m.Qb(),m.Qb(),m.Qb(),m.Rb(46,"div",22),m.Rb(47,"i"),m.Rb(48,"b"),m.Bc(49,"(If you wish to have the translated text below be re-translated, please delete it before submitting."),m.Nb(50,"br"),m.Bc(51," Si desea tener el texto traducido abajo son traducidos de nuevo, eliminelo antes de entregar.)"),m.Qb(),m.Qb(),m.Qb(),m.Rb(52,"div",23),m.Rb(53,"label",24),m.Bc(54,"Id"),m.Qb(),m.Rb(55,"textarea",25),m.Bc(56,"            "),m.Qb(),m.Qb(),m.Rb(57,"div",8),m.Rb(58,"label",26),m.Bc(59,"English: Positive events or special challenges in the student's life during the past month"),m.Qb(),m.Rb(60,"textarea",27,28),m.Bc(62,"          "),m.Qb(),m.Nb(63,"app-display-errors",29),m.Qb(),m.Rb(64,"div",8),m.Rb(65,"label",30),m.Bc(66,"Espa\xf1ol: Logros y eventos positivos o obst\xe1culos en la vida del estudiante"),m.Qb(),m.Rb(67,"textarea",31,28),m.Bc(69,"            "),m.Qb(),m.Nb(70,"app-display-errors",32),m.Qb(),m.Rb(71,"div",33),m.Rb(72,"span"),m.Rb(73,"button",34),m.cc("click",(function(){return t.onSubmit()})),m.Bc(74," Submit "),m.Qb(),m.Qb(),m.Bc(75,"\xa0 "),m.Rb(76,"span"),m.Rb(77,"button",35),m.cc("click",(function(){return t.onCancel()})),m.Bc(78," Cancel "),m.Qb(),m.Rb(79,"div",36),m.Bc(80,"Year, Month, Emoji and description must be filled in before saving."),m.Nb(81,"br"),m.Bc(82,"A\xf1o, mes, Emoji y descripci\xf3n rellenarse antes de guardar."),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(2),m.Dc(" Monthly Report for ",t.studentName," "),m.zb(2),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("formGroup",t.myForm),m.zb(1),m.jc("disabled",t.isSubmitted),m.zb(8),m.jc("ngForOf",t.contactYears),m.zb(1),m.jc("ngIf",!t.lastYearCtl.valid&&t.lastYearCtl.touched),m.zb(2),m.jc("value",0),m.zb(2),m.jc("ngForOf",t.contactMonths),m.zb(1),m.jc("ngClass",m.nc(18,Ye,t.monthValidationMessage)),m.zb(1),m.Cc(t.monthValidationMessage),m.zb(10),m.jc("checked",1==t.emojiCtl.value),m.zb(5),m.jc("checked",0==t.emojiCtl.value),m.zb(5),m.jc("checked",-1==t.emojiCtl.value),m.zb(3),m.jc("ngIf",t.emojiCtl.hasError("required")),m.zb(18),m.jc("errors",m.mc(20,Te)),m.zb(7),m.jc("errors",m.mc(21,$e)),m.zb(9),m.jc("hidden",t.myForm.valid))},directives:[R.l,p.w,p.n,p.f,p.t,p.m,p.e,R.k,p.p,p.v,R.j,p.q,p.b,de.a],encapsulation:2}),Object(c.a)([Object(l.d)(u.a.getSelectedStudentName),Object(c.b)("design:type",d.a)],e.prototype,"currentName$",void 0),e})(),canDeactivate:[a.g]},{path:"follow-up-requests-add",component:I,canDeactivate:[a.g]},{path:"follow-up-requests",component:G},{path:"forum",component:F}]}];let He=(()=>{class e{}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(t){return new(t||e)},imports:[[r.e.forChild(Je)],r.e]}),e})(),Xe=(()=>{class e{}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(t){return new(t||e)},imports:[[i.a,He,n.QuarterlyModule,o.a]]}),e})()}}]);