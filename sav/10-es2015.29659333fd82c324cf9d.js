(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"7iOT":function(e,t,o){"use strict";o.d(t,"a",(function(){return b}));var s=o("mrSG"),n=o("AcyG"),r=o("HDdC"),i=o("dfvj"),c=o("fXoL"),a=o("HS3z"),l=o("ofXK");function d(e,t){if(1&e&&(c.Rb(0,"div"),c.Rb(1,"div",3),c.Nb(2,"img",4),c.Qb(),c.Qb()),2&e){const e=c.ec();c.zb(2),c.jc("src",e.fullPhotoPathname,c.uc)}}let b=(()=>{class e{constructor(e){console.log("hi from student-photo constructor"),this.clientUrl=e.getClientUrl(),this.subscribeForPhotoPathname()}subscribeForPhotoPathname(){this.subscription=this.photoPathname$.subscribe(e=>{this.photoPathname=e,console.log("************NGXS: photoPathname received"+this.photoPathname),this.fullPhotoPathname=this.clientUrl+"/assets/images/StudentPhotos/"+this.photoPathname})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(a.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-student-photo"]],decls:3,vars:1,consts:[[1,"row"],[1,"col"],[4,"ngIf"],[2,"width","100%"],["height","160",3,"src"]],template:function(e,t){1&e&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.zc(2,d,3,1,"div",2),c.Qb(),c.Qb()),2&e&&(c.zb(2),c.jc("ngIf",t.fullPhotoPathname))},directives:[l.l],encapsulation:2}),Object(s.a)([Object(n.d)(i.a.getPhotoPathname),Object(s.b)("design:type",r.a)],e.prototype,"photoPathname$",void 0),e})()},CZ4s:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var s=o("mrSG"),n=o("AcyG"),r=o("HDdC"),i=o("6VDH"),c=o("dfvj"),a=o("fXoL"),l=o("2vts"),d=o("ofXK"),b=o("T8Dl");function u(e,t){1&e&&a.Nb(0,"div",4)}function m(e,t){1&e&&(a.Rb(0,"div",5),a.Nb(1,"app-loading-container"),a.Qb())}function h(e,t){if(1&e&&(a.Rb(0,"div"),a.Rb(1,"div",6),a.Rb(2,"div",7),a.Rb(3,"label"),a.Bc(4,"Year Joined JA:"),a.Qb(),a.Bc(5),a.Rb(6,"label"),a.Bc(7,"Grad Year/Month:"),a.Qb(),a.Bc(8),a.Qb(),a.Qb(),a.Rb(9,"div",6),a.Rb(10,"div",7),a.Rb(11,"label"),a.Bc(12,"Major:"),a.Qb(),a.Bc(13),a.Nb(14,"br"),a.Rb(15,"label"),a.Bc(16,"University:"),a.Qb(),a.Bc(17),a.Nb(18,"br"),a.Rb(19,"label"),a.Bc(20,"Mentor Name:"),a.Qb(),a.Bc(21),a.Nb(22,"br"),a.Rb(23,"label"),a.Bc(24,"Sponsor Name:"),a.Qb(),a.Bc(25),a.Qb(),a.Qb(),a.Qb()),2&e){const e=a.ec();a.zb(5),a.Dc(" ",e.student.yearJoinedJa,"\xa0\xa0\xa0\xa0\xa0 "),a.zb(3),a.Ec(" ",e.student.gradYear," / ",e.student.gradMonth," "),a.zb(5),a.Dc(" ",e.student.major," "),a.zb(4),a.Dc(" ",e.student.universityName," "),a.zb(4),a.Dc(" ",e.student.mentorName," "),a.zb(4),a.Dc(" ",e.student.sponsorGroupName," ")}}let p=(()=>{class e{constructor(e,t,o){this.store=e,this.studentData=t,this.location=o,this.loadingState=0,this.bReadOnly=!0,console.log("hi from StudentHeaderDetails constructor"),this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){this.loadingState=0,this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId=e,console.log("************NGXS: header details new StudentGUId received"+this.studentGUId),this.fetchData()})}fetchData(){this.studentGUId&&void 0!==this.studentGUId&&"0000"!==this.studentGUId&&(this.loadingState=1,this.studentData.getStudentHeaderDTO(this.studentGUId).subscribe(e=>{this.student=e},e=>{this.errorMessage=e},()=>{this.loadingState=2,this.store.dispatch(new i.b(this.student.photoUrl))}))}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(n.g),a.Mb(l.a),a.Mb(d.h))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-student-header-details"]],decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-center col-md-12 ",4,"ngSwitchCase"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"text-center","col-md-12"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"row"],[1,"col-12"]],template:function(e,t){1&e&&(a.Rb(0,"div",0),a.zc(1,u,1,0,"div",1),a.zc(2,m,2,0,"div",2),a.zc(3,h,26,7,"div",3),a.Qb()),2&e&&(a.jc("ngSwitch",t.loadingState),a.zb(1),a.jc("ngSwitchCase",0),a.zb(1),a.jc("ngSwitchCase",1),a.zb(1),a.jc("ngSwitchCase",2))},directives:[d.m,d.n,b.a],encapsulation:2}),Object(s.a)([Object(n.d)(c.a.getSelectedStudentGUId),Object(s.b)("design:type",r.a)],e.prototype,"currentGUId$",void 0),e})()},JHQQ:function(e,t,o){"use strict";o.d(t,"a",(function(){return d}));var s=o("fXoL"),n=o("oIRo"),r=o("ofXK");const i=["app-sortable-column",""];function c(e,t){1&e&&s.Nb(0,"span",2)}function a(e,t){1&e&&s.Nb(0,"span",3)}const l=["*"];let d=(()=>{class e{constructor(e){this.columnSortService=e,this.onSortColumn=new s.o,this.sortCriteria={sortColumn:"",sortDirection:""}}headerClicked(){console.log("app-sortable-column has headerClick"),this.sortDirection="asc"===this.sortDirection?"desc":"asc",console.log("direction = "+this.sortDirection),console.log("emitting sortColumnClick with columnName = "+this.columnName),this.sortCriteria.sortColumn=this.columnName,this.sortCriteria.sortDirection=this.sortDirection,this.onSortColumn.emit(this.sortCriteria),this.columnSortService.columnSorted(this.sortCriteria)}ngOnInit(){this.columnSortedSubscription=this.columnSortService.columnSorted$.subscribe(e=>{console.log("have column sort subscribption event"),this.columnName!==e.sortColumn&&(this.sortDirection="")})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(n.a))},e.\u0275cmp=s.Gb({type:e,selectors:[["","app-sortable-column",""]],hostBindings:function(e,t){1&e&&s.cc("click",(function(){return t.headerClicked()}))},inputs:{columnName:["app-sortable-column","columnName"],sortDirection:["sort-direction","sortDirection"]},outputs:{onSortColumn:"onSortColumn"},attrs:i,ngContentSelectors:l,decls:3,vars:2,consts:[["class","up-arrow",4,"ngIf"],["class","down-arrow",4,"ngIf"],[1,"up-arrow"],[1,"down-arrow"]],template:function(e,t){1&e&&(s.ic(),s.zc(0,c,1,0,"span",0),s.zc(1,a,1,0,"span",1),s.hc(2)),2&e&&(s.jc("ngIf","asc"===t.sortDirection),s.zb(1),s.jc("ngIf","desc"===t.sortDirection))},directives:[r.l],styles:[".up-arrow[_ngcontent-%COMP%]:after {\n        content: '^';\n      }\n\n      .down-arrow[_ngcontent-%COMP%]:after {\n        content: 'v';\n      }"]}),e})()},Kj3r:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var s=o("7o/Q"),n=o("D0XW");function r(e,t=n.a){return o=>o.lift(new i(e,t))}class i{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new c(e,this.dueTime,this.scheduler))}}class c extends s.a{constructor(e,t,o){super(e),this.dueTime=t,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function a(e){e.debouncedNext()}},SC10:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var s=o("vkgz"),n=o("UXun"),r=o("JIr8"),i=o("jEWH"),c=o("fXoL");let a=(()=>{class e extends i.a{constructor(){super(...arguments),this.mentorsUrl=this.WebApiPrefix+"lookup/mentors",this.adminsUrl=this.WebApiPrefix+"lookup/admins",this.sponsorGroupsUrl=this.WebApiPrefix+"lookup/sponsorgroups",this.sponsorGroups$=this.http.get(this.sponsorGroupsUrl).pipe(Object(s.a)(e=>console.log("sponsorGroups ",JSON.stringify(e[0]))),Object(n.a)(1),Object(r.a)(this.handleError)),this.universitiesUrl=this.WebApiPrefix+"lookup/universities",this.universities$=this.http.get(this.universitiesUrl).pipe(Object(s.a)(e=>console.log("universities ",JSON.stringify(e[0]))),Object(n.a)(1),Object(r.a)(this.handleError)),this.universityGradeMonthsUrl=this.WebApiPrefix+"lookup/universities/grade-months",this.universityGradeMonths$=this.http.get(this.universityGradeMonthsUrl).pipe(Object(s.a)(e=>console.log("universitiy Grade Months ",JSON.stringify(e[0]))),Object(n.a)(1),Object(r.a)(this.handleError)),this.prepasUrl=this.WebApiPrefix+"lookup/prepas",this.prepas$=this.http.get(this.prepasUrl).pipe(Object(s.a)(e=>console.log("prepas ",JSON.stringify(e[0]))),Object(n.a)(1),Object(r.a)(this.handleError))}getMentors$(){return this.http.get(this.mentorsUrl).pipe(Object(s.a)(e=>console.log("mentorNames ",JSON.stringify(e[0]))),Object(n.a)(1),Object(r.a)(this.handleError))}getAdmins$(){return this.http.get(this.adminsUrl).pipe(Object(s.a)(e=>console.log("adminNames ",JSON.stringify(e[0]))),Object(n.a)(1),Object(r.a)(this.handleError))}}return e.\u0275fac=function(t){return l(t||e)},e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const l=c.Tb(a)},XuDu:function(e,t,o){"use strict";o.r(t),o.d(t,"AdminsModule",(function(){return an}));var s=o("3Pt+"),n=o("1kSV"),r=o("UBNF"),i=o("tyNb"),c=o("LA/q"),a=o("X8Ev"),l=o("WYmY"),d=o("Mg5C"),b=o("j5sF"),u=o("HS3z"),m=o("fXoL"),h=o("ofXK"),p=o("T8Dl"),g=o("EoNH");function f(e,t){if(1&e&&(m.Rb(0,"div",6),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function v(e,t){if(1&e&&(m.Rb(0,"div",7),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function S(e,t){1&e&&(m.Rb(0,"div",8),m.Nb(1,"app-loading-container"),m.Qb())}function R(e,t){1&e&&(m.Rb(0,"div",47),m.Bc(1," All text fields must be filled in before submitting. "),m.Qb())}function M(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function y(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function I(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Q(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function w(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function C(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function N(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function z(e,t){if(1&e&&(m.Rb(0,"option",48),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function j(e,t){1&e&&(m.Rb(0,"div",47),m.Bc(1," At least one status value must be selected for the new Member. "),m.Qb())}const G=function(){return{required:"First name is required",maxlength:"First name cannot exceed 30 characters in length."}},B=function(){return{required:"Last name is required",maxlength:"Last name cannot exceed 30 characters in length."}},O=function(){return{required:"Email is required",maxlength:"Email cannot exceed 50 characters in length",email:"Email address must be in valid format"}};function F(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"form",9),m.Rb(2,"div",10),m.Rb(3,"div",11),m.Rb(4,"div",12),m.Rb(5,"span",13),m.cc("click",(function(){return m.sc(e),m.ec().backToMemberSearch()})),m.Bc(6," <<\xa0 Back "),m.Qb(),m.Bc(7," \xa0 "),m.Rb(8,"button",14),m.cc("click",(function(){return m.sc(e),m.ec().gotoMember()})),m.Bc(9," Edit New Member "),m.Qb(),m.Bc(10," \xa0 "),m.Qb(),m.Rb(11,"div",15),m.Rb(12,"label",16),m.Bc(13,"First Name(s)"),m.Qb(),m.Nb(14,"input",17),m.Nb(15,"app-display-errors",18),m.Rb(16,"label",19),m.Bc(17,"Last Name(s)"),m.Qb(),m.Nb(18,"input",20),m.Nb(19,"app-display-errors",21),m.Rb(20,"label",22),m.Bc(21,"Email"),m.Qb(),m.Nb(22,"input",23),m.Nb(23,"app-display-errors",24),m.zc(24,R,2,0,"div",25),m.Qb(),m.Qb(),m.Rb(25,"div",26),m.Rb(26,"div",11),m.Rb(27,"div",10),m.Rb(28,"div",27),m.Rb(29,"label",28),m.Bc(30,"Mentor Status:"),m.Qb(),m.Rb(31,"select",29),m.Nb(32,"option",30),m.zc(33,M,2,2,"option",31),m.Qb(),m.Rb(34,"label",32),m.Bc(35,"Admin Status:"),m.Qb(),m.Rb(36,"select",33),m.Nb(37,"option",30),m.zc(38,y,2,2,"option",31),m.Qb(),m.Rb(39,"label",34),m.Bc(40,"Volunteer Status:"),m.Qb(),m.Rb(41,"select",35),m.Nb(42,"option",30),m.zc(43,I,2,2,"option",31),m.Qb(),m.Rb(44,"label",36),m.Bc(45,"President Status:"),m.Qb(),m.Rb(46,"select",37),m.Nb(47,"option",30),m.zc(48,Q,2,2,"option",31),m.Qb(),m.Qb(),m.Rb(49,"div",27),m.Rb(50,"label",38),m.Bc(51,"Sponsor Status:"),m.Qb(),m.Rb(52,"select",39),m.Nb(53,"option",30),m.zc(54,w,2,2,"option",31),m.Qb(),m.Rb(55,"label",40),m.Bc(56,"Donor Status:"),m.Qb(),m.Rb(57,"select",41),m.Nb(58,"option",30),m.zc(59,C,2,2,"option",31),m.Qb(),m.Rb(60,"label",42),m.Bc(61,"Employee Status:"),m.Qb(),m.Rb(62,"select",43),m.Nb(63,"option",30),m.zc(64,N,2,2,"option",31),m.Qb(),m.Rb(65,"label",44),m.Bc(66,"Board Status:"),m.Qb(),m.Rb(67,"select",45),m.Nb(68,"option",30),m.zc(69,z,2,2,"option",31),m.Qb(),m.Qb(),m.Qb(),m.Rb(70,"div",10),m.zc(71,j,2,0,"div",25),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Rb(72,"div",10),m.Rb(73,"div",12),m.Rb(74,"button",46),m.cc("click",(function(){return m.sc(e),m.ec().saveMyForm()})),m.Bc(75," Submit "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(1),m.jc("formGroup",e.myForm),m.zb(7),m.jc("hidden",!e.submitted),m.zb(7),m.jc("errors",m.mc(16,G)),m.zb(4),m.jc("errors",m.mc(17,B)),m.zb(4),m.jc("errors",m.mc(18,O)),m.zb(1),m.jc("ngIf",(null==e.myForm.get("textGroup").errors?null:e.myForm.get("textGroup").errors.allText)&&e.bInvalidSubmitState),m.zb(9),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(6),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(2),m.jc("ngIf",(null==e.myForm.get("statusGroup").errors?null:e.myForm.get("statusGroup").errors.atLeastOne)&&e.bInvalidSubmitState),m.zb(3),m.jc("disabled",e.submitted)}}let D=(()=>{class e{constructor(e,t,o,n,r,i){this.currRoute=e,this.router=t,this.urlService=o,this.memberData=n,this._fb=r,this.location=i,this.bReadOnly=!0,this.bInvalidSubmitState=!1,this.statusGroupError="statusGroupError",console.log("hi from AdminsAddMember constructor"),this.languageStatuses=l.a.languageStatuses,this.roleStatuses=l.a.memberStatuses,this.myForm=r.group({textGroup:r.group({firstNames:["",s.u.compose([s.u.required,s.u.maxLength(30)])],lastNames:["",s.u.compose([s.u.required,s.u.maxLength(30)])],email:["",s.u.compose([s.u.required,s.u.email,s.u.maxLength(50)])]},{validator:this.setAllTextFields}),statusGroup:r.group({mentorStatusId:[""],sponsorStatusId:[""],adminStatusId:[""],employeeStatusId:[""],donorStatusId:[""],volunteerStatusId:[""],presidentStatusId:[""],boardStatusId:[""]},{validator:this.setAtLeastOneStatus})}),this.myForm.controls.statusGroup.setValidators(this.setAtLeastOneStatus),this.myForm.controls.statusGroup.updateValueAndValidity(),this.member=new b.a,this.member.firstNames="",this.member.lastNames="",this.member.email="",this.member.mentorStatusId=0,this.member.mentorStatusId=0,this.member.sponsorStatusId=0,this.member.adminStatusId=0,this.member.employeeStatusId=0,this.member.donorStatusId=0,this.member.volunteerStatusId=0,this.member.presidentStatusId=0,this.member.boardMemberStatusId=0,this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){console.log("admins AddMember ngOnInit"),this.setFormValues(this.member),this.isLoading=!1}setFormValues(e){console.log("setFormValues"),this.myForm.patchValue({firstNames:e.firstNames,lastNames:e.lastNames,email:e.email,mentorStatusId:e.mentorStatusId,sponsorStatusId:e.sponsorStatusId,adminStatusId:e.adminStatusId,employeeStatusId:e.employeeStatusId,donorStatusId:e.donorStatusId,volunteerStatusId:e.volunteerStatusId,presidentStatusId:e.presidentStatusId,boardStatusId:e.boardMemberStatusId})}retrieveFormValues(){console.log("retrieveFormValues "+JSON.stringify(this.myForm.value)),this.member=Object.assign(Object.assign(Object.assign(Object.assign({},this.member),this.myForm.value),this.myForm.controls.textGroup.value),this.myForm.controls.statusGroup.value)}saveMyForm(){return console.log("saving admin member "),this.myForm.valid?(this.isLoading=!0,this.retrieveFormValues(),this.memberData.addMember(this.member).subscribe(e=>{console.log("subscribe result in updateMember"),window.setTimeout(()=>{this.successMessage="New Member was created successfully. Click [Edit New Member] below to fill in additional details for this member."},0),this.newGUId=e.memberGUId,this.submitted=!0,this.myForm.disable(),this.isLoading=!1,window.scrollTo(0,0)},e=>{console.log(e),this.errorMessage="An error occurred; please check if a member with that email address already exits.",this.isLoading=!1,window.setTimeout(()=>{this.errorMessage=""},1e4)}),!1):(this.bInvalidSubmitState=!0,!1)}backToMemberSearch(){this.router.navigate(["/admins/members"])}gotoMember(){const e=["admins/members/member",{guid:this.newGUId}];console.log("navigating to "+e),this.router.navigate(e)}setAllTextFields(e){return console.log("must set all text fields"),""===e.controls.firstNames.value||""===e.controls.lastNames.value||""===e.controls.email.value?(console.log(" set -- setting error allText"),{allText:!0}):null}setAtLeastOneStatus(e){return""===e.controls.mentorStatusId.value&&""===e.controls.sponsorStatusId.value&&""===e.controls.adminStatusId.value&&""===e.controls.employeeStatusId.value&&""===e.controls.donorStatusId.value&&""===e.controls.volunteerStatusId.value&&""===e.controls.presidentStatusId.value&&""===e.controls.boardStatusId.value?(console.log("no Status set -- setting error atLeastOne"),{atLeastOne:!0}):null}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(i.b),m.Mb(u.a),m.Mb(d.a),m.Mb(s.d),m.Mb(h.h))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:6,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[2,"max-width","900px"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-primary","btn-sm",3,"hidden","click"],["formGroupName","textGroup",1,"form-group"],["for","firstNames"],["id","firstNames","formControlName","firstNames","type","text","placeholder","First Name",1,"form-control","form-control-sm"],["control","firstNames",1,"red",3,"errors"],["for","lastNames"],["id","lastNames","formControlName","lastNames","type","text","placeholder","Last Name",1,"form-control","form-control-sm"],["control","lastNames",1,"red",3,"errors"],["for","email"],["id","email","formControlName","email","type","text","placeholder","Valid Email Address",1,"form-control","form-control-sm"],["control","email",1,"red",3,"errors"],["class","red",4,"ngIf"],["formGroupName","statusGroup"],[1,"col-6",2,"padding","0 2px 0 4px"],["for","mentorStatusId"],["formControlName","mentorStatusId",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","adminStatusId"],["formControlName","adminStatusId",1,"form-control","form-control-sm"],["for","volunteerStatusId"],["formControlName","volunteerStatusId",1,"form-control","form-control-sm"],["for","presidentStatusId"],["formControlName","presidentStatusId",1,"form-control","form-control-sm"],["for","sponsorStatusId"],["formControlName","sponsorStatusId",1,"form-control","form-control-sm"],["for","donorStatusId"],["formControlName","donorStatusId",1,"form-control","form-control-sm"],["for","employeeStatusId"],["formControlName","employeeStatusId",1,"form-control","form-control-sm"],["for","boardStatusId"],["formControlName","boardStatusId",1,"form-control","form-control-sm"],[1,"btn","btn-primary",3,"disabled","click"],[1,"red"],[3,"value"]],template:function(e,t){1&e&&(m.zc(0,f,2,1,"div",0),m.zc(1,v,2,1,"div",1),m.Rb(2,"div",2),m.Rb(3,"div",3),m.zc(4,S,2,0,"div",4),m.zc(5,F,76,19,"div",5),m.Qb(),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(2),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,s.w,s.n,s.f,s.g,s.b,s.m,s.e,g.a,s.t,s.p,s.v,h.k],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}"]}),e})();var U=o("mrSG"),x=o("AcyG"),k=o("HDdC"),P=o("Jw/E"),T=o("Dn1Q"),L=o("oIRo");let E=(()=>{class e{constructor(e){this.sortService=e,this.sorted=new m.o}ngOnInit(){console.log("sortable-table onInit"),this.columnSortedSubscription=this.sortService.columnSorted$.subscribe(e=>{this.sorted.emit(e)})}ngOnDestroy(){this.columnSortedSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(L.a))},e.\u0275dir=m.Hb({type:e,selectors:[["","appSortableTable",""]],outputs:{sorted:"sorted"}}),e})();var _=o("JHQQ");function A(e,t){if(1&e&&(m.Rb(0,"span",16),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function q(e,t){if(1&e&&(m.Rb(0,"span",17),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function $(e,t){if(1&e&&(m.Rb(0,"option",18),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("ngValue",e),m.zb(1),m.Cc(e.label)}}function V(e,t){if(1&e&&(m.Rb(0,"option",18),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("ngValue",e),m.zb(1),m.Cc(e.label)}}function Y(e,t){if(1&e&&(m.Rb(0,"option",18),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("ngValue",e),m.zb(1),m.Cc(e.label)}}function J(e,t){1&e&&(m.Rb(0,"div",19),m.Nb(1,"app-loading-container"),m.Qb())}function H(e,t){if(1&e){const e=m.Sb();m.Rb(0,"tr"),m.Rb(1,"td"),m.Bc(2),m.Qb(),m.Rb(3,"td"),m.Nb(4,"img",27),m.Qb(),m.Rb(5,"td",28),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).gotoMember(o.memberGUId)})),m.Bc(6),m.Qb(),m.Rb(7,"td"),m.Bc(8),m.Qb(),m.Rb(9,"td"),m.Rb(10,"a",29),m.Bc(11),m.Qb(),m.Qb(),m.Rb(12,"td",28),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).gotoStudent(o.relatedStudentGUId,o.relatedStudentName)})),m.Bc(13),m.Qb(),m.Rb(14,"td"),m.Bc(15),m.Qb(),m.Qb()}if(2&e){const e=t.$implicit,o=t.index;m.zb(2),m.Dc(" ",o+1," "),m.zb(2),m.jc("src",e.photoUrl,m.uc),m.zb(2),m.Ec(" ",e.lastNames,", ",e.firstNames," "),m.zb(2),m.Dc(" ",e.memberStatus," "),m.zb(2),m.lc("href","mailto:",e.email,"",m.uc),m.zb(1),m.Cc(e.email),m.zb(2),m.Dc(" ",e.relatedStudentName," "),m.zb(2),m.Dc(" ",e.relatedStudentStatus," ")}}function X(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"table",20),m.Rb(2,"thead"),m.Rb(3,"tr"),m.Nb(4,"th"),m.Nb(5,"th"),m.Rb(6,"th",21),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(7,"Member"),m.Qb(),m.Rb(8,"th",22),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(9,"Member Status"),m.Qb(),m.Rb(10,"th",23),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(11,"Email"),m.Qb(),m.Rb(12,"th",24),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(13,"Related Student"),m.Qb(),m.Rb(14,"th",25),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(15,"Student Status"),m.Qb(),m.Qb(),m.Qb(),m.Rb(16,"tbody"),m.zc(17,H,16,9,"tr",26),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(17),m.jc("ngForOf",e.members)}}let W=(()=>{class e{constructor(e,t,o,s){this.memberData=e,this.router=t,this.session=o,this.columnSorter=s,console.log("Hi from member List Ctrl controller function"),this.roleStatuses=l.a.memberStatuses,this.memberTypes=l.a.memberTypes,this.studentStatuses=l.a.studentStatuses,this.isLoading=!1,this.testNameVisibility$.subscribe(e=>{this.displayTestNames=e})}set selectedStatus(e){this._selectedStatus=e,this.fetchFilteredData()}get selectedStatus(){return this._selectedStatus}set selectedStudentStatus(e){this._selectedStudentStatus=e,this.fetchFilteredData()}get selectedStudentStatus(){return this._selectedStudentStatus}set selectedType(e){this._selectedType=e,this.session.setMemberType(e),this.fetchFilteredData()}get selectedType(){return this._selectedType}ngOnInit(){console.log("ngOnInit"),console.log("types[2] = "+this.memberTypes[2].label);const e=this.session.getMemberType();let t=2;e&&(t=this.memberTypes.findIndex(t=>t.value===e.value),console.log("setting MemberType to saved "+e)),this._selectedType=this.memberTypes[t],console.log("statuses[0] = "+this.roleStatuses[0].value),this._selectedStatus=this.roleStatuses[0],this._selectedStudentStatus=this.studentStatuses[2],this.fetchFilteredData()}fetchFilteredData(){this.isLoading=!0,this.memberData.getMemberWithAnyRelatedStudent(this.selectedType.label,Number(this.selectedStatus.value),Number(this.selectedStudentStatus.value)).subscribe(e=>{this.members=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test"===e.lastNames?void 0:e)},e=>this.errorMessage=e,()=>{console.log("done"),this.isLoading=!1})}gotoMember(e){const t=["admins/members/member",{guid:e}];console.log("navigating to "+t),this.router.navigate(t)}gotoStudent(e,t){console.log("setting studentName to "+t);const o=["admins/students/student",{guid:e}];console.log("navigating to "+o),this.router.navigate(o)}gotoMemberSearch(){const e="/admins/members";console.log("navigating to "+e),this.router.navigateByUrl(e)}onSortColumn(e){return console.log("parent received sortColumnCLick event with "+e.sortColumn),this.members.sort((t,o)=>this.columnSorter.compareValues(t,o,e))}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(d.a),m.Mb(i.b),m.Mb(T.a),m.Mb(L.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:29,vars:11,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"btn","btn-secondary","link",3,"click"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["for","TypeSelector"],["name","TypeSelector",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","StatusSelector"],["name","StatusSelector",3,"ngModel","ngModelChange"],["for","StudentStatusSelector"],["name","StudentStatusSelector",3,"ngModel","ngModelChange"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[3,"ngValue"],[1,"text-center","col-md-4","col-md-offset-4"],["appSortableTable","",1,"table-sm","table-striped"],["app-sortable-column","memberName",3,"onSortColumn"],["app-sortable-column","memberStatus",3,"onSortColumn"],["app-sortable-column","email",3,"onSortColumn"],["app-sortable-column","relatedStudentName",3,"onSortColumn"],["app-sortable-column","relatedStudentStatus",3,"onSortColumn"],[4,"ngFor","ngForOf"],["height","30",1,"thumbnail",3,"src"],[1,"link",3,"click"],[3,"href"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Rb(2,"span"),m.Bc(3,"Browse Members"),m.Qb(),m.Bc(4,"\xa0\xa0\xa0\xa0\xa0 "),m.Rb(5,"span",2),m.cc("click",(function(){return t.gotoMemberSearch()})),m.Bc(6,"Member Search"),m.Qb(),m.Qb(),m.Rb(7,"div",3),m.zc(8,A,2,1,"span",4),m.zc(9,q,2,1,"span",5),m.Rb(10,"div"),m.Rb(11,"label",6),m.Bc(12,"Type:"),m.Qb(),m.Rb(13,"select",7),m.cc("ngModelChange",(function(e){return t.selectedType=e})),m.zc(14,$,2,2,"option",8),m.Qb(),m.Bc(15," \xa0 "),m.Rb(16,"label",9),m.Bc(17,"Member Status:"),m.Qb(),m.Rb(18,"select",10),m.cc("ngModelChange",(function(e){return t.selectedStatus=e})),m.zc(19,V,2,2,"option",8),m.Qb(),m.Bc(20," \xa0 "),m.Rb(21,"label",11),m.Bc(22,"Student Status:"),m.Qb(),m.Rb(23,"select",12),m.cc("ngModelChange",(function(e){return t.selectedStudentStatus=e})),m.zc(24,Y,2,2,"option",8),m.Qb(),m.Qb(),m.Rb(25,"div",13),m.zc(26,J,2,0,"div",14),m.zc(27,X,18,1,"div",15),m.Qb(),m.Qb(),m.Bc(28," l"),m.Qb()),2&e&&(m.zb(8),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(4),m.jc("ngModel",t.selectedType),m.zb(1),m.jc("ngForOf",t.memberTypes),m.zb(4),m.jc("ngModel",t.selectedStatus),m.zb(1),m.jc("ngForOf",t.roleStatuses),m.zb(4),m.jc("ngModel",t.selectedStudentStatus),m.zb(1),m.jc("ngForOf",t.studentStatuses),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,s.t,s.m,s.o,h.k,h.m,h.n,s.p,s.v,p.a,E,_.a],styles:['th[app-sortable-column][_ngcontent-%COMP%]{text-align:left;cursor:pointer;-webkit-text-decoration-line:underline;text-decoration-line:underline;-webkit-text-decoration-style:solid;text-decoration-style:solid}.up-arrow[_ngcontent-%COMP%]:before{content:"^&nbsp;"}.down-arrow[_ngcontent-%COMP%]:after{content:"v&nbsp;&nbsp;"}']}),Object(U.a)([Object(x.d)(P.a.getTestNamesVisibility),Object(U.b)("design:type",k.a)],e.prototype,"testNameVisibility$",void 0),e})();var K=o("uzGq"),Z=o("LRne"),ee=o("vkgz"),te=o("Kj3r"),oe=o("/uUt"),se=o("eIep"),ne=o("JIr8"),re=o("yWv8");let ie=(()=>{class e{constructor(e){this.memberData=e}search(e){return""===e?Object(Z.a)([]):(console.log("in search about to call getMemberMiniDTOs"),this.memberData.getCurrentMemberMiniDTOs(e).pipe(Object(ee.a)(e=>console.log(e))))}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(d.a))},e.\u0275prov=m.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ce=(()=>{class e{constructor(e,t,o,s){this._service=e,this.router=t,this.memberData=o,this.store=s,this.searching=!1,this.searchFailed=!1,this.currentGUId="0000",this.search=e=>e.pipe(Object(te.a)(500),Object(oe.a)(),Object(ee.a)(e=>console.log("search function has searchStr "+e)),Object(ee.a)(()=>this.searching=!0),Object(se.a)(e=>this._service.search(e).pipe(Object(ee.a)(()=>this.searchFailed=!1),Object(ee.a)(e=>console.log(e[0].memberName)),Object(ne.a)(()=>(this.searchFailed=!0,Object(Z.a)([]))))),Object(ee.a)(()=>this.searching=!1)),this.formatter=e=>e.memberName+" <"+e.email+">",console.log("name-lookup constructor!")}ngOnInit(){this.subscribeForMemberGUIds2()}onSelect(e){console.log("onSelect"),console.log(e.item.memberId),console.log(e.item.memberGUId),this.currentGUId=e.item.memberGUId,this.store.dispatch(new re.c(this.currentGUId)),this.email=e.item.email,this.memberName=e.item.memberName}onFocus(){const e=document.getElementById("search-string");e.focus(),e.select()}onInput(){console.log("onInput"),0===document.getElementById("search-string").value.length&&this.resetMemberData()}onClear(){console.log("onClear");const e=document.getElementById("search-string");e.focus(),e.value="",this.resetMemberData()}subscribeForMemberGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.memberGUId=e,console.log("************NGXS: header new MemberGUId received"+this.memberGUId),this.memberGUId&&"0000"!==this.memberGUId&&this.fetchData()})}fetchData(){this.memberData.getCurrentMemberMiniDTO(this.currentGUId).subscribe(e=>{this.memberMiniDTO=e},e=>console.error("Subscribe error: "+e),()=>{this.email=this.memberMiniDTO.email,this.memberName=this.memberMiniDTO.memberName})}resetMemberData(){console.log("memberLookup reset"),this.currentGUId="0000",this.store.dispatch(new re.c(this.memberGUId))}gotoMemberList(){this.router.navigateByUrl("admins/members/memberList")}gotoCreateNewMember(){this.router.navigateByUrl("admins/members/createNewMember")}gotoMember(){if("0000"!==this.currentGUId){const e=["admins/members/member",{guid:this.currentGUId}];console.log("navigating to "+e),this.router.navigate(e)}}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(ie),m.Mb(i.b),m.Mb(d.a),m.Mb(x.g))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-member-lookup"]],decls:19,vars:11,consts:[["for","search-string"],[1,"btn","btn-sm","btn-primary",2,"margin-bottom","2px",3,"click"],[1,"d-flex","justify-content-between"],["id","search-string","type","text","placeholder","Last Name or First Name or Email",1,"form-control",3,"editable","ngModel","ngbTypeahead","inputFormatter","resultFormatter","ngModelChange","input","focus","selectItem"],[1,"btn",2,"margin-left","-25px",3,"click"],[1,"row"],[1,"link",2,"margin-top",".4rem","margin-left","1rem",3,"hidden","click"],[2,"margin-left","1rem","margin-top",".2rem",3,"hidden"]],template:function(e,t){1&e&&(m.Rb(0,"label",0),m.Bc(1,"Search for Member:"),m.Qb(),m.Bc(2,"\xa0\xa0\xa0Or:\xa0"),m.Rb(3,"span",1),m.cc("click",(function(){return t.gotoMemberList()})),m.Bc(4,"Browse Members"),m.Qb(),m.Bc(5,"\n\xa0Or:\xa0"),m.Rb(6,"span",1),m.cc("click",(function(){return t.gotoCreateNewMember()})),m.Bc(7,"Create New Member"),m.Qb(),m.Rb(8,"div",2),m.Rb(9,"input",3),m.cc("ngModelChange",(function(e){return t.memberMiniDTO=e}))("input",(function(){return t.onInput()}))("focus",(function(){return t.onFocus()}))("selectItem",(function(e){return t.onSelect(e)})),m.Qb(),m.Rb(10,"button",4),m.cc("click",(function(){return t.onClear()})),m.Rb(11,"b"),m.Bc(12,"[\u2716]"),m.Qb(),m.Qb(),m.Qb(),m.Rb(13,"div",5),m.Rb(14,"span",6),m.cc("click",(function(){return t.gotoMember()})),m.Bc(15),m.Qb(),m.Nb(16,"br"),m.Rb(17,"span",7),m.Bc(18),m.Qb(),m.Qb()),2&e&&(m.zb(9),m.Eb("is-invalid",t.searchFailed),m.jc("editable",!1)("ngModel",t.memberMiniDTO)("ngbTypeahead",t.search)("inputFormatter",t.formatter)("resultFormatter",t.formatter),m.zb(5),m.jc("hidden","0000"==t.currentGUId),m.zb(1),m.Dc("Member Profile: ",t.memberName," "),m.zb(2),m.jc("hidden","0000"==t.currentGUId),m.zb(1),m.Dc(" Email: ",t.email," "))},directives:[s.b,n.e,s.m,s.o],encapsulation:2}),Object(U.a)([Object(x.d)(K.a.getSelectedMemberGUId),Object(U.b)("design:type",k.a)],e.prototype,"currentGUId$",void 0),e})();function ae(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"div",3),m.Nb(2,"img",4),m.Qb(),m.Qb()),2&e){const e=m.ec();m.zb(2),m.jc("src",e.fullPhotoPathname,m.uc)}}let le=(()=>{class e{constructor(e){this.clientUrl=e.getClientUrl(),this.subscribeForPhotoPathname()}subscribeForPhotoPathname(){this.subscription=this.photoPathname$.subscribe(e=>{this.photoPathname=e,console.log("************NGXS: photoPathname received"+this.photoPathname),this.fullPhotoPathname=this.clientUrl+"/assets/images/StudentPhotos/"+this.photoPathname})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(u.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-member-photo"]],decls:3,vars:1,consts:[[1,"row"],[1,"col"],[4,"ngIf"],[2,"width","100%"],["height","160",3,"src"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.zc(2,ae,3,1,"div",2),m.Qb(),m.Qb()),2&e&&(m.zb(2),m.jc("ngIf",t.fullPhotoPathname))},directives:[h.l],encapsulation:2}),Object(U.a)([Object(x.d)(K.a.getPhotoPathname),Object(U.b)("design:type",k.a)],e.prototype,"photoPathname$",void 0),e})();function de(e,t){1&e&&m.Nb(0,"div",4)}function be(e,t){1&e&&(m.Rb(0,"div",5),m.Nb(1,"app-loading-container"),m.Qb())}function ue(e,t){1&e&&(m.Rb(0,"span"),m.Bc(1," Admin "),m.Qb())}function me(e,t){1&e&&(m.Rb(0,"span"),m.Bc(1," Mentor "),m.Qb())}function he(e,t){1&e&&(m.Rb(0,"span"),m.Bc(1," Sponsor "),m.Qb())}function pe(e,t){1&e&&(m.Rb(0,"span"),m.Bc(1," Student "),m.Qb())}function ge(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"div",6),m.Rb(2,"div",7),m.Rb(3,"label"),m.Bc(4,"Year Joined JA:"),m.Qb(),m.Bc(5),m.Qb(),m.Qb(),m.Rb(6,"div",6),m.Rb(7,"div",7),m.Rb(8,"label"),m.Bc(9,"Categories:"),m.Qb(),m.zc(10,ue,2,0,"span",8),m.zc(11,me,2,0,"span",8),m.zc(12,he,2,0,"span",8),m.zc(13,pe,2,0,"span",8),m.Qb(),m.Qb(),m.Qb()),2&e){const e=m.ec();m.zb(5),m.Dc(" ",e.member.yearJoinedJa," "),m.zb(5),m.jc("ngIf",1015==e.member.adminStatusId),m.zb(1),m.jc("ngIf",1015==e.member.mentorStatusId),m.zb(1),m.jc("ngIf",1015==e.member.sponsorStatusId),m.zb(1),m.jc("ngIf",e.member.studentId>0)}}let fe=(()=>{class e{constructor(e,t,o){this.store=e,this.memberData=t,this.location=o,this.loadingState=0,this.bReadOnly=!0,console.log("hi from MemberHeaderDetails constructor"),this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){console.log("MemberHeaderDetails ngOnInit"),this.loadingState=0,this.subscribeForMemberGUIds2()}subscribeForMemberGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.memberGUId=e,console.log("************NGXS: header new StudentGUId received"+this.memberGUId),this.memberGUId&&"0000"!==this.memberGUId&&this.fetchData()})}fetchData(){this.loadingState=1,this.memberData.getMemberHeaderDTO(this.memberGUId).subscribe(e=>{this.member=e},e=>{this.errorMessage=e},()=>{this.loadingState=2,this.store.dispatch(new re.b(this.member.photoUrl))})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(x.g),m.Mb(d.a),m.Mb(h.h))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-member-header-details"]],decls:4,vars:4,consts:[[3,"ngSwitch"],["class","text-center col-md-12 ",4,"ngSwitchCase"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"text-center","col-md-12"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"row"],[1,"col-12"],[4,"ngIf"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.zc(1,de,1,0,"div",1),m.zc(2,be,2,0,"div",2),m.zc(3,ge,14,5,"div",3),m.Qb()),2&e&&(m.jc("ngSwitch",t.loadingState),m.zb(1),m.jc("ngSwitchCase",0),m.zb(1),m.jc("ngSwitchCase",1),m.zb(1),m.jc("ngSwitchCase",2))},directives:[h.m,h.n,p.a,h.l],encapsulation:2}),Object(U.a)([Object(x.d)(K.a.getSelectedMemberGUId),Object(U.b)("design:type",k.a)],e.prototype,"currentGUId$",void 0),e})(),ve=(()=>{class e{constructor(e){this.store=e,console.log("hi from member-header constructor")}ngOnInit(){this.subscribeForMemberGUIds2()}subscribeForMemberGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.memberGUId=e,console.log("************NGXS: header new MemberGUId received"+this.memberGUId)})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(x.g))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-member-header"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-6"],[1,"col-2"],[1,"col-4"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"div",0),m.Rb(2,"div",1),m.Rb(3,"div",0),m.Nb(4,"app-member-lookup"),m.Qb(),m.Qb(),m.Rb(5,"div",2),m.Rb(6,"div",0),m.Nb(7,"app-member-photo"),m.Qb(),m.Qb(),m.Rb(8,"div",3),m.Rb(9,"div",0),m.Nb(10,"app-member-header-details"),m.Qb(),m.Qb(),m.Qb(),m.Qb())},directives:[ce,le,fe],encapsulation:2}),Object(U.a)([Object(x.d)(K.a.getSelectedMemberGUId),Object(U.b)("design:type",k.a)],e.prototype,"currentGUId$",void 0),e})(),Se=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-admins-member-search"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-12"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Nb(2,"app-member-header"),m.Qb(),m.Qb())},directives:[ve],styles:[""]}),e})();var Re=o("2LvV");function Me(e,t){if(1&e&&(m.Rb(0,"div",2),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function ye(e,t){1&e&&(m.Rb(0,"th"),m.Bc(1,"Sponsored Students / Status"),m.Qb())}function Ie(e,t){if(1&e){const e=m.Sb();m.Rb(0,"tr",5),m.cc("click",(function(){m.sc(e);const o=t.$implicit,s=t.index;return m.ec(2).gotoStudent(o.studentId,s)})),m.Rb(1,"td",6),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).gotoStudent(o.studentId,o.studentName)})),m.Bc(2),m.Qb(),m.Qb()}if(2&e){const e=t.$implicit;m.zb(2),m.Ec(" ",e.studentName," / ",e.studentStatus,"")}}function Qe(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"table",3),m.Rb(2,"thead"),m.Rb(3,"tr"),m.zc(4,ye,2,0,"th",1),m.Qb(),m.Qb(),m.Rb(5,"tbody"),m.zc(6,Ie,3,2,"tr",4),m.Qb(),m.Qb(),m.Qb()),2&e){const e=m.ec();m.zb(4),m.jc("ngIf",e.haveData),m.zb(2),m.jc("ngForOf",e.studentsForSponsor)}}let we=(()=>{class e{constructor(e,t,o,s){this.session=e,this.sponsorGroupData=t,this.router=o,this.currRoute=s,this.smileys=[],this.errorMessage="",console.log("in SponsoredStudents constructor")}ngOnInit(){this.haveData=!1;const e=this.currRoute.snapshot.params.guid;console.log("++++++++++++++++++++have guid param"+e),this.sponsorGroupData.getStudentsForSponsorByGUId(e).subscribe(e=>{this.studentsForSponsor=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test, _Student"===e.studentName?void 0:e)},e=>console.error("Subscribe error: "+e),()=>{console.log("students-for-sponsor-list loaded "+this.studentsForSponsor.length+" rows"),this.studentsForSponsor.length>0&&(console.log(this.studentsForSponsor[0].studentName),this.haveData=!0)})}gotoStudent(e,t){console.log("setting studentName to "+t);const o=["admins/students/student",{id:e}];console.log("navigating to "+o),this.router.navigate(o)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(T.a),m.Mb(Re.a),m.Mb(i.b),m.Mb(i.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["students-for-sponsor-list"]],decls:2,vars:2,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"table","table-condensed"],["id","item.studentId",3,"click",4,"ngFor","ngForOf"],["id","item.studentId",3,"click"],[1,"link",3,"click"]],template:function(e,t){1&e&&(m.zc(0,Me,2,1,"div",0),m.zc(1,Qe,7,2,"div",1)),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",!t.errorMessage))},directives:[h.l,h.k],encapsulation:2}),Object(U.a)([Object(x.d)(P.a.getTestNamesVisibility),Object(U.b)("design:type",k.a)],e.prototype,"testNameVisibility$",void 0),e})();var Ce=o("Y1Yw");function Ne(e,t){if(1&e&&(m.Rb(0,"div",2),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function ze(e,t){1&e&&(m.Rb(0,"th"),m.Bc(1,"Mentored Students / status"),m.Qb())}function je(e,t){if(1&e){const e=m.Sb();m.Rb(0,"tr",5),m.Rb(1,"td",6),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).gotoStudent(o.studentGUId,o.studentName)})),m.Bc(2),m.Qb(),m.Nb(3,"td"),m.Qb()}if(2&e){const e=t.$implicit;m.zb(2),m.Ec(" ",e.studentName," / ",e.status," ")}}function Ge(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"table",3),m.Rb(2,"thead"),m.Rb(3,"tr"),m.zc(4,ze,2,0,"th",1),m.Qb(),m.Qb(),m.Rb(5,"tbody"),m.zc(6,je,4,2,"tr",4),m.Qb(),m.Qb(),m.Qb()),2&e){const e=m.ec();m.zb(4),m.jc("ngIf",e.haveData),m.zb(2),m.jc("ngForOf",e.students)}}let Be=(()=>{class e{constructor(e,t,o,s){this.session=e,this.mentorData=t,this.router=o,this.currRoute=s,this.smileys=[],this.errorMessage="",console.log("in MentoredStudentComponent constructor XXXXXXXXXXXXXXXXXXXXX")}ngOnInit(){this.haveData=!1,this.mentorGUId=this.currRoute.snapshot.params.guid,this.mentorData.getStudentsForMentorByGUId(this.mentorGUId).subscribe(e=>{this.students=this.students=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test, _Student"===e.studentName?void 0:e)},e=>console.error("Subscribe error: "+e),()=>{console.log("studentsForMentorList has All students: "+this.students.length),this.students.length>0&&(console.log(this.students[0].studentName),console.log(this.students[0].studentGUId),this.haveData=!0)})}gotoStudent(e,t){console.log("setting studentName to "+t);const o="admins/students/student;guid="+e;console.log("navigating to "+o),this.router.navigateByUrl(o)}mentorReportsReview(){this.router.navigate(["/admins/students/student/mentorReports/",{mentorId:this.mentorId,mentorGUId:this.mentorGUId,studentGUId:this.studentGUId}])}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(T.a),m.Mb(Ce.a),m.Mb(i.b),m.Mb(i.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["students-for-mentor-list"]],decls:2,vars:2,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"table","table-condensed"],["id","item.studentGUId",4,"ngFor","ngForOf"],["id","item.studentGUId"],[1,"link",3,"click"]],template:function(e,t){1&e&&(m.zc(0,Ne,2,1,"div",0),m.zc(1,Ge,7,2,"div",1)),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",!t.errorMessage))},directives:[h.l,h.k],encapsulation:2}),Object(U.a)([Object(x.d)(P.a.getTestNamesVisibility),Object(U.b)("design:type",k.a)],e.prototype,"testNameVisibility$",void 0),e})();function Oe(e,t){if(1&e&&(m.Rb(0,"div",6),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function Fe(e,t){if(1&e&&(m.Rb(0,"div",7),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function De(e,t){1&e&&(m.Rb(0,"div",8),m.Nb(1,"app-loading-container"),m.Qb())}function Ue(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function xe(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function ke(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Pe(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Te(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Le(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Ee(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function _e(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Ae(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function qe(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function $e(e,t){if(1&e&&(m.Rb(0,"option",41),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}const Ve=function(){return{required:"First name is required",maxlength:"First name cannot exceed 30 characters in length."}},Ye=function(){return{required:"Last name is required",maxlength:"Last name cannot exceed 30 characters in length."}},Je=function(){return{required:"Email is required",maxlength:"Email cannot exceed 50 characters in length."}},He=function(){return{maxlength:"Entry cannot exceed 2000 characters in length."}};function Xe(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"form",9),m.Rb(2,"div",10),m.Rb(3,"div",11),m.Rb(4,"div",12),m.Rb(5,"span",13),m.cc("click",(function(){return m.sc(e),m.ec().location.back()})),m.Bc(6," <<\xa0 Back "),m.Qb(),m.Bc(7," \xa0 "),m.Rb(8,"label",14),m.Rb(9,"input",15),m.cc("click",(function(){return m.sc(e),m.ec().setReadOnly()})),m.Qb(),m.Bc(10," Editable"),m.Qb(),m.Qb(),m.Rb(11,"div",12),m.Rb(12,"label",16),m.Bc(13,"First Name(s)"),m.Qb(),m.Nb(14,"input",17),m.Nb(15,"app-display-errors",18),m.Rb(16,"label",19),m.Bc(17,"Last Name(s)"),m.Qb(),m.Nb(18,"input",20),m.Nb(19,"app-display-errors",21),m.Rb(20,"label",22),m.Bc(21,"Email"),m.Qb(),m.Nb(22,"input",23),m.Nb(23,"app-display-errors",24),m.Rb(24,"label",25),m.Bc(25,"SMA Phone"),m.Qb(),m.Nb(26,"input",26),m.Rb(27,"label",27),m.Bc(28,"Non-SMA Phone"),m.Qb(),m.Nb(29,"input",28),m.Rb(30,"label",29),m.Bc(31,"Country of Residence"),m.Qb(),m.Rb(32,"select",30),m.zc(33,Ue,2,2,"option",31),m.Qb(),m.Rb(34,"label",32),m.Bc(35,"English Level:"),m.Qb(),m.Rb(36,"select",33),m.zc(37,xe,2,2,"option",31),m.Qb(),m.Rb(38,"label",34),m.Bc(39,"Spanish Level:"),m.Qb(),m.Rb(40,"select",35),m.zc(41,ke,2,2,"option",31),m.Qb(),m.Qb(),m.Qb(),m.Rb(42,"div",11),m.Rb(43,"div",10),m.Rb(44,"div",36),m.Nb(45,"img",37),m.Qb(),m.Qb(),m.Rb(46,"div",10),m.Rb(47,"div",38),m.Rb(48,"label",39),m.Bc(49,"Mentor Status:"),m.Qb(),m.Rb(50,"select",40),m.Nb(51,"option",41),m.zc(52,Pe,2,2,"option",31),m.Qb(),m.Rb(53,"label",42),m.Bc(54,"Admin Status:"),m.Qb(),m.Rb(55,"select",43),m.Nb(56,"option",41),m.zc(57,Te,2,2,"option",31),m.Qb(),m.Rb(58,"label",44),m.Bc(59,"Volunteer Status:"),m.Qb(),m.Rb(60,"select",45),m.Nb(61,"option",41),m.zc(62,Le,2,2,"option",31),m.Qb(),m.Rb(63,"label",46),m.Bc(64,"President Status:"),m.Qb(),m.Rb(65,"select",47),m.Nb(66,"option",41),m.zc(67,Ee,2,2,"option",31),m.Qb(),m.Qb(),m.Rb(68,"div",38),m.Rb(69,"label",48),m.Bc(70,"Sponsor Status:"),m.Qb(),m.Rb(71,"select",49),m.Nb(72,"option",41),m.zc(73,_e,2,2,"option",31),m.Qb(),m.Rb(74,"label",50),m.Bc(75,"Donor Status:"),m.Qb(),m.Rb(76,"select",51),m.Nb(77,"option",41),m.zc(78,Ae,2,2,"option",31),m.Qb(),m.Rb(79,"label",52),m.Bc(80,"Employee Status:"),m.Qb(),m.Rb(81,"select",53),m.Nb(82,"option",41),m.zc(83,qe,2,2,"option",31),m.Qb(),m.Rb(84,"label",54),m.Bc(85,"Board Status:"),m.Qb(),m.Rb(86,"select",55),m.Nb(87,"option",41),m.zc(88,$e,2,2,"option",31),m.Qb(),m.Qb(),m.Qb(),m.Rb(89,"div",10),m.Rb(90,"label",56),m.Bc(91,"Member ID"),m.Qb(),m.Nb(92,"input",57),m.Rb(93,"label",58),m.Bc(94,"Member GUID"),m.Qb(),m.Nb(95,"input",59),m.Rb(96,"label",60),m.Bc(97,"Related Student Record GUID"),m.Qb(),m.Nb(98,"input",61),m.Qb(),m.Qb(),m.Rb(99,"div",11),m.Rb(100,"label",62),m.Bc(101,"Career Background"),m.Qb(),m.Nb(102,"input",63),m.Rb(103,"label",64),m.Bc(104,"Other Relevant Experience"),m.Qb(),m.Nb(105,"input",65),m.Rb(106,"label",66),m.Bc(107,"Comments (Private -- for Admins only)"),m.Qb(),m.Rb(108,"textarea",67,68),m.Bc(110,"            "),m.Qb(),m.Nb(111,"app-display-errors",69),m.Rb(112,"label",70),m.Bc(113,"PhotoUrl"),m.Qb(),m.Nb(114,"input",71),m.Rb(115,"label",72),m.Bc(116,"Last Mentor Meeting"),m.Qb(),m.Nb(117,"input",73),m.Nb(118,"students-for-sponsor-list"),m.Nb(119,"students-for-mentor-list"),m.Qb(),m.Qb(),m.Rb(120,"div",10),m.Rb(121,"div",12),m.Rb(122,"button",74),m.cc("click",(function(){return m.sc(e),m.ec().saveMyForm()})),m.Bc(123,"Save"),m.Qb(),m.Rb(124,"span",75),m.Bc(125,"All required fields must be filled in before saving."),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(1),m.jc("formGroup",e.myForm),m.zb(14),m.jc("errors",m.mc(19,Ve)),m.zb(4),m.jc("errors",m.mc(20,Ye)),m.zb(4),m.jc("errors",m.mc(21,Je)),m.zb(10),m.jc("ngForOf",e.countryList),m.zb(4),m.jc("ngForOf",e.languageStatuses),m.zb(4),m.jc("ngForOf",e.languageStatuses),m.zb(4),m.jc("src",e.photoPathname,m.uc),m.zb(7),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(6),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(5),m.jc("ngForOf",e.roleStatuses),m.zb(23),m.jc("errors",m.mc(22,He)),m.zb(11),m.jc("disabled",!e.myForm.valid),m.zb(2),m.jc("hidden",e.myForm.valid)}}let We=(()=>{class e{constructor(e,t,o,n,r,i){this.currRoute=e,this.router=t,this.urlService=o,this.memberData=n,this.formBuilder=r,this.location=i,this.bReadOnly=!0,console.log("hi from AdminsMember constructor"),this.webPrefix=o.getClientUrl(),this.countryList=l.a.countryList,this.languageStatuses=l.a.languageStatuses,this.roleStatuses=l.a.memberStatuses,this.myForm=r.group({firstNames:["",s.u.compose([s.u.required,s.u.maxLength(30)])],lastNames:["",s.u.compose([s.u.required,s.u.maxLength(30)])],email:["",s.u.compose([s.u.required,s.u.maxLength(50)])],smA_Phone:[""],nonSMA_Phone:[""],mentorStatusId:[""],sponsorStatusId:[""],adminStatusId:[""],employeeStatusId:[""],donorStatusId:[""],volunteerStatusId:[""],presidentStatusId:[""],boardStatusId:[""],yearJoinedJA:[""],monthsinSma:[""],nonSma_CountryId:[""],bestWayToContactId:[""],countryOfResidenceId:[""],englishSkillLevelId:[""],spanishSkillLevelId:[""],preferredLanguageId:[""],lastLoginDateTime:[""],numberOfLogins:[""],careerBackground:[""],otherRelevantExperience:[""],comments:["",s.u.maxLength(2e3)],photoUrl:[{value:""},s.u.maxLength(2e3)],lastMentorMeeting:[""],memberId:[""],memberGUId:[""],studentRecordGUId:[""]}),this.myForm.disable(),this.member=new b.a,this.errorMessage="",this.successMessage="",this.submitted=!1,this.myForm.valueChanges.subscribe(e=>{e.lastMentorMeeting&&this.myForm.patchValue({lastMentorMeeting:e.lastMentorMeeting.slice(0,10)},{emitEvent:!1})})}ngOnInit(){console.log("admins Member ngOnInit"),this.fetchMemberData()}fetchMemberData(){const e=this.currRoute.snapshot.params.guid;console.log("data service with MemberGUId: "+e),this.isLoading=!0,this.memberData.getMemberByGUId(e).subscribe(e=>{this.member=e,this.photoPathname=this.webPrefix+"/assets/images/MemberPhotos",this.photoPathname=this.photoPathname+"/"+this.member.photoUrl,console.log("photoPathname is "+this.photoPathname)},e=>console.error("Subscribe error: "+e),()=>{console.log("getMember is done with member values "),console.log(JSON.stringify(this.member)),this.setFormValues(this.member),setTimeout(()=>{window.scrollTo(0,0)},0),this.isLoading=!1}),this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1})}setFormValues(e){console.log("setFormValues"),this.myForm.setValue({memberId:e.memberId,firstNames:e.firstNames,lastNames:e.lastNames,email:e.email,smA_Phone:e.smA_Phone,nonSMA_Phone:e.nonSMA_Phone,mentorStatusId:e.mentorStatusId,sponsorStatusId:e.sponsorStatusId,adminStatusId:e.adminStatusId,employeeStatusId:e.employeeStatusId,donorStatusId:e.donorStatusId,volunteerStatusId:e.volunteerStatusId,presidentStatusId:e.presidentStatusId,boardStatusId:e.boardMemberStatusId,yearJoinedJA:e.yearJoinedJa,monthsinSma:e.monthsinSma,nonSma_CountryId:e.nonSma_CountryId,bestWayToContactId:e.bestWayToContactId,countryOfResidenceId:e.countryOfResidenceId,englishSkillLevelId:e.englishSkillLevelId,spanishSkillLevelId:e.spanishSkillLevelId,preferredLanguageId:e.preferredLanguageId,lastLoginDateTime:e.lastLoginDateTime,numberOfLogins:e.numberOfLogins,careerBackground:e.careerBackground,otherRelevantExperience:e.otherRelevantExperience,comments:e.comments,photoUrl:e.photoUrl,lastMentorMeeting:e.lastMentorMeeting,studentRecordGUId:e.studentRecordGUId,memberGUId:e.memberGUId})}retrieveFormValues(){console.log("retrieveFormValues "+JSON.stringify(this.myForm.value)),this.member=Object.assign(Object.assign({},this.member),this.myForm.value)}saveMyForm(){return console.log("saving admin member "),console.log(JSON.stringify(this.myForm.value)),this.isLoading=!0,this.retrieveFormValues(),this.memberData.updateMember(this.member).subscribe(()=>{console.log("subscribe result in updateMember"),window.setTimeout(()=>{this.successMessage="Changes were saved successfully."},0),this.submitted=!0,this.isLoading=!1,window.scrollTo(0,0),window.setTimeout(()=>{this.successMessage=""},1e4)},e=>{window.setTimeout(()=>{this.errorMessage=e.message,this.isLoading=!1},8e3)}),!1}backToMembersList(){this.router.navigate(["/admins/students"])}setReadOnly(){console.log("toggle readOnly"),this.myForm.enabled?this.myForm.disable():this.myForm.enable()}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(i.b),m.Mb(u.a),m.Mb(d.a),m.Mb(s.d),m.Mb(h.h))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:6,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[2,"max-width","900px"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group"],["data-cy","btn-back",1,"btn","btn-primary","btn-sm",3,"click"],["for","ckEditMode"],["id","ckEditMode","type","checkbox","name","toggleReadOnly",2,"margin","0 0 0 4px",3,"click"],["for","firstNames"],["id","firstNames","formControlName","firstNames","type","text","placeholder","First Name",1,"form-control","form-control-sm"],["control","firstNames",1,"red",3,"errors"],["for","lastNames"],["id","lastNames","formControlName","lastNames","data-cy","last-names","type","text","placeholder","Last Name",1,"form-control","form-control-sm"],["control","lastNames",1,"red",3,"errors"],["for","email"],["id","email","formControlName","email","type","text","placeholder","Email Name",1,"form-control","form-control-sm"],["control","email",1,"red",3,"errors"],["for","smA_Phone"],["id","smA_Phone","formControlName","smA_Phone","type","text","placeholder","Best Phone Number when in SMA",1,"form-control","form-control-sm"],["for","nonSMA_Phone"],["id","nonSMA_Phone","formControlName","nonSMA_Phone","type","text","placeholder","Best Phone Number when not in SMA",1,"form-control","form-control-sm"],["for","countryOfResidenceId"],["formControlName","countryOfResidenceId",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],["for","englishSkillLevelId"],["formControlName","englishSkillLevelId",1,"form-control","form-control-sm"],["for","spanishSkillLevelId"],["formControlName","spanishSkillLevelId",1,"form-control","form-control-sm"],[2,"width","100%"],[3,"src"],[1,"col-6",2,"padding","0 2px 0 4px"],["for","mentorStatusId"],["formControlName","mentorStatusId",1,"form-control","form-control-sm"],[3,"value"],["for","adminStatusId"],["formControlName","adminStatusId",1,"form-control","form-control-sm"],["for","volunteerStatusId"],["formControlName","volunteerStatusId",1,"form-control","form-control-sm"],["for","presidentStatusId"],["formControlName","presidentStatusId",1,"form-control","form-control-sm"],["for","sponsorStatusId"],["formControlName","sponsorStatusId",1,"form-control","form-control-sm"],["for","donorStatusId"],["formControlName","donorStatusId",1,"form-control","form-control-sm"],["for","employeeStatusId"],["formControlName","employeeStatusId",1,"form-control","form-control-sm"],["for","boardStatusId"],["formControlName","boardStatusId",1,"form-control","form-control-sm"],["for","memberId"],["id","memberId","formControlName","memberId","readonly","","type","text",1,"form-control","form-control-sm"],["for","memberGUId"],["id","memberGUId","formControlName","memberGUId","readonly","","type","text",1,"form-control","form-control-sm"],["for","studentRecordGUId"],["id","studentRecordGUId","formControlName","studentRecordGUId","readonly","","type","text",1,"form-control","form-control-sm"],["for","careerBackground"],["id","careerBackground","formControlName","careerBackground","type","text",1,"form-control","form-control-sm"],["for","otherRelevantExperience"],["id","otherRelevantExperience","formControlName","otherRelevantExperience","type","text",1,"form-control","form-control-sm"],["for","comments"],["id","comments","formControlName","comments","type","text","placeholder","",1,"form-control","input-sm"],["success",""],["control","comments",1,"red",3,"errors"],["for","photoUrl"],["id","photoUrl","formControlName","photoUrl","type","text",1,"form-control","form-control-sm"],["for","lastMentorMeeting"],["id","lastMentorMeeting","formControlName","lastMentorMeeting","type","text",1,"form-control","form-control-sm"],[1,"btn","btn-primary",3,"disabled","click"],[1,"red",3,"hidden"]],template:function(e,t){1&e&&(m.zc(0,Oe,2,1,"div",0),m.zc(1,Fe,2,1,"div",1),m.Rb(2,"div",2),m.Rb(3,"div",3),m.zc(4,De,2,0,"div",4),m.zc(5,Xe,126,23,"div",5),m.Qb(),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(2),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,s.w,s.n,s.f,s.b,s.m,s.e,g.a,s.t,h.k,s.p,s.v,we,Be],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}"]}),e})();var Ke=o("6VDH"),Ze=o("/JM1");function et(e,t){if(1&e&&(m.Rb(0,"li"),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.zb(1),m.Ec("",e.reviewedStatus,": ",e.statusCount,"")}}let tt=(()=>{class e{constructor(e){this.mentorReportsData=e}ngOnChanges(){console.log("ngOnChanges has fired, calling data service with "),console.log(this.year),console.log(this.month),+this.month>0&&this.mentorReportsData.getMentorReportsStatusCounts(this.year,this.month).subscribe(e=>{this.statusCounts=e,console.log("getStatusCounts returns: "),console.log(this.statusCounts)},e=>console.error("Subscribe error: "+e),()=>{console.log("statusCounts loaded "+this.statusCounts.length+" rows")})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(Ze.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-mr-status-counts"]],inputs:{year:"year",month:"month"},features:[m.xb],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(m.Rb(0,"ul"),m.Rb(1,"li"),m.Bc(2,"Totals per category: "),m.Qb(),m.zc(3,et,2,2,"li",0),m.Qb()),2&e&&(m.zb(3),m.jc("ngForOf",t.statusCounts))},directives:[h.k],styles:["ul[_ngcontent-%COMP%] {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    background-color: #DDDDDD;\n  }\n\n  li[_ngcontent-%COMP%] {\n    float: left;\n    padding-right: 10px;\n    padding-bottom: 2px;\n  }"]}),e})();var ot=o("JlJ6"),st=o("MEvh"),nt=o("aNuS");function rt(e,t){if(1&e&&(m.Rb(0,"span",19),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function it(e,t){if(1&e&&(m.Rb(0,"span",20),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function ct(e,t){if(1&e&&(m.Rb(0,"option",21),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function at(e,t){if(1&e&&(m.Rb(0,"option",21),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function lt(e,t){if(1&e&&(m.Rb(0,"option",21),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function dt(e,t){1&e&&(m.Rb(0,"div",22),m.Nb(1,"app-loading-container"),m.Qb())}function bt(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div",24),m.Rb(1,"div",25),m.Rb(2,"div",26),m.Bc(3," \xa0 "),m.Rb(4,"button",27),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).updateSummaryTracking(o.mentorReportId,o.studentGUId,o.studentName)})),m.Bc(5," Review "),m.Qb(),m.Bc(6," \xa0 "),m.Rb(7,"span",28),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).gotoStudent(o.studentGUId,o.studentName)})),m.Bc(8),m.Qb(),m.Rb(9,"span",29),m.Bc(10),m.Qb(),m.Rb(11,"span",29),m.Bc(12),m.Qb(),m.Qb(),m.Rb(13,"div",30),m.Rb(14,"span",29),m.Bc(15),m.Qb(),m.Qb(),m.Rb(16,"div",30),m.Rb(17,"span",29),m.Bc(18),m.fc(19,"truncateDate"),m.Qb(),m.Rb(20,"span",29),m.Bc(21),m.fc(22,"alphaMonth"),m.Qb(),m.Rb(23,"span",29),m.Bc(24," \xa0Emoji: "),m.Nb(25,"img",31),m.Qb(),m.Qb(),m.Rb(26,"div",32),m.Rb(27,"div",33),m.Bc(28,"\xa0Description (English)"),m.Qb(),m.Nb(29,"div",34),m.fc(30,"unsafeHtml"),m.Qb(),m.Rb(31,"div",32),m.Rb(32,"div",33),m.Bc(33,"\xa0Description (Spanish)"),m.Qb(),m.Nb(34,"div",34),m.fc(35,"unsafeHtml"),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=t.$implicit,o=m.ec(2);m.zb(2),m.kc("id","id"+e.mentorReportId),m.zb(6),m.Dc(" [Student: ",e.studentName," ] "),m.zb(2),m.Dc(" [Mentor: ",e.mentorName," ] "),m.zb(2),m.Dc(" [Sponsor: ",e.sponsorGroupName," ] "),m.zb(3),m.Dc(" \xa0Reviewed Status: ",e.reviewedStatus," "),m.zb(3),m.Dc(" \xa0Submitted Date: ",m.gc(19,13,e.reportDateTime)," "),m.zb(3),m.Ec(" \xa0Last Contact Month: ",m.gc(22,15,e.lastContactMonth),"-",e.lastContactYear," "),m.zb(4),m.kc("src",o.smileys[e.emoji+1],m.uc),m.zb(1),m.jc("hidden",!o.displayOriginalFields),m.zb(3),m.jc("innerHTML",m.gc(30,17,e.narrative_English),m.tc),m.zb(2),m.jc("hidden",!o.displayOriginalFields),m.zb(3),m.jc("innerHTML",m.gc(35,19,e.narrative_Spanish),m.tc)}}function ut(e,t){if(1&e&&(m.Rb(0,"div"),m.zc(1,bt,36,21,"div",23),m.Qb()),2&e){const e=m.ec();m.zb(1),m.jc("ngForOf",e.mentorReportByMonth)}}let mt=(()=>{class e{constructor(e,t,o,s){this.router=e,this.store=t,this.mentorReport2Data=o,this.route=s,this.displayOriginalFields=!0,console.log("mr-summary-tracking constructor"),this.years=l.a.years,this.months=l.a.months,this.mrReviewedStatuses=l.a.reviewedStatuses,this.highlightStatuses=l.a.highlightStatuses,this.selectedYear="2020",this.selectedMonth="0",this.selectedMRReviewedStatus="0",this.selectedHighlightStatus=this.highlightStatuses[0].value,this.smileys=l.a.smileys,console.log("before process route params"),this.processRouteParams(),this.testNameVisibility$.subscribe(e=>{this.displayTestNames=e})}processRouteParams(){console.log("summaryTracking setting filters form queryParams");const e=this.route.snapshot.queryParams.year;console.log("year param = "+e),void 0!==e&&(this.selectedYear=e);let t=this.route.snapshot.queryParams.month;if(console.log("month param = "+t),void 0!==t)this.selectedMonth=t;else{const e=new Date;console.log(e);const o=this.addDays(e,-2);console.log(o),t=""+(o.getMonth()+1),this.selectedMonth=t}const o=this.route.snapshot.queryParams.reviewedStatus;console.log("reviewed param = "+o),this.selectedMRReviewedStatus=void 0!==o?o:"0";const s=this.route.snapshot.queryParams.highlight;console.log("highlight param = "+s),this.selectedHighlightStatus=void 0!==s?s:"0",void 0!==t&&t>0&&this.fetchFilteredData()}fetchFilteredData(){this.isLoading=!0,console.log("in fetchData for MentorReportsByMonth"),this.mentorReport2Data.getMentorReportsByMonth(this.selectedYear,this.selectedMonth,this.selectedMRReviewedStatus).subscribe(e=>{this.mentorReportByMonth=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test, _Student"===e.studentName?void 0:e),console.log("mentorReportByMonth has"),console.log(this.mentorReportByMonth[0])},e=>console.error("Subscribe error: "+e),()=>{console.log("data loaded now set timeout for scroll"),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1})}scrollIntoView(){if(console.log("in scrollIntoView"),this.route.snapshot.queryParams.id){console.log(this.route.snapshot.queryParams.id);const e="#"+this.route.snapshot.queryParams.id;console.log("id param = "+this.route.snapshot.queryParams.id);const t=document.querySelector(e);t&&(console.log("querySelector returns element "+t),t.scrollIntoView(!0))}}setSelectedMRReviewedStatus(e){this.selectedMRReviewedStatus=e,this.fetchFilteredData()}setSelectedHighlightStatus(e){this.selectedHighlightStatus=e,this.fetchFilteredData()}setSelectedYear(e){this.selectedYear=e,this.fetchFilteredData()}setSelectedMonth(e){this.selectedMonth=e,this.fetchFilteredData()}gotoStudent(e,t){console.log("setting studentName to "+t);const o=["admins/students/student",{guid:e}];console.log("navigating to "+o),this.router.navigate(o)}updateSummaryTracking(e,t,o){this.store.dispatch(new Ke.d({studentGUId:t,studentName:o})),console.log(o);const s=["/admins/mentor-reports/summary-updates",{mentorReportId:e,reviewedStatus:this.selectedMRReviewedStatus,highlight:this.selectedHighlightStatus}];console.log("navigating to "+s),this.router.navigate(s)}translationNeeded(e,t){return console.log(e,t),e===t?"":"Translation Needed"}getHighlightColor(e){return 2106===e?"green-row":2105===e?"red-row":""}addDays(e,t){const o=new Date(e);return o.setDate(o.getDate()+t),o}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.b),m.Mb(x.g),m.Mb(Ze.a),m.Mb(i.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-mr-summary-tracking"]],decls:35,vars:14,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[1,"controls"],["for","yearSelector"],["name","yearSelector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["name","monthSelector",3,"ngModel","ngModelChange","change"],["value","0"],["for","MRReviewedStatusSelector"],["name","MRReviewedStatusSelector",3,"ngModel","ngModelChange","change"],[1,"checkboxes"],["type","checkbox",3,"ngModel","ngModelChange"],[3,"year","month"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[3,"value"],[1,"text-center","col-md-4","col-md-offset-4"],["class","row","style","border-bottom: 3px solid #ccc; margin-top: 2px",4,"ngFor","ngForOf"],[1,"row",2,"border-bottom","3px solid #ccc","margin-top","2px"],[1,"col-md-12"],[1,"row",3,"id"],[1,"btn","default-btn","btn-primary","btn-sm",3,"click"],[1,"padded","link",3,"click"],[1,"padded"],[1,"row"],["width","24px",3,"src"],[1,"row",3,"hidden"],[1,"col-md2","padded"],[1,"col-md-10",3,"innerHTML"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2,"Mentor Report Review"),m.Qb(),m.Rb(3,"div",2),m.zc(4,rt,2,1,"span",3),m.zc(5,it,2,1,"span",4),m.Rb(6,"div"),m.Rb(7,"div",5),m.Rb(8,"label",6),m.Bc(9,"\xa0Report Year/Month:"),m.Qb(),m.Rb(10,"select",7),m.cc("ngModelChange",(function(e){return t.selectedYear=e}))("change",(function(e){return t.setSelectedYear(e.target.value)})),m.Bc(11," > "),m.zc(12,ct,2,2,"option",8),m.Qb(),m.Rb(13,"select",9),m.cc("ngModelChange",(function(e){return t.selectedMonth=e}))("change",(function(e){return t.setSelectedMonth(e.target.value)})),m.Rb(14,"option",10),m.Bc(15,"[Select]"),m.Qb(),m.zc(16,at,2,2,"option",8),m.Qb(),m.Rb(17,"label",11),m.Bc(18,"Reviewed Status:"),m.Qb(),m.Rb(19,"select",12),m.cc("ngModelChange",(function(e){return t.selectedMRReviewedStatus=e}))("change",(function(e){return t.setSelectedMRReviewedStatus(e.target.value)})),m.Rb(20,"option",10),m.Bc(21,"[All]"),m.Qb(),m.zc(22,lt,2,2,"option",8),m.Qb(),m.Rb(23,"span",13),m.Bc(24," \xa0\xa0"),m.Rb(25,"label"),m.Rb(26,"input",14),m.cc("ngModelChange",(function(e){return t.displayOriginalFields=e})),m.Qb(),m.Bc(27,"\xa0"),m.Rb(28,"span"),m.Bc(29,"Display Original Content"),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Nb(30,"app-mr-status-counts",15),m.Qb(),m.Rb(31,"div",16),m.zc(32,dt,2,0,"div",17),m.zc(33,ut,2,1,"div",18),m.Qb(),m.Qb(),m.Qb(),m.Bc(34," l\n")),2&e&&(m.zb(4),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(5),m.jc("ngModel",t.selectedYear),m.zb(2),m.jc("ngForOf",t.years),m.zb(1),m.jc("ngModel",t.selectedMonth),m.zb(3),m.jc("ngForOf",t.months),m.zb(3),m.jc("ngModel",t.selectedMRReviewedStatus),m.zb(3),m.jc("ngForOf",t.mrReviewedStatuses),m.zb(4),m.jc("ngModel",t.displayOriginalFields),m.zb(4),m.jc("year",t.selectedYear)("month",t.selectedMonth),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,s.t,s.m,s.o,h.k,s.p,s.v,s.a,tt,h.m,h.n,p.a],pipes:[ot.a,st.a,nt.a],styles:[".green-row[_ngcontent-%COMP%]{background-color:#dff0d8}.red-row[_ngcontent-%COMP%]{background-color:#ffb6c1}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),Object(U.a)([Object(x.d)(P.a.getTestNamesVisibility),Object(U.b)("design:type",k.a)],e.prototype,"testNameVisibility$",void 0),e})();function ht(e,t){if(1&e&&(m.Rb(0,"span",8),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function pt(e,t){if(1&e&&(m.Rb(0,"span",9),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function gt(e,t){1&e&&(m.Rb(0,"div",10),m.Nb(1,"app-loading-container"),m.Qb())}function ft(e,t){if(1&e){const e=m.Sb();m.Rb(0,"td",21),m.cc("click",(function(){m.sc(e);const t=m.ec().$implicit;return m.ec(2).gotoMember(t.mentorGUId,t.mentorName)})),m.Bc(1),m.Qb()}if(2&e){const e=m.ec().$implicit;m.zb(1),m.Dc(" ",e.mentorName," ")}}function vt(e,t){if(1&e&&(m.Rb(0,"td",20),m.Bc(1),m.Qb()),2&e){const e=m.ec().$implicit;m.zb(1),m.Dc(" ",e.mentorName," ")}}function St(e,t){if(1&e&&(m.Rb(0,"tr"),m.zc(1,ft,2,1,"td",18),m.zc(2,vt,2,1,"td",19),m.Rb(3,"td",20),m.Bc(4),m.Qb(),m.Rb(5,"td",20),m.Bc(6),m.fc(7,"truncateDate"),m.Qb(),m.Rb(8,"td",20),m.Bc(9),m.Qb(),m.Rb(10,"td",20),m.Bc(11),m.fc(12,"truncateDate"),m.Qb(),m.Qb()),2&e){const e=t.$implicit;m.zb(1),m.jc("ngIf",e.mentorGUId),m.zb(1),m.jc("ngIf",!e.mentorGUId),m.zb(2),m.Dc(" ",e.studentName," "),m.zb(2),m.Dc(" ",m.gc(7,6,e.mentorAssignedDate)," "),m.zb(3),m.Dc(" ",e.submittedCount," "),m.zb(2),m.Dc(" ",m.gc(12,8,e.latestDate)," ")}}function Rt(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"table",11),m.Rb(2,"thead"),m.Rb(3,"tr"),m.Rb(4,"th",12),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(5,"Mentor"),m.Qb(),m.Rb(6,"th",13),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(7,"Student"),m.Qb(),m.Rb(8,"th",14),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(9,"Mentor Start"),m.Qb(),m.Rb(10,"th",15),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(11,"Total Submitted"),m.Qb(),m.Rb(12,"th",16),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(13,"Latest Month"),m.Qb(),m.Qb(),m.Qb(),m.Rb(14,"tbody"),m.zc(15,St,13,10,"tr",17),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(15),m.jc("ngForOf",e.mentorReportSubmittedCounts)}}let Mt=(()=>{class e{constructor(e,t,o){this.sqlReports=e,this.columnSorter=t,this.router=o,this.isLoading=!1}ngOnInit(){console.log("ngOnInit"),this.fetchData()}fetchData(){console.log("fetchData for MentorReportsSubmittedCounts"),this.isLoading=!0,this.sqlReports.getMentorReportSubmittedCounts().subscribe(e=>{this.mentorReportSubmittedCounts=e,console.log(this.mentorReportSubmittedCounts[0])},e=>{this.errorMessage=e},()=>{console.log("done"),this.isLoading=!1})}onSortColumn(e){return console.log("parent received sortColumnCLick event with "+e.sortColumn),this.mentorReportSubmittedCounts.sort((t,o)=>this.columnSorter.compareValues(t,o,e))}gotoMember(e){const t=["/admins/members/member/"+e];console.log("navigating to "+t),this.router.navigate(t)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(Ze.a),m.Mb(L.a),m.Mb(i.b))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-mr-submitted-count"]],decls:10,vars:5,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["appSortableTable","",1,"table-sm","table-striped"],["app-sortable-column","mentorName",3,"onSortColumn"],["app-sortable-column","studentName",3,"onSortColumn"],["app-sortable-column","mentorAssignedDate",3,"onSortColumn"],["app-sortable-column","submittedCount","sort-direction","asc",3,"onSortColumn"],["app-sortable-column","latestDate",3,"onSortColumn"],[4,"ngFor","ngForOf"],["class","report-row link",3,"click",4,"ngIf"],["class","report-row",4,"ngIf"],[1,"report-row"],[1,"report-row","link",3,"click"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2," Mentor\xa0Reports\xa0Submitted "),m.Qb(),m.Rb(3,"div",2),m.zc(4,ht,2,1,"span",3),m.zc(5,pt,2,1,"span",4),m.Rb(6,"div",5),m.zc(7,gt,2,0,"div",6),m.zc(8,Rt,16,1,"div",7),m.Qb(),m.Qb(),m.Qb(),m.Bc(9," l")),2&e&&(m.zb(4),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,E,_.a,h.k],pipes:[ot.a],styles:['.report-row[_ngcontent-%COMP%]{padding:4px}th[app-sortable-column][_ngcontent-%COMP%]{text-align:left;cursor:pointer;-webkit-text-decoration-line:underline;text-decoration-line:underline;-webkit-text-decoration-style:solid;text-decoration-style:solid}.up-arrow[_ngcontent-%COMP%]:before{content:"^&nbsp;"}.down-arrow[_ngcontent-%COMP%]:after{content:"v&nbsp;&nbsp;"}']}),e})();function yt(e,t){1&e&&m.Nb(0,"app-mr-summary-tracking")}function It(e,t){1&e&&m.Nb(0,"app-mr-submitted-count")}let Qt=(()=>{class e{constructor(){console.log("mr-container constructor")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:7,vars:0,consts:[[1,"row"],[1,"col"],["title","Mentor Report Review"],["ngbTabContent",""],["title","Submitted Count"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Rb(2,"ngb-tabset"),m.Rb(3,"ngb-tab",2),m.zc(4,yt,1,0,"ng-template",3),m.Qb(),m.Rb(5,"ngb-tab",4),m.zc(6,It,1,0,"ng-template",3),m.Qb(),m.Qb(),m.Qb(),m.Qb())},directives:[n.d,n.b,n.c,mt,Mt],encapsulation:2}),e})();var wt=o("gExv"),Ct=o("dfvj");function Nt(e,t){if(1&e&&(m.Rb(0,"div",8),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function zt(e,t){if(1&e&&(m.Rb(0,"div",9),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function jt(e,t){1&e&&(m.Rb(0,"div",10),m.Nb(1,"app-loading-container"),m.Qb())}function Gt(e,t){if(1&e&&(m.Rb(0,"option",36),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Bt(e,t){1&e&&(m.Rb(0,"span",37),m.Bc(1,"Please select a Snapshot color"),m.Qb())}const Ot=function(){return{required:"Reviewed Status is required"}},Ft=function(){return{required:"An entry is required, even if it is just N/A.",maxlength:"Entry cannot exceed 4000 characters in length."}},Dt=function(){return{required:"Se requiere una entrada, aun si es s\xf3lo N/A.",maxlength:"La entrada no puede exceder 4000 caracteres del largo."}};function Ut(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"form",11),m.Nb(2,"div",12),m.Rb(3,"div",13),m.Rb(4,"label",14),m.Bc(5,"Reviewed Status:"),m.Qb(),m.Rb(6,"select",15),m.zc(7,Gt,2,2,"option",16),m.Qb(),m.Nb(8,"app-display-errors",17),m.Qb(),m.Rb(9,"div"),m.Bc(10," \xa0 "),m.Qb(),m.Rb(11,"div",12),m.Rb(12,"div",13),m.Rb(13,"span"),m.Bc(14," Student Emoji: (Please notify mentor if changing this value.)"),m.Qb(),m.Bc(15,"> "),m.Rb(16,"label"),m.Bc(17,"\xa0\xa0 "),m.Nb(18,"input",18),m.Nb(19,"img",19),m.Bc(20," Celebrar "),m.Qb(),m.Rb(21,"label"),m.Bc(22,"\xa0\xa0\xa0\xa0 "),m.Nb(23,"input",20),m.Nb(24,"img",21),m.Bc(25," Todo Bien "),m.Qb(),m.Rb(26,"label"),m.Bc(27,"\xa0\xa0\xa0\xa0 "),m.Nb(28,"input",22),m.Nb(29,"img",23),m.Bc(30," Problemas "),m.zc(31,Bt,2,0,"span",24),m.Qb(),m.Qb(),m.Rb(32,"div",13),m.Rb(33,"label",25),m.Bc(34,"Positive events or special challenges in the student's life during the past month"),m.Qb(),m.Rb(35,"textarea",26,27),m.Bc(37,"              "),m.Qb(),m.Nb(38,"app-display-errors",28),m.Qb(),m.Rb(39,"div",13),m.Rb(40,"label",29),m.Bc(41,"Logros y eventos positivos o obst\xe1culos en la vida del estudiante"),m.Qb(),m.Rb(42,"textarea",30,27),m.Bc(44,"                "),m.Qb(),m.Nb(45,"app-display-errors",31),m.Qb(),m.Qb(),m.Rb(46,"div",32),m.Rb(47,"span"),m.Rb(48,"button",33),m.cc("click",(function(){return m.sc(e),m.ec().onSubmit()})),m.Bc(49," Save "),m.Qb(),m.Qb(),m.Bc(50,"\xa0 "),m.Rb(51,"span"),m.Rb(52,"button",34),m.cc("click",(function(){return m.sc(e),m.ec().onCancel()})),m.Bc(53," Cancel "),m.Qb(),m.Qb(),m.Rb(54,"span"),m.Rb(55,"button",35),m.cc("click",(function(){return m.sc(e),m.ec().onDelete()})),m.Bc(56," Delete "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(1),m.jc("formGroup",e.myForm),m.zb(6),m.jc("ngForOf",e.reviewedStatuses),m.zb(1),m.jc("errors",m.mc(9,Ot)),m.zb(10),m.jc("checked",1==e.emojiCtl.value),m.zb(5),m.jc("checked",0==e.emojiCtl.value),m.zb(5),m.jc("checked",-1==e.emojiCtl.value),m.zb(3),m.jc("ngIf",e.emojiCtl.hasError("required")),m.zb(7),m.jc("errors",m.mc(10,Ft)),m.zb(7),m.jc("errors",m.mc(11,Dt))}}let xt=(()=>{class e{constructor(e,t,o,n,r){this.currRoute=e,this.router=t,this.mentorReportData=o,this._fb=n,this.session=r,this.reviewedStatuses=l.a.reviewedStatuses,this.highlightStatuses=l.a.highlightStatuses,this.myForm=n.group({inputSummary:[""],reviewedStatusSelector:[""],highlightStatusSelector:[""],inputEmoji:[666,{validators:[s.u.required,this.validateEmojis],updateOn:"change"}],narrative_English:["",{validators:[s.u.required],updateOn:"blur"}],narrative_Spanish:[""]}),this.summary=this.myForm.controls.inputSummary,this.reviewedStatus=this.myForm.controls.reviewedStatusSelector,this.highlightStatus=this.myForm.controls.highlightStatusSelector,this.emojiCtl=this.myForm.controls.inputEmoji,this.narrative_EnglishCtl=this.myForm.controls.narrative_English,this.narrative_SpanishCtl=this.myForm.controls.narrative_Spanish,this.mentorReport2=new wt.a,this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){const e=this.currRoute.snapshot.params.mentorReportId;console.log("ngOnInit with MentorReportId: "+e),this.savedReviewedStatusId=this.currRoute.snapshot.params.reviewedStatus,void 0===this.savedReviewedStatusId&&(this.savedReviewedStatusId=0),this.savedHighlightStatusId=this.currRoute.snapshot.params.highlight,void 0===this.savedHighlightStatusId&&(this.savedHighlightStatusId=0),this.isLoading=!0,this.mentorReportData.getMentorReport2(e).subscribe(e=>{this.mentorReport2=e},e=>console.error("Subscribe error: "+e),()=>{console.log("done with data MentorReport>>"),console.log(this.mentorReport2),console.log("<<"),this.emojiCtl.setValue(this.mentorReport2.emoji),this.narrative_EnglishCtl.setValue(this.mentorReport2.narrative_English),this.narrative_SpanishCtl.setValue(this.mentorReport2.narrative_Spanish),this.isLoading=!1}),this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1}),this.subscribeForStudentNames()}subscribeForStudentNames(){this.subscription=this.currentName$.subscribe(e=>{this.studentName=e,console.log("************NGXS: mr summary updates new StudentName received"+this.studentName)})}onSubmit(){return console.log("Hi from mentor ReportReview Submit"),this.myForm.invalid?(this.errorMessage="",this.lastYear.valid&&this.lastMonth.valid||(this.errorMessage=this.errorMessage+"Year and month must be selected from drop-downs. "),this.emojiCtl.valid||(this.errorMessage=this.errorMessage+"An emoji must be selected. Se debe seleccionar un Emoji"),this.followUp.valid&&this.success.valid&&this.challenge.valid||(this.errorMessage=this.errorMessage+"All 3 text boxes must be filled in . "),window.scrollTo(0,0),!1):(this.mentorReport2.reviewedStatusId=this.reviewedStatus.value,this.mentorReport2.emoji=this.emojiCtl.value,this.mentorReport2.narrative_English=this.narrative_EnglishCtl.value,this.mentorReport2.narrative_Spanish=this.narrative_SpanishCtl.value,this.mentorReportData.updateMentorReport2(this.mentorReport2).subscribe(e=>{console.log(this.successMessage=e),this.submitted=!0,this.isLoading=!1,this.navigateBackInContext()},e=>{this.errorMessage=e,this.isLoading=!1}),!1)}onCancel(){this.navigateBackInContext()}onDelete(){return console.log("delete with userID = "+this.session.getUserId()),1216==this.session.getUserId()||2094==this.session.getUserId()||2947==this.session.getUserId()?!0===window.confirm("Caution this action will permanently delete this mentor report! Proceed? "+this.mentorReport2.mentorReportId)&&this.mentorReportData.deleteMentorReport2(this.mentorReport2.mentorReportId).subscribe(()=>{alert("Successfully Deleted"),this.navigateBackInContext()},e=>{this.errorMessage=e,this.isLoading=!1}):alert("This function is only available for Nora or Chris. Please ask one of them if you need to delete a report."),!1}navigateBackInContext(){const e="/admins/mentor-reports/summary-tracking";console.log("after Submit or Cancel navigating to "+e);const t=new Date(this.mentorReport2.reportDateTime);let o=t.getFullYear();console.log("orig reportYear "+o);let s=t.getMonth()+1;console.log("orig reportMonth "+s),t.getDate()<=2&&(s--,0===s&&(s=12,o--)),console.log("adj reportMonth "+s);const n={queryParams:{id:"id"+this.mentorReport2.mentorReportId,year:o,month:s,reviewedStatus:this.savedReviewedStatusId,highlight:this.savedHighlightStatusId}};console.log("after Submit or Cancele navigating to "+e),console.log("with queryParams "+n.queryParams),this.router.navigate([e],n)}validateEmojis(e){const t=666===e.value?{validateEmojis:{valid:!1}}:null;return console.log(t),t}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(i.b),m.Mb(Ze.a),m.Mb(s.d),m.Mb(T.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:9,vars:6,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[3,"formGroup"],[1,"form-group"],[1,"controls"],["for","reviewedStatusSelector"],["formControlName","reviewedStatusSelector",1,"form-control","input-sm"],[3,"value",4,"ngFor","ngForOf"],["control","reviewedStatusSelector",1,"red",3,"errors"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","1",3,"checked"],["src","/assets/images/celebrate.jpg","width","32px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","0",3,"checked"],["src","/assets/images/thumbsUp.jpg","width","30px"],["type","radio","id","inputEmoji","formControlName","inputEmoji","value","-1",3,"checked"],["src","/assets/images/needsAttention.jpg","width","30px"],["class","red",4,"ngIf"],["for","narrative_English"],["id","narrative_English","formControlName","narrative_English","type","text","placeholder","",1,"form-control","input-sm","narrative"],["success",""],["control","narrative_English",1,"red",3,"errors"],["for","narrative_Spanish"],["id","narrative_Spanish","formControlName","narrative_Spanish","type","text","placeholder","",1,"form-control","input-sm","narrative"],["control","narrative_Spanish",1,"red",3,"errors"],[1,"col-md-6","col-md-offset-1"],["data-cy","submit",1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],["type","button",1,"btn","btn-danger",2,"width","75px","margin-left","5rem",3,"click"],[3,"value"],[1,"red"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2),m.Qb(),m.Rb(3,"div",2),m.zc(4,Nt,2,1,"div",3),m.zc(5,zt,2,1,"div",4),m.Rb(6,"div",5),m.zc(7,jt,2,0,"div",6),m.zc(8,Ut,57,12,"div",7),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(2),m.Dc(" Mentor Report Review for ",t.studentName," "),m.zb(2),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,s.w,s.n,s.f,s.t,s.m,s.e,h.k,g.a,s.q,s.b,s.p,s.v],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}label[_ngcontent-%COMP%]{padding-top:10px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], radio.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%], textarea.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], radio.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%], textarea.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], radio.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}.narrative[_ngcontent-%COMP%]{max-width:44em;width:44em;height:540px}"]}),Object(U.a)([Object(x.d)(Ct.a.getSelectedStudentName),Object(U.b)("design:type",k.a)],e.prototype,"currentName$",void 0),e})();var kt=o("joA1");function Pt(e,t){if(1&e&&(m.Rb(0,"div",5),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Dc(" ",e.errorMessage,"")}}function Tt(e,t){1&e&&(m.Rb(0,"div",6),m.Nb(1,"app-loading-container"),m.Qb())}function Lt(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div",8),m.Rb(1,"div",9),m.Rb(2,"span"),m.Bc(3,"Past Reports for "),m.Qb(),m.Rb(4,"span"),m.Bc(5),m.Qb(),m.Rb(6,"span"),m.Rb(7,"span",10),m.cc("click",(function(){return m.sc(e),m.ec(2).createProxyReport()})),m.Bc(8," Create Proxy Report "),m.Qb(),m.Qb(),m.Qb(),m.Nb(9,"app-mentor-reports2-list",11),m.Qb()}if(2&e){const e=m.ec(2);m.zb(5),m.Cc(e.studentName),m.zb(4),m.jc("mentorReports2",e.mentorReports2)}}function Et(e,t){if(1&e&&(m.Rb(0,"div"),m.zc(1,Lt,10,2,"div",7),m.Qb()),2&e){const e=m.ec();m.zb(1),m.jc("ngIf",!e.errorMessage)}}let _t=(()=>{class e{constructor(e,t,o,s,n){this.currRoute=e,this.router=t,this.mentorReportData=o,this.session=s,this.location=n}ngOnInit(){console.log("admins MRs ngOnInit"),this.mentorId=this.currRoute.snapshot.params.mentorId,console.log("mentorId "+this.mentorId),this.mentorGUId=this.currRoute.snapshot.params.mentorGUId,this.studentGUId=this.currRoute.snapshot.params.studentGUId,this.studentName=this.currRoute.snapshot.params.studentName,console.log("studentGUId  "+this.studentGUId),this.isLoading=!0,this.mentorReportData.getMentorReport2RPTsViaGUID(this.mentorGUId,this.studentGUId).subscribe(e=>{this.mentorReports2=e},e=>console.error("Subscribe error: "+e),()=>{console.log("done: "),this.isLoading=!1})}createProxyReport(){console.log("#######studentDTO: mentorGUId "+this.mentorGUId),console.log("#######studentDTO: mentorId "+this.mentorId);const e=["/mentors/monthly-reports-add",{mentorId:this.mentorId,mentorGUId:this.mentorGUId,studentGUId:this.studentGUId}];console.log("navigating to "+JSON.stringify(e)),this.router.navigate(e)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(i.b),m.Mb(Ze.a),m.Mb(T.a),m.Mb(h.h))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:8,vars:4,consts:[[1,"btn","btn-primary","btn-xs",3,"click"],["class","alert alert-danger",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"text-center","col-md-4","col-md-offset-4"],["class","card bg-primary",4,"ngIf"],[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"btn","btn-default","active",2,"margin","4px 0 0 10px",3,"click"],[3,"mentorReports2"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.cc("click",(function(){return t.location.back()})),m.Bc(1," Back\n"),m.Qb(),m.Rb(2,"div"),m.Bc(3,"\xa0"),m.Qb(),m.zc(4,Pt,2,1,"div",1),m.Rb(5,"div",2),m.zc(6,Tt,2,0,"div",3),m.zc(7,Et,2,1,"div",4),m.Qb()),2&e&&(m.zb(4),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,kt.a],encapsulation:2}),e})();var At=o("WUoG"),qt=o("2vts");function $t(e,t){if(1&e&&(m.Rb(0,"span",22),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function Vt(e,t){if(1&e&&(m.Rb(0,"span",23),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function Yt(e,t){if(1&e&&(m.Rb(0,"option",24),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Jt(e,t){if(1&e&&(m.Rb(0,"option",24),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Ht(e,t){if(1&e&&(m.Rb(0,"option",24),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Xt(e,t){1&e&&(m.Rb(0,"div",25),m.Nb(1,"app-loading-container"),m.Qb())}function Wt(e,t){if(1&e){const e=m.Sb();m.Rb(0,"tr"),m.Rb(1,"td"),m.Bc(2),m.Qb(),m.Rb(3,"td"),m.Nb(4,"img",40),m.Qb(),m.Rb(5,"td",41),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).gotoStudent(o.studentGUId,o.studentName)})),m.Bc(6),m.Qb(),m.Rb(7,"td",42),m.Bc(8),m.Qb(),m.Rb(9,"td",42),m.Bc(10),m.Qb(),m.Rb(11,"td",42),m.Bc(12),m.Qb(),m.Rb(13,"td",42),m.Bc(14),m.Qb(),m.Rb(15,"td",42),m.Bc(16),m.Qb(),m.Rb(17,"td",42),m.Bc(18),m.Qb(),m.Rb(19,"td",41),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).gotoMentor(o.mentorGUId)})),m.Bc(20),m.Qb(),m.Rb(21,"td",43),m.Nb(22,"img",44),m.Qb(),m.Rb(23,"td"),m.Bc(24),m.Qb(),m.Rb(25,"td"),m.Bc(26),m.Qb(),m.Rb(27,"td"),m.Bc(28),m.Qb(),m.Qb()}if(2&e){const e=t.$implicit,o=t.index,s=m.ec(2);m.zb(2),m.Dc(" ",o+1," "),m.zb(2),m.jc("src",e.photoUrl,m.uc),m.zb(2),m.Dc(" ",e.studentName," "),m.zb(2),m.Dc(" ",e.yearJoinedJa," "),m.zb(2),m.Dc(" ",e.joinedFrom," "),m.zb(2),m.Dc(" ",e.educationalLevel," "),m.zb(2),m.Dc(" ",e.pilotProgram," "),m.zb(2),m.Dc(" ",e.status," "),m.zb(2),m.Ec("",e.gradYear,"/",e.gradMonth,""),m.zb(2),m.Dc(" ",e.mentorName," "),m.zb(2),m.kc("src",s.smileys[e.studentSnapshotStatus+1],m.uc),m.zb(2),m.Dc(" ",e.sponsorGroupName," "),m.zb(2),m.Dc(" ",e.universityAbbrev," "),m.zb(2),m.Dc(" ",e.major," ")}}function Kt(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"table",26),m.Rb(2,"thead"),m.Rb(3,"tr"),m.Nb(4,"th"),m.Nb(5,"th"),m.Rb(6,"th",27),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(7," Student "),m.Qb(),m.Rb(8,"th",28),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(9," Year"),m.Nb(10,"br"),m.Bc(11," Joined "),m.Qb(),m.Rb(12,"th",29),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(13," Joined"),m.Nb(14,"br"),m.Bc(15," From "),m.Qb(),m.Rb(16,"th",30),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(17,"Ed Level"),m.Qb(),m.Rb(18,"th",31),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(19,"Pilot"),m.Qb(),m.Rb(20,"th",32),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(21,"Status"),m.Qb(),m.Rb(22,"th",33),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(23," Grad"),m.Nb(24,"br"),m.Bc(25," Year/Mo "),m.Qb(),m.Rb(26,"th",34),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(27,"Mentor"),m.Qb(),m.Rb(28,"th",35),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(29,"Emoji"),m.Qb(),m.Rb(30,"th",36),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(31,"Sponsor"),m.Qb(),m.Rb(32,"th",37),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(33,"Univ"),m.Qb(),m.Rb(34,"th",38),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(35,"Major"),m.Qb(),m.Qb(),m.Qb(),m.Rb(36,"tbody"),m.zc(37,Wt,29,15,"tr",39),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(37),m.jc("ngForOf",e.studentDTOs)}}let Zt=(()=>{class e{constructor(e,t,o,s,n){this.studentData=e,this.router=t,this.store=o,this.session=s,this.columnSorter=n,this.studentStatuses=l.a.studentStatuses,this.joinedYears=l.a.joinedYears,this.gradYears=l.a.gradYears,this.smileys=l.a.smileys,console.log("Hi from student List constructor function"),this.isLoading=!1,this.testNameVisibility$.subscribe(e=>{this.displayTestNames=e}),this.selectedFilterMode$.subscribe(e=>{console.log("selectedFilterMode set to "+e),this.selectedFilterMode=e}),this.selectedStudentStatus$.subscribe(e=>{console.log("selectedStudentStatus set to "+e),this.selectedStudentStatus=e}),this.selectedGradYear$.subscribe(e=>{console.log("selectedGradYear set to "+e),this.selectedGradYear=e}),this.selectedYearJoined$.subscribe(e=>{console.log("selectedYearJoined set to "+e),this.selectedYearJoined=e})}ngOnInit(){console.log("ngOnInit"),this.fetchFilteredData()}setSelectedFilterMode(e){console.log("ORIG selected filterMode: "+this.selectedFilterMode),console.log("new selected filterMode: "+e),this.selectedFilterMode=e,"999"===e&&(this.selectedStudentStatus="1005",this.selectedGradYear="0",this.selectedYearJoined="0"),this.store.dispatch(new At.d(this.selectedStudentStatus)),this.store.dispatch(new At.b(e)),this.store.dispatch(new At.c(this.selectedGradYear)),this.store.dispatch(new At.e(this.selectedYearJoined)),this.fetchFilteredData()}setSelectedStudentStatus(e){console.log("setting selectedStudent status: "+e),this.selectedStudentStatus=e,this.store.dispatch(new At.d(e)),this.fetchFilteredData()}setSelectedGradYear(e){console.log("setting SelectedGradYear: "+e),this.selectedGradYear=e,this.store.dispatch(new At.c(e)),this.fetchFilteredData()}setSelectedYearJoined(e){console.log("setting SelectedYearJoined: "+e),this.selectedYearJoined=e,this.store.dispatch(new At.e(e)),this.fetchFilteredData()}fetchFilteredData(){console.log("in fetchFilteredData with "+this.selectedFilterMode),this.isLoading=!0,this.studentData.getStudentDTOsByStatusAndYear(this.selectedFilterMode,this.selectedStudentStatus,this.selectedYearJoined,this.selectedGradYear).subscribe(e=>{this.studentDTOs=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test, _Student"===e.studentName?void 0:e).map(this.getNumericStatus)},e=>{this.errorMessage=e},()=>{console.log(this.studentDTOs[0]),console.log("data loaded now set timeout for scroll"),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1})}scrollIntoView(){const e=document.body;e&&e.scrollIntoView(!0)}getNumericStatus(e){return e.numericTimelyMentorMeetingStatus=0,"red"===e.timelyMentorMeetingStatus?e.numericTimelyMentorMeetingStatus=1:"yellow"===e.timelyMentorMeetingStatus?e.numericTimelyMentorMeetingStatus=2:"green"===e.timelyMentorMeetingStatus&&(e.numericTimelyMentorMeetingStatus=3),e.numericTimelyMentorReportStatus=0,"red"===e.timelyMentorReportStatus?e.numericTimelyMentorReportStatus=1:"yellow"===e.timelyMentorReportStatus?e.numericTimelyMentorReportStatus=2:"green"===e.timelyMentorReportStatus&&(e.numericTimelyMentorReportStatus=3),e.numericGradeRptStatus=0,"red"===e.gradeRptStatus?e.numericGradeRptStatus=1:"yellow"===e.gradeRptStatus?e.numericGradeRptStatus=2:"green"===e.gradeRptStatus&&(e.numericGradeRptStatus=3),e.numericGPAStatus=0,"red"===e.gpaStatus?e.numericGPAStatus=1:"yellow"===e.gpaStatus?e.numericGPAStatus=2:"green"===e.gpaStatus&&(e.numericGPAStatus=3),e}gotoStudent(e,t){console.log("setting studentName to "+t);const o=["admins/students/student",{guid:e}];console.log("navigating to "+o),this.router.navigate(o)}gotoMentor(e){const t=["admins/members/member",{guid:e}];console.log("navigating to "+t),this.router.navigate(t)}gotoReport(e){const t=["/admins/students/mentorReports",e];console.log("navigating to "+t),this.router.navigate(t)}gotoStudentSearch(){const e="/admins/students";console.log("navigating to "+e),this.router.navigateByUrl(e)}onSortColumn(e){return console.log("parent received sortColumnCLick event with "+e.sortColumn),this.studentDTOs.sort((t,o)=>this.columnSorter.compareValues(t,o,e))}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(qt.a),m.Mb(i.b),m.Mb(x.g),m.Mb(T.a),m.Mb(L.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-admins-student-list"]],decls:40,vars:13,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"btn","btn-secondary","link",3,"click"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["for","FilterModeSelector"],["name","FilterModeSelector",3,"ngModel","ngModelChange","change"],["value","998"],["value","999"],[3,"hidden"],["for","StatusSelector"],["name","StatusSelector",3,"ngModel","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["for","YearJoinedSelector"],["name","YearJoinedSelector",3,"ngModel","ngModelChange","change"],["for","GradYearSelector"],["name","GradYearSelector",3,"ngModel","ngModelChange","change"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[3,"value"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"table-sm","table-striped"],["app-sortable-column","studentName","sort-direction","asc",3,"onSortColumn"],["app-sortable-column","yearJoinedJa",3,"onSortColumn"],["app-sortable-column","joinedFrom",3,"onSortColumn"],["app-sortable-column","educationalLevel",3,"onSortColumn"],["app-sortable-column","pilotProgram",3,"onSortColumn"],["app-sortable-column","status",3,"onSortColumn"],["app-sortable-column","gradYear",3,"onSortColumn"],["app-sortable-column","mentorName",3,"onSortColumn"],["app-sortable-column","studentSnapshotStatus",3,"onSortColumn"],["app-sortable-column","sponsorGroupName",3,"onSortColumn"],["app-sortable-column","universityAbbrev",3,"onSortColumn"],["app-sortable-column","major",3,"onSortColumn"],[4,"ngFor","ngForOf"],["height","30",1,"thumbnail",3,"src"],[1,"link",3,"click"],[1,"centered"],[2,"text-align","center","white-space","nowrap"],["width","24",3,"src"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Rb(2,"span"),m.Bc(3,"Student List"),m.Qb(),m.Bc(4,"\xa0\xa0\xa0\xa0\xa0 "),m.Rb(5,"span",2),m.cc("click",(function(){return t.gotoStudentSearch()})),m.Bc(6,"Student Search"),m.Qb(),m.Qb(),m.Rb(7,"div",3),m.zc(8,$t,2,1,"span",4),m.zc(9,Vt,2,1,"span",5),m.Rb(10,"div"),m.Nb(11,"label",6),m.Rb(12,"select",7),m.cc("ngModelChange",(function(e){return t.selectedFilterMode=e}))("change",(function(e){return t.setSelectedFilterMode(e.target.value)})),m.Rb(13,"option",8),m.Bc(14,"All Active Students (Current, Recent Grad and Sabbatical)"),m.Qb(),m.Rb(15,"option",9),m.Bc(16,"Choose Use Specific Filters"),m.Qb(),m.Qb(),m.Rb(17,"span",10),m.Rb(18,"label",11),m.Bc(19,"Status:"),m.Qb(),m.Rb(20,"select",12),m.cc("ngModelChange",(function(e){return t.selectedStudentStatus=e}))("change",(function(e){return t.setSelectedStudentStatus(e.target.value)})),m.Rb(21,"option",13),m.Bc(22,"All"),m.Qb(),m.zc(23,Yt,2,2,"option",14),m.Qb(),m.Rb(24,"label",15),m.Bc(25,"Year Joined JA:"),m.Qb(),m.Rb(26,"select",16),m.cc("ngModelChange",(function(e){return t.selectedYearJoined=e}))("change",(function(e){return t.setSelectedYearJoined(e.target.value)})),m.Rb(27,"option",13),m.Bc(28,"All"),m.Qb(),m.zc(29,Jt,2,2,"option",14),m.Qb(),m.Rb(30,"label",17),m.Bc(31,"Graduation Year:"),m.Qb(),m.Rb(32,"select",18),m.cc("ngModelChange",(function(e){return t.selectedGradYear=e}))("change",(function(e){return t.setSelectedGradYear(e.target.value)})),m.Rb(33,"option",13),m.Bc(34,"All"),m.Qb(),m.zc(35,Ht,2,2,"option",14),m.Qb(),m.Qb(),m.Qb(),m.Rb(36,"div",19),m.zc(37,Xt,2,0,"div",20),m.zc(38,Kt,38,1,"div",21),m.Qb(),m.Qb(),m.Bc(39," l\n"),m.Qb()),2&e&&(m.zb(8),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(3),m.jc("ngModel",t.selectedFilterMode),m.zb(5),m.jc("hidden","998"==t.selectedFilterMode),m.zb(3),m.jc("ngModel",t.selectedStudentStatus),m.zb(3),m.jc("ngForOf",t.studentStatuses),m.zb(3),m.jc("ngModel",t.selectedYearJoined),m.zb(3),m.jc("ngForOf",t.joinedYears),m.zb(3),m.jc("ngModel",t.selectedGradYear),m.zb(3),m.jc("ngForOf",t.gradYears),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,s.t,s.m,s.o,s.p,s.v,h.k,h.m,h.n,p.a,_.a],styles:['th[app-sortable-column][_ngcontent-%COMP%]{text-align:left;cursor:pointer;-webkit-text-decoration-line:underline;text-decoration-line:underline;-webkit-text-decoration-style:solid;text-decoration-style:solid}.up-arrow[_ngcontent-%COMP%]:before{content:"^&nbsp;"}.down-arrow[_ngcontent-%COMP%]:after{content:"v&nbsp;&nbsp;"}.thumbnail[_ngcontent-%COMP%]:hover{position:relative;top:-25px;left:-35px;width:150px;height:auto;display:block;z-index:999}']}),Object(U.a)([Object(x.d)(P.a.getTestNamesVisibility),Object(U.b)("design:type",k.a)],e.prototype,"testNameVisibility$",void 0),Object(U.a)([Object(x.d)(P.a.getSelectedGradYear),Object(U.b)("design:type",k.a)],e.prototype,"selectedGradYear$",void 0),Object(U.a)([Object(x.d)(P.a.getSelectedYearJoined),Object(U.b)("design:type",k.a)],e.prototype,"selectedYearJoined$",void 0),Object(U.a)([Object(x.d)(P.a.getSelectedStudentStatus),Object(U.b)("design:type",k.a)],e.prototype,"selectedStudentStatus$",void 0),Object(U.a)([Object(x.d)(P.a.getSelectedFilterMode),Object(U.b)("design:type",k.a)],e.prototype,"selectedFilterMode$",void 0),e})();var eo=o("qGxU"),to=o("7iOT"),oo=o("CZ4s");let so=(()=>{class e{constructor(e){this.router=e,console.log("hi from student-header constructor")}ngOnInit(){this.subscribeForStudentGUIds2()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId=e,console.log("************NGXS: header new StudentGUId received"+this.studentGUId)})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.b))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-student-header"]],decls:11,vars:1,consts:[[1,"row"],[1,"col-4"],[3,"showSearchButton"],[1,"col-2"],[1,"col-6"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"div",0),m.Rb(2,"div",1),m.Rb(3,"div",0),m.Nb(4,"app-student-lookup",2),m.Qb(),m.Qb(),m.Rb(5,"div",3),m.Rb(6,"div",0),m.Nb(7,"app-student-photo"),m.Qb(),m.Qb(),m.Rb(8,"div",4),m.Rb(9,"div",0),m.Nb(10,"app-student-header-details"),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(4),m.jc("showSearchButton",!0))},directives:[eo.a,to.a,oo.a],encapsulation:2}),Object(U.a)([Object(x.d)(Ct.a.getSelectedStudentGUId),Object(U.b)("design:type",k.a)],e.prototype,"currentGUId$",void 0),e})(),no=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-admins-student-search"]],decls:3,vars:0,consts:[[1,"row"],[1,"col-12"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Nb(2,"app-student-header"),m.Qb(),m.Qb())},directives:[so],styles:[""]}),e})();var ro=o("EY2u"),io=o("SC10");class co{constructor(e,t,o,s,n,r,i,c,a,l,d,b,u,m,h,p,g,f,v,S,R,M,y,I,Q,w,C,N,z,j,G,B,O,F,D,U,x,k,P,T,L,E,_,A,q,$,V,Y,J){this.studentId=e,this.lastNames=t,this.firstNames=o,this.nickName=s,this.curp=n,this.rfc=r,this.bankAccount=i,this.gender=c,this.cellPhone=a,this.homePhone=l,this.otherPhone=d,this.email=b,this.memberRecordGUId=u,this.englishLevel=m,this.sponsor=h,this.prepaId=p,this.major=g,this.ageWhenJoined=f,this.yearJoinedJa=v,this.universityId=S,this.gradMonth=R,this.gradYear=M,this.dob=y,this.addresss=I,this.colonia=Q,this.initialInterview=w,this.sponsorGroupId=C,this.statusId=N,this.englishSkillLevelId=z,this.photoUrl=j,this.updateDtTm=G,this.emergencyContactName=B,this.emergencyContactPhone=O,this.postalCode=F,this.academicYearTypeId=D,this.gradeMonthsId=U,this.joinedFromId=x,this.studentStory=k,this.gradMonthNum=P,this.studentGUId=T,this.mentorGUId=L,this.mentorAssignedDate=E,this.mentoringEndDate=_,this.credentialYear=A,this.credentialMonthNum=q,this.probationStartDate=$,this.probationEndDate=V,this.pilotProxyId=Y,this.educationalLevelId=J}}const ao=function(){return{required:"First name is required",maxlength:"Student First name cannot exceed 30 characters in length."}},lo=function(){return{required:"Last name is required",maxlength:"Student Last name cannot exceed 30 characters in length."}},bo=function(){return{required:"Email is required",maxlength:"Email cannot exceed 50 characters in length."}};let uo=(()=>{class e{constructor(e,t){this.memberData=e,this.formBuilder=t,this.bReadOnly=!0,this.myForm=t.group({firstNames:["",s.u.compose([s.u.required,s.u.maxLength(30)])],lastNames:["",s.u.compose([s.u.required,s.u.maxLength(30)])],email:["",s.u.compose([s.u.required,s.u.maxLength(50)])]}),this.myForm.disable(),this.member=new b.a,this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){this.fetchData()}fetchData(){console.log("fetchData for person-shared%%%%%%%%%%%%% "+this.memberGUId),this.memberData.getMemberByGUId(this.memberGUId).subscribe(e=>{this.member=e},e=>console.error("Subscribe error: "+e),()=>{console.log("getMember is done"),this.setFormValues(this.member),this.isLoading=!1}),this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1})}setFormValues(e){console.log("setFormValues"),this.myForm.setValue({firstNames:e.firstNames,lastNames:e.lastNames,email:e.email})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(d.a),m.Mb(s.d))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-person-shared"]],inputs:{memberGUId:"memberGUId"},decls:13,vars:7,consts:[[1,"form-horizontal",3,"formGroup"],["for","firstNames"],["id","firstNames","formControlName","firstNames","type","text","placeholder","First Name",1,"form-control","form-control-sm"],["control","firstNames",1,"red",3,"errors"],["for","lastNames"],["id","lastNames","formControlName","lastNames","type","text","placeholder","Last Name",1,"form-control","form-control-sm"],["control","lastNames",1,"red",3,"errors"],["for","email"],["id","email","formControlName","email","type","text","placeholder","Email Name",1,"form-control","form-control-sm"],["control","email",1,"red",3,"errors"]],template:function(e,t){1&e&&(m.Rb(0,"form",0),m.Rb(1,"label",1),m.Bc(2,"First Name(s)"),m.Qb(),m.Nb(3,"input",2),m.Nb(4,"app-display-errors",3),m.Rb(5,"label",4),m.Bc(6,"Last Name(s)"),m.Qb(),m.Nb(7,"input",5),m.Nb(8,"app-display-errors",6),m.Rb(9,"label",7),m.Bc(10,"Email"),m.Qb(),m.Nb(11,"input",8),m.Nb(12,"app-display-errors",9),m.Qb()),2&e&&(m.jc("formGroup",t.myForm),m.zb(4),m.jc("errors",m.mc(4,ao)),m.zb(4),m.jc("errors",m.mc(5,lo)),m.zb(4),m.jc("errors",m.mc(6,bo)))},directives:[s.w,s.n,s.f,s.b,s.m,s.e,g.a],styles:[""]}),e})();function mo(e,t){if(1&e&&(m.Rb(0,"div",2),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function ho(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"span",6),m.cc("click",(function(){m.sc(e);const t=m.ec().$implicit;return m.ec(2).deleteSponsorGroupMember(t.sponsorGroupId,t.sponsorGroupMemberId)})),m.Rb(2,"b"),m.Bc(3,"\u2716"),m.Qb(),m.Qb(),m.Bc(4),m.Qb()}if(2&e){const e=m.ec().$implicit;m.zb(4),m.Dc("\xa0 ",e.sponsorGroupMemberName," ")}}function po(e,t){1&e&&(m.Rb(0,"div"),m.Bc(1," (no member assigned currently) "),m.Qb())}function go(e,t){if(1&e&&(m.Rb(0,"tr",5),m.Rb(1,"td"),m.zc(2,ho,5,1,"div",1),m.zc(3,po,2,0,"div",1),m.Qb(),m.Qb()),2&e){const e=t.$implicit;m.zb(2),m.jc("ngIf",e.sponsorGroupMemberName),m.zb(1),m.jc("ngIf",!e.sponsorGroupMemberName)}}function fo(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"table",3),m.Rb(2,"thead"),m.Rb(3,"tr"),m.Rb(4,"th"),m.Bc(5,"Current SponsorGroup Member(s)"),m.Qb(),m.Qb(),m.Qb(),m.Rb(6,"tbody"),m.zc(7,go,4,2,"tr",4),m.Qb(),m.Qb(),m.Qb()),2&e){const e=m.ec();m.zb(7),m.jc("ngForOf",e.sponsorGroupMembers)}}let vo=(()=>{class e{constructor(e,t){this.session=e,this.sponsorGroupData=t,this.bReadOnly=!0,this.onSelectedSponsorName=new m.o,this.onSelectedSponsorId=new m.o,console.log("in SponsorsForSponsorGroupComponent constructor with SponsorGroupId="+this.sponsorGroupId)}ngOnInit(){this.fetchData()}fetchData(){this.sponsorGroupId&&this.sponsorGroupData.getMembersForSponsorGroup(this.sponsorGroupId).subscribe(e=>{this.sponsorGroupMembers=e,console.log("getMembersForSponsorGroup"),console.log(this.sponsorGroupMembers[0])},e=>console.error("Subscribe error: "+e),()=>{})}ngOnChanges(e){e.sponsorGroupId&&(this.sponsorGroupId=e.sponsorGroupId.currentValue,this.fetchData()),e.newMemberNotification&&this.fetchData()}deleteSponsorGroupMember(e,t){console.log("delete click for "+e+"|"+t),this.sponsorGroupData.deleteSponsorGroupMember(e,t).subscribe(()=>{console.log("deleteSponsorsForSponsorGroup"),window.setTimeout(()=>{this.successMessage="Changes were saved successfully."},0),this.submitted=!0,this.isLoading=!1,window.setTimeout(()=>{this.successMessage=""},3e3)},e=>console.error("Subscribe error: "+e),()=>{this.fetchData()})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(T.a),m.Mb(Re.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-sponsor-group-members"]],inputs:{sponsorGroupId:"sponsorGroupId",newMemberNotification:"newMemberNotification"},outputs:{onSelectedSponsorName:"onSelectedSponsorName",onSelectedSponsorId:"onSelectedSponsorId"},features:[m.xb],decls:2,vars:2,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"table","table-condensed"],["id","item.sponsorGroupMemberId",4,"ngFor","ngForOf"],["id","item.sponsorGroupMemberId"],["title","Delete",1,"link",3,"click"]],template:function(e,t){1&e&&(m.zc(0,mo,2,1,"div",0),m.zc(1,fo,8,1,"div",1)),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",!t.errorMessage))},directives:[h.l,h.k],styles:[".btn-group-xs[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-xs[_ngcontent-%COMP%] {\n      padding: .0rem .1rem;\n      font-size: .875rem;\n      line-height: .3;\n      border-radius: .2rem;\n    }"]}),e})(),So=(()=>{class e{constructor(){}ngOnInit(){console.log("ngOnInit")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-student-grades-status"]],inputs:{gpaStatus:"gpaStatus",gradeRptStatus:"gradeRptStatus"},decls:14,vars:2,consts:[[2,"text-align","center","white-space","nowrap"],["height","22",3,"src"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"label"),m.Bc(2,"Grades Status"),m.Qb(),m.Rb(3,"table"),m.Rb(4,"tr"),m.Rb(5,"td"),m.Bc(6,"GPA\xa0\xa0"),m.Qb(),m.Rb(7,"td"),m.Bc(8,"On Time"),m.Qb(),m.Qb(),m.Rb(9,"tr"),m.Rb(10,"td",0),m.Nb(11,"img",1),m.Qb(),m.Rb(12,"td",0),m.Nb(13,"img",1),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(11),m.lc("src","/assets/images/",t.gpaStatus,".jpg",m.uc),m.zb(2),m.lc("src","/assets/images/",t.gradeRptStatus,".jpg",m.uc))},encapsulation:2}),e})(),Ro=(()=>{class e{constructor(){}ngOnInit(){console.log("ngOnInit")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-student-mr-status"]],inputs:{meetingStatus:"meetingStatus",reportStatus:"reportStatus",emojiPathname:"emojiPathname"},decls:18,vars:3,consts:[[2,"text-align","center","white-space","nowrap"],["height","22",3,"src"],["width","24",3,"src"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"label"),m.Bc(2,"Mentor Reports"),m.Qb(),m.Rb(3,"table"),m.Rb(4,"tr"),m.Rb(5,"td"),m.Bc(6,"Timely Meeting\xa0"),m.Qb(),m.Rb(7,"td"),m.Bc(8,"Timely Report\xa0"),m.Qb(),m.Rb(9,"td"),m.Bc(10,"Latest Emoji"),m.Qb(),m.Qb(),m.Rb(11,"tr"),m.Rb(12,"td",0),m.Nb(13,"img",1),m.Qb(),m.Rb(14,"td",0),m.Nb(15,"img",1),m.Qb(),m.Rb(16,"td",0),m.Nb(17,"img",2),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(13),m.lc("src","/assets/images/",t.meetingStatus,".jpg",m.uc),m.zb(2),m.lc("src","/assets/images/",t.reportStatus,".jpg",m.uc),m.zb(2),m.kc("src",t.emojiPathname,m.uc))},encapsulation:2}),e})();function Mo(e,t){if(1&e&&(m.Rb(0,"div",6),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function yo(e,t){if(1&e&&(m.Rb(0,"div",7),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function Io(e,t){1&e&&(m.Rb(0,"div",8),m.Nb(1,"app-loading-container"),m.Qb())}function Qo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function wo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Co(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"select",92),m.zc(2,wo,2,2,"option",32),m.Qb(),m.Qb()),2&e){const e=t.ngIf;m.zb(2),m.jc("ngForOf",e)}}function No(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function zo(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"select",93),m.zc(2,No,2,2,"option",32),m.Qb(),m.Qb()),2&e){const e=t.ngIf;m.zb(2),m.jc("ngForOf",e)}}function jo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Dc(" ",e.label," ")}}function Go(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"select",94),m.zc(2,jo,2,2,"option",32),m.Qb(),m.Qb()),2&e){const e=t.ngIf;m.zb(2),m.jc("ngForOf",e)}}function Bo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Oo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Fo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Do(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Uo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function xo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function ko(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Po(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function To(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Lo(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Eo(e,t){if(1&e&&(m.Rb(0,"div"),m.Rb(1,"select",95),m.zc(2,Lo,2,2,"option",32),m.Qb(),m.Qb()),2&e){const e=t.ngIf;m.zb(2),m.jc("ngForOf",e)}}function _o(e,t){if(1&e&&(m.Rb(0,"option",91),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Ao(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"select",96),m.zc(2,_o,2,2,"option",32),m.Qb(),m.Rb(3,"span",97),m.cc("click",(function(){m.sc(e);const t=m.ec(2);return t.gotoMentor(t.student.mentorGUId)})),m.Bc(4,"Mentor Profile >> "),m.Qb(),m.Bc(5," \xa0 "),m.Rb(6,"span",98),m.cc("click",(function(){return m.sc(e),m.ec(2).refreshMentors()})),m.Bc(7,"Refresh List "),m.Qb(),m.Qb()}if(2&e){const e=t.ngIf;m.zb(2),m.jc("ngForOf",e)}}const qo=function(){return{maxlength:"Nickname cannot exceed 20 characters in length."}},$o=function(){return{maxlength:"Photo Filename cannot exceed 225 characters in length."}},Vo=function(){return{minlength:"Cell Phone must be at least 7 characters in length.",maxlength:"Cell Phone cannot exceed 13 characters in length."}},Yo=function(){return{minlength:"Name must be at least 5 characters in length."}},Jo=function(){return{minlength:"Phone number must be at least 7 characters in length.",maxlength:"Phone number cannot exceed 13 characters in length."}};function Ho(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"form",9),m.Rb(2,"div",10),m.Rb(3,"div",11),m.Rb(4,"div",12),m.Rb(5,"span",13),m.cc("click",(function(){return m.sc(e),m.ec().location.back()})),m.Bc(6," <<\xa0 Back "),m.Qb(),m.Bc(7," \xa0 "),m.Rb(8,"span",13),m.cc("click",(function(){return m.sc(e),m.ec().mentorReportsReview()})),m.Bc(9," Mentor Reports "),m.Qb(),m.Rb(10,"label",14),m.Rb(11,"input",15),m.cc("click",(function(){return m.sc(e),m.ec().setReadOnly()})),m.Qb(),m.Bc(12," Editable"),m.Qb(),m.Qb(),m.Rb(13,"div",16),m.cc("click",(function(){return m.sc(e),m.ec().gotoMemberRecord()})),m.Bc(14," (Edit name or email for Member) "),m.Qb(),m.Nb(15,"app-person-shared",17),m.Rb(16,"div",12),m.Rb(17,"label",18),m.Bc(18,"Nick Name"),m.Qb(),m.Nb(19,"input",19),m.Nb(20,"app-display-errors",20),m.Rb(21,"label",21),m.Bc(22,"Photo Filename"),m.Qb(),m.Nb(23,"input",22),m.Nb(24,"app-display-errors",23),m.Rb(25,"label",24),m.Bc(26,"Cell Phone"),m.Qb(),m.Nb(27,"input",25),m.Nb(28,"app-display-errors",26),m.Rb(29,"label",27),m.Bc(30,"Home Phone"),m.Qb(),m.Nb(31,"input",28),m.Nb(32,"app-display-errors",29),m.Rb(33,"label",30),m.Bc(34,"English Level:"),m.Qb(),m.Rb(35,"select",31),m.zc(36,Qo,2,2,"option",32),m.Qb(),m.Rb(37,"label",33),m.Bc(38,"Emergency Contact Name"),m.Qb(),m.Nb(39,"input",34),m.Nb(40,"app-display-errors",35),m.Rb(41,"label",36),m.Bc(42,"Emergency Contact Phone"),m.Qb(),m.Nb(43,"input",37),m.Nb(44,"app-display-errors",38),m.Rb(45,"label",39),m.Bc(46,"Prepa"),m.Qb(),m.zc(47,Co,3,1,"div",40),m.fc(48,"async"),m.Rb(49,"label",41),m.Bc(50,"University"),m.Qb(),m.zc(51,zo,3,1,"div",40),m.fc(52,"async"),m.Rb(53,"label",42),m.Bc(54,"Academic Year / Grade Months"),m.Qb(),m.zc(55,Go,3,1,"div",40),m.fc(56,"async"),m.Bc(57," ` "),m.Rb(58,"label",43),m.Bc(59,"Major"),m.Qb(),m.Nb(60,"input",44),m.Qb(),m.Qb(),m.Rb(61,"div",11),m.Rb(62,"div",10),m.Rb(63,"div",45),m.Nb(64,"img",46),m.Qb(),m.Qb(),m.Rb(65,"div",10),m.Rb(66,"div",47),m.Rb(67,"label",48),m.Bc(68,"Status"),m.Qb(),m.Rb(69,"select",49),m.zc(70,Bo,2,2,"option",32),m.Qb(),m.Rb(71,"label",50),m.Bc(72,"Joined From"),m.Qb(),m.Rb(73,"select",51),m.zc(74,Oo,2,2,"option",32),m.Qb(),m.Rb(75,"label",52),m.Bc(76,"Grad Year"),m.Qb(),m.Rb(77,"select",53),m.zc(78,Fo,2,2,"option",32),m.Qb(),m.Rb(79,"label",54),m.Bc(80,"Credential Year"),m.Qb(),m.Rb(81,"select",55),m.zc(82,Do,2,2,"option",32),m.Qb(),m.Rb(83,"label",56),m.Bc(84,"Probation Start Dt"),m.Qb(),m.Nb(85,"input",57),m.Rb(86,"label",58),m.Bc(87,"Mentor Assigned Dt"),m.Qb(),m.Nb(88,"input",59),m.Rb(89,"label",60),m.Bc(90,"Gender"),m.Qb(),m.Rb(91,"select",61),m.zc(92,Uo,2,2,"option",32),m.Qb(),m.Qb(),m.Rb(93,"div",47),m.Rb(94,"label",62),m.Bc(95,"Educational Level"),m.Qb(),m.Rb(96,"select",63),m.zc(97,xo,2,2,"option",32),m.Qb(),m.Rb(98,"label",64),m.Bc(99,"Year Joined"),m.Qb(),m.Rb(100,"select",65),m.zc(101,ko,2,2,"option",32),m.Qb(),m.Rb(102,"label",66),m.Bc(103,"Grad Month"),m.Qb(),m.Rb(104,"select",67),m.zc(105,Po,2,2,"option",32),m.Qb(),m.Rb(106,"label",68),m.Bc(107,"Credential Month"),m.Qb(),m.Rb(108,"select",69),m.zc(109,To,2,2,"option",32),m.Qb(),m.Rb(110,"label",70),m.Bc(111,"Probation End Dt"),m.Qb(),m.Nb(112,"input",71),m.Rb(113,"label",72),m.Bc(114,"Mentoring End Dt"),m.Qb(),m.Nb(115,"input",73),m.Rb(116,"label",74),m.Bc(117,"StudentId"),m.Qb(),m.Nb(118,"input",75),m.Qb(),m.Qb(),m.Rb(119,"div",10),m.Rb(120,"label",76),m.Bc(121,"StudentGUId"),m.Qb(),m.Nb(122,"input",77),m.Rb(123,"label",78),m.Bc(124,"CURP"),m.Qb(),m.Nb(125,"input",79),m.Rb(126,"label",80),m.Bc(127,"RFC"),m.Qb(),m.Nb(128,"input",81),m.Rb(129,"label",82),m.Bc(130,"Bank Account"),m.Qb(),m.Nb(131,"input",83),m.Qb(),m.Qb(),m.Rb(132,"div",11),m.Nb(133,"div",12),m.Rb(134,"label",84),m.Bc(135,"Sponsor Group"),m.Qb(),m.zc(136,Eo,3,1,"div",40),m.fc(137,"async"),m.Nb(138,"app-sponsor-group-members",85),m.Rb(139,"label",86),m.Bc(140,"Mentor: "),m.Qb(),m.zc(141,Ao,8,1,"div",40),m.fc(142,"async"),m.Nb(143,"app-student-grades-status",87),m.Nb(144,"app-student-mr-status",88),m.Qb(),m.Qb(),m.Rb(145,"div",10),m.Rb(146,"div",12),m.Rb(147,"button",89),m.cc("click",(function(){return m.sc(e),m.ec().saveMyForm()})),m.Bc(148," Save "),m.Qb(),m.Rb(149,"span",90),m.Bc(150,"All required fields must be filled in before saving."),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(1),m.jc("formGroup",e.myForm),m.zb(12),m.jc("hidden",!e.showEditLink),m.zb(2),m.kc("memberGUId",e.studentDTO.memberRecordGUId),m.zb(5),m.jc("errors",m.mc(43,qo)),m.zb(4),m.jc("errors",m.mc(44,$o)),m.zb(4),m.jc("errors",m.mc(45,Vo)),m.zb(4),m.jc("errors",m.mc(46,Vo)),m.zb(4),m.jc("ngForOf",e.languageStatuses),m.zb(4),m.jc("errors",m.mc(47,Yo)),m.zb(4),m.jc("errors",m.mc(48,Jo)),m.zb(3),m.jc("ngIf",m.gc(48,33,e.prepas$)),m.zb(4),m.jc("ngIf",m.gc(52,35,e.universities$)),m.zb(4),m.jc("ngIf",m.gc(56,37,e.universityGradeMonths$)),m.zb(9),m.jc("src",e.photoPathname,m.uc),m.zb(6),m.jc("ngForOf",e.studentStatuses),m.zb(4),m.jc("ngForOf",e.schoolTypes),m.zb(4),m.jc("ngForOf",e.gradYears),m.zb(4),m.jc("ngForOf",e.gradYears),m.zb(10),m.jc("ngForOf",e.genders),m.zb(5),m.jc("ngForOf",e.schoolTypes),m.zb(4),m.jc("ngForOf",e.joinedYears),m.zb(4),m.jc("ngForOf",e.gradMonths),m.zb(4),m.jc("ngForOf",e.gradMonths),m.zb(27),m.jc("ngIf",m.gc(137,39,e.sponsorGroups$)),m.zb(2),m.jc("sponsorGroupId",e.sponsorGroupIdParam),m.zb(3),m.jc("ngIf",m.gc(142,41,e.mentors$)),m.zb(2),m.jc("gpaStatus",e.studentDTO.gpaStatus)("gradeRptStatus",e.studentDTO.gradeRptStatus),m.zb(1),m.jc("meetingStatus",e.studentDTO.timelyMentorMeetingStatus)("reportStatus",e.studentDTO.timelyMentorReportStatus)("emojiPathname",e.emojiPathname),m.zb(3),m.jc("disabled",!e.myForm.valid),m.zb(2),m.jc("hidden",e.myForm.valid)}}let Xo=(()=>{class e{constructor(e,t,o,n,r,i,c){this.currRoute=e,this.router=t,this.urlService=o,this.studentData=n,this.miscData=r,this.formBuilder=i,this.location=c,this.mentors$=this.miscData.getMentors$().pipe(Object(ne.a)(e=>(this.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),ro.a))),this.prepas$=this.miscData.prepas$.pipe(Object(ne.a)(e=>(this.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),ro.a))),this.universities$=this.miscData.universities$.pipe(Object(ne.a)(e=>(this.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),ro.a))),this.universityGradeMonths$=this.miscData.universityGradeMonths$.pipe(Object(ne.a)(e=>(this.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),ro.a))),this.sponsorGroups$=this.miscData.sponsorGroups$.pipe(Object(ne.a)(e=>(this.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),ro.a))),this.smileys=l.a.smileys,this.showEditLink=!1,console.log("hi from AdminsStudent constructor"),this.webPrefix=o.getClientUrl(),this.languageStatuses=l.a.languageStatuses,this.studentStatuses=l.a.studentStatuses,this.schoolTypes=l.a.schoolTypes,this.joinedYears=l.a.joinedYears,this.gradYears=l.a.gradYears,this.gradMonths=l.a.months,this.credentialYears=l.a.gradYears,this.credentialMonths=l.a.months,this.genders=l.a.genders,this.myForm=i.group({studentId:[{value:""}],cellPhone:[{value:""},s.u.compose([s.u.minLength(7),s.u.maxLength(13)])],homePhone:[{value:""},s.u.compose([s.u.minLength(7),s.u.maxLength(13)])],nickName:[{value:""},s.u.maxLength(20)],photoUrl:[{value:""},s.u.maxLength(255)],gender:["",s.u.compose([s.u.required,s.u.maxLength(1)])],educationalLevelId:[{value:""}],emergencyContactPhone:[{value:""},s.u.compose([s.u.minLength(7),s.u.maxLength(13)])],emergencyContactName:[{value:""}],major:[{value:""}],englishSkillLevelId:[{value:""}],statusId:[{value:""}],yearJoinedJa:[{value:""}],joinedFromId:[{value:""}],prepaId:[{value:""}],universityId:[{value:""}],universityGradeMonthId:[{value:""}],gradYear:[{value:""}],gradMonthNum:[{value:""}],credentialYear:[{value:""}],credentialMonthNum:[{value:""}],probationStartDate:[{value:""},s.u.compose([s.u.pattern(/^\d{4}\-\d{1,2}\-\d{1,2}$/),s.u.maxLength(10)])],probationEndDate:[{value:""},s.u.compose([s.u.pattern(/^\d{4}\-\d{1,2}\-\d{1,2}$/),s.u.maxLength(10)])],mentorAssignedDate:[{value:""},s.u.compose([s.u.pattern(/^\d{4}\-\d{1,2}\-\d{1,2}$/),s.u.maxLength(10)])],mentoringEndDate:[{value:""},s.u.compose([s.u.pattern(/^\d{4}\-\d{1,2}\-\d{1,2}$/),s.u.maxLength(10)])],curp:[{value:""}],rfc:[{value:""}],bankAccount:[{value:""}],sponsorGroupId:[{value:""}],mentorGUId:[{value:""}],studentGUId:[{value:""}]}),this.myForm.disable(),console.log(this.myForm.controls),this.student=new co,this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){console.log("admins Student ngOnInit"),this.studentGUIdParam=this.currRoute.snapshot.params.guid,console.log("data service with studentGUIdParam: "+this.studentGUIdParam),this.fetchStudentDTOData()}fetchStudentDTOData(){this.isLoading=!0,this.studentData.getStudentDTOViaGUID(this.studentGUIdParam).subscribe(e=>{this.studentDTO=e,console.log("#######studentDTO: MemberRecordGUId "+this.studentDTO.memberRecordGUId),console.log("#######studentDTO: mentorGUId "+this.studentDTO.mentorGUId),console.log("#######studentDTO: mentorId "+this.studentDTO.mentorId),this.studentDTO=this.getNumericStatus(this.studentDTO)},e=>{this.errorMessage=e},()=>{console.log("studentDTO data loaded"),console.log(JSON.stringify(this.studentDTO)),this.fetchStudentData(),this.isLoading=!1})}fetchStudentData(){this.isLoading=!0,this.studentData.getStudentViaGUID(this.studentGUIdParam).subscribe(e=>{this.student=e,this.photoPathname=this.webPrefix+"/assets/images/StudentPhotos/"+this.student.yearJoinedJa,this.photoPathname=this.photoPathname+"/"+this.student.photoUrl,console.log("photoPathname is "+this.photoPathname),console.log(this.student),this.emojiPathname=this.smileys[this.studentDTO.studentSnapshotStatus+1],console.log("emoji is "+this.emojiPathname)},e=>console.error("Subscribe error: "+e),()=>{console.log("getStudent is done now set timeout for scroll"),this.setFormValues(this.student),console.log("#######student: mentorGUId "+this.student.mentorGUId),setTimeout(()=>{this.scrollIntoView()},0),this.isLoading=!1}),this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1}),this.myForm.controls.sponsorGroupId.valueChanges.subscribe(e=>{console.log("have new sponsorGroupId: "+e),this.sponsorGroupIdParam=e})}setFormValues(e){console.log("setFormValues"),console.log(">>>>>>>>>>>mentorGUId: "+e.mentorGUId),this.myForm.setValue({studentId:e.studentId,gender:e.gender,cellPhone:e.cellPhone,homePhone:e.homePhone,nickName:e.nickName,photoUrl:e.photoUrl,educationalLevelId:e.educationalLevelId,emergencyContactPhone:e.emergencyContactPhone,emergencyContactName:e.emergencyContactName,major:e.major,englishSkillLevelId:e.englishSkillLevelId,statusId:e.statusId,yearJoinedJa:e.yearJoinedJa,joinedFromId:e.joinedFromId,prepaId:e.prepaId,universityId:e.universityId,universityGradeMonthId:e.universityId,gradYear:e.gradYear,gradMonthNum:e.gradMonthNum,credentialYear:e.credentialYear,credentialMonthNum:e.credentialMonthNum,probationStartDate:(new ot.a).transform(""+e.probationStartDate),probationEndDate:(new ot.a).transform(""+e.probationEndDate),mentorAssignedDate:(new ot.a).transform(""+e.mentorAssignedDate),mentoringEndDate:(new ot.a).transform(""+e.mentoringEndDate),curp:e.curp,rfc:e.rfc,bankAccount:e.bankAccount,sponsorGroupId:e.sponsorGroupId,mentorGUId:e.mentorGUId.toUpperCase(),studentGUId:e.studentGUId}),console.log("++++++++++++++++universityGradeMonthId = "+this.myForm.controls.universityGradeMonthId.value)}retrieveFormValues(){console.log("retrieveFormValues "+JSON.stringify(this.myForm.value)),this.student=Object.assign(Object.assign({},this.student),this.myForm.value)}saveMyForm(){return console.log("saving admin student "),this.isLoading=!0,this.retrieveFormValues(),this.studentData.updateStudent(this.student).subscribe(()=>{window.setTimeout(()=>{this.successMessage="Changes were saved successfully."},0),this.submitted=!0,this.isLoading=!1,window.scrollTo(0,0),window.setTimeout(()=>{this.successMessage=""},3e3)},e=>{this.errorMessage=e,this.isLoading=!1}),!1}scrollIntoView(){const e=document.body;e&&e.scrollIntoView(!0)}backToStudentsList(){this.router.navigate(["/admins/students"])}mentorReportsReview(){this.router.navigate(["/admins/students/student/mentorReports/",{mentorId:this.studentDTO.mentorId,mentorGUId:this.studentDTO.mentorGUId,studentGUId:this.studentDTO.studentGUId,studentName:this.student.firstNames+" "+this.student.lastNames}])}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}gotoMemberRecord(){const e=["admins/members/member",{guid:this.studentDTO.memberRecordGUId}];console.log("navigating to "+e),this.router.navigate(e)}gotoGradeHistory(){this.router.navigate(["/admins/students/grade-history/"+this.currRoute.snapshot.params.id+"/"])}gotoMentor(e){const t=["admins/members/member",{guid:e}];console.log("navigating to "+t),this.router.navigate(t)}refreshMentors(){this.mentors$=this.miscData.getMentors$().pipe(Object(ne.a)(e=>(this.errorMessage=e,console.log("CAUGHT ERROR IN Component "+e),ro.a)))}setReadOnly(){console.log("toggle readOnly"),this.myForm.enabled?(this.myForm.disable(),this.showEditLink=!1):(this.myForm.enable(),this.showEditLink=!0),this.myForm.controls.universityGradeMonthId.disable()}onDateSelect(){alert("data selected")}getNumericStatus(e){return e.numericTimelyMentorMeetingStatus=0,"red"===e.timelyMentorMeetingStatus?e.numericTimelyMentorMeetingStatus=1:"yellow"===e.timelyMentorMeetingStatus?e.numericTimelyMentorMeetingStatus=2:"green"===e.timelyMentorMeetingStatus&&(e.numericTimelyMentorMeetingStatus=3),e.numericTimelyMentorReportStatus=0,"red"===e.timelyMentorReportStatus?e.numericTimelyMentorReportStatus=1:"yellow"===e.timelyMentorReportStatus?e.numericTimelyMentorReportStatus=2:"green"===e.timelyMentorReportStatus&&(e.numericTimelyMentorReportStatus=3),e.numericGradeRptStatus=0,"red"===e.gradeRptStatus?e.numericGradeRptStatus=1:"yellow"===e.gradeRptStatus?e.numericGradeRptStatus=2:"green"===e.gradeRptStatus&&(e.numericGradeRptStatus=3),e.numericGPAStatus=0,"red"===e.gpaStatus?e.numericGPAStatus=1:"yellow"===e.gpaStatus?e.numericGPAStatus=2:"green"===e.gpaStatus&&(e.numericGPAStatus=3),e.joinedFrom="N/A",2056===e.joinedFromId?e.joinedFrom="Prepa":2057===e.joinedFromId&&(e.joinedFrom="Univ"),e}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(i.b),m.Mb(u.a),m.Mb(qt.a),m.Mb(io.a),m.Mb(s.d),m.Mb(h.h))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-admins-student-profile"]],decls:6,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[2,"max-width","900px"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group"],[1,"btn","btn-primary","btn-sm",3,"click"],["for","ckEditMode"],["id","ckEditMode","type","checkbox","name","toggleReadOnly",2,"margin","0 0 0 4px",3,"click"],[1,"link",3,"hidden","click"],[3,"memberGUId"],["for","nickName"],["id","nickName","formControlName","nickName","type","text","placeholder","Nickname",1,"form-control","form-control-sm"],["control","nickName",1,"red",3,"errors"],["for","photoUrl"],["id","photoUrl","formControlName","photoUrl","type","text","placeholder","Photo Filename",1,"form-control","form-control-sm"],["control","photoUrl",1,"red",3,"errors"],["for","cellPhone"],["id","cellPhone","formControlName","cellPhone","type","text","placeholder","Cell Phone Number: ###-###-####",1,"form-control","form-control-sm"],["control","cellPhone",1,"red",3,"errors"],["for","homePhone"],["id","homePhone","formControlName","homePhone","type","text","placeholder","Home Phone Number: ###-###-####",1,"form-control","form-control-sm"],["control","homePhone",1,"red",3,"errors"],["for","englishSkillLevelId"],["formControlName","englishSkillLevelId",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],["for","emergencyContactName"],["id","emergencyContactName","formControlName","emergencyContactName","type","text","placeholder","Contact Person:",1,"form-control","form-control-sm"],["control","emergencyContactName",1,"red",3,"errors"],["for","emergencyContactPhone"],["id","emergencyContactPhone","formControlName","emergencyContactPhone","type","text","placeholder","Best Phone Number: ###-###-####",1,"form-control","form-control-sm"],["control","emergencyContactPhone",1,"red",3,"errors"],["for","prepaId"],[4,"ngIf"],["for","universityId"],["for","universityGradeMonthId"],["for","major"],["id","major","formControlName","major","type","text","placeholder","",1,"form-control","form-control-sm"],[2,"width","100%"],[3,"src"],[1,"col-6",2,"padding","0 2px 0 4px"],["for","statusId"],["id","statusId","formControlName","statusId",1,"form-control","form-control-sm"],["for","joinedFromId"],["id","joinedFromId","formControlName","joinedFromId",1,"form-control","form-control-sm"],["for","gradYear"],["id","gradYear","formControlName","gradYear",1,"form-control","form-control-sm"],["for","credentialYear"],["id","credentialYear","formControlName","credentialYear",1,"form-control","form-control-sm"],["for","probationStartDate"],["id","probationStartDate","formControlName","probationStartDate","placeholder","yyyy-mm-dd",1,"form-control","form-control-sm"],["for","mentorAssignedDate"],["id","mentorAssignedDate","formControlName","mentorAssignedDate","placeholder","yyyy-mm-dd",1,"form-control","form-control-sm"],["for","gender"],["id","gender","formControlName","gender",1,"form-control","form-control-sm"],["for","educationalLevelId"],["id","educationalLevelId","formControlName","educationalLevelId",1,"form-control","form-control-sm"],["for","yearJoinedJa"],["id","yearJoinedJa","formControlName","yearJoinedJa",1,"form-control","form-control-sm"],["for","gradMonthNum"],["id","gradMonthNum","formControlName","gradMonthNum",1,"form-control","form-control-sm"],["for","credentialMonthNum"],["id","credentialMonthNum","formControlName","credentialMonthNum",1,"form-control","form-control-sm"],["for","probationEndDate"],["id","probationEndDate","formControlName","probationEndDate","placeholder","yyyy-mm-dd",1,"form-control","form-control-sm"],["for","mentoringEndDate"],["id","mentoringEndDate","formControlName","mentoringEndDate","placeholder","yyyy-mm-dd",1,"form-control","form-control-sm"],["for","studentId"],["id","studentId","formControlName","studentId","readonly","","type","text",1,"form-control","form-control-sm"],["for","studentGUId"],["id","studentGUId","formControlName","studentGUId","readonly","","type","text",1,"form-control","form-control-sm"],["for","curp"],["id","curp","formControlName","curp","placeholder","",1,"form-control","form-control-sm"],["for","rfc"],["id","rfc","formControlName","rfc","type","text","placeholder","",1,"form-control","form-control-sm"],["for","bankAccount"],["id","bankAccount","formControlName","bankAccount","type","text","placeholder","",1,"form-control","form-control-sm"],["for","sponsorGroupId"],[3,"sponsorGroupId"],["for","mentorGUId"],[3,"gpaStatus","gradeRptStatus"],[3,"meetingStatus","reportStatus","emojiPathname"],["data-cy","btn-save",1,"btn","btn-primary",3,"disabled","click"],[1,"red",3,"hidden"],[3,"value"],["id","prepaId","formControlName","prepaId",1,"form-control","form-control-sm"],["id","universityId","formControlName","universityId",1,"form-control","form-control-sm"],["id","universityGradeMonthId","formControlName","universityGradeMonthId",1,"form-control","form-control-sm"],["id","sponsorGroupId","formControlName","sponsorGroupId",1,"form-control","form-control-sm"],["id","mentorGUId","formControlName","mentorGUId",1,"form-control","input-sm"],["data-cy","goto-mentor",1,"btn","btn-primary","btn-sm",3,"click"],["data-cy","refresh-mentors",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(e,t){1&e&&(m.zc(0,Mo,2,1,"div",0),m.zc(1,yo,2,1,"div",1),m.Rb(2,"div",2),m.Rb(3,"div",3),m.zc(4,Io,2,0,"div",4),m.zc(5,Ho,151,49,"div",5),m.Qb(),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(2),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,s.w,s.n,s.f,uo,s.b,s.m,s.e,g.a,s.t,h.k,vo,So,Ro,s.p,s.v],pipes:[h.b],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}input.ng-touched.ng-invalid[_ngcontent-%COMP%], select.ng-touched.ng-invalid[_ngcontent-%COMP%]{border:1px solid #a94442;border-left-width:5px}input.ng-valid[_ngcontent-%COMP%], select.ng-valid[_ngcontent-%COMP%]{border-left:5px solid #42a948}input.ng-invalid[_ngcontent-%COMP%], select.ng-invalid[_ngcontent-%COMP%]{border-left:5px solid #a94442}.red[_ngcontent-%COMP%]{color:#a94442;font-weight:700}"]}),e})();const Wo=function(){return["active"]},Ko=function(){return{exact:!0}},Zo=function(){return["/admins"]},es=function(){return["/admins/students"]},ts=function(){return["/admins/members"]},os=function(){return["/admins/sponsor-groups"]},ss=function(){return["/admins/mentor-reports/mr-container"]},ns=function(){return["/admins/follow-up-requests"]},rs=function(){return["/admins/utilities"]};let is=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-admins-navbar"]],decls:17,vars:30,consts:[[3,"routerLinkActive","routerLinkActiveOptions","routerLink"],[3,"routerLinkActive","routerLink"],["data-cy","admins-sponsors",3,"routerLinkActive","routerLink"],["href","https://forum.jovenesadelante.org","target","blank"]],template:function(e,t){1&e&&(m.Rb(0,"nav"),m.Rb(1,"a",0),m.Bc(2,"Welcome"),m.Qb(),m.Rb(3,"a",1),m.Bc(4,"Students"),m.Qb(),m.Rb(5,"a",1),m.Bc(6,"Members"),m.Qb(),m.Rb(7,"a",2),m.Bc(8,"Sponsors"),m.Qb(),m.Rb(9,"a",1),m.Bc(10,"MentorRpts"),m.Qb(),m.Rb(11,"a",1),m.Bc(12,"FollowUpReqs"),m.Qb(),m.Rb(13,"a",1),m.Bc(14,"Utilities"),m.Qb(),m.Rb(15,"a",3),m.Bc(16,"Forum>>"),m.Qb(),m.Qb()),2&e&&(m.zb(1),m.jc("routerLinkActive",m.mc(15,Wo))("routerLinkActiveOptions",m.mc(16,Ko))("routerLink",m.mc(17,Zo)),m.zb(2),m.jc("routerLinkActive",m.mc(18,Wo))("routerLink",m.mc(19,es)),m.zb(2),m.jc("routerLinkActive",m.mc(20,Wo))("routerLink",m.mc(21,ts)),m.zb(2),m.jc("routerLinkActive",m.mc(22,Wo))("routerLink",m.mc(23,os)),m.zb(2),m.jc("routerLinkActive",m.mc(24,Wo))("routerLink",m.mc(25,ss)),m.zb(2),m.jc("routerLinkActive",m.mc(26,Wo))("routerLink",m.mc(27,ns)),m.zb(2),m.jc("routerLinkActive",m.mc(28,Wo))("routerLink",m.mc(29,rs)))},directives:[i.d,i.c],styles:["[_nghost-%COMP%]{border:solid #e1e1e1;border-width:0 0 1px;display:block;height:48px;padding:0 16px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8f8f8f;font-size:14px;font-weight:700;line-height:38px;margin-right:20px;text-decoration:none;vertical-align:middle}nav[_ngcontent-%COMP%]   a.router-link-active[_ngcontent-%COMP%]{color:#106cc8}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{padding:5px;background-color:#add8e6;color:#05579e}"]}),e})(),cs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,t){1&e&&(m.Nb(0,"app-admins-navbar"),m.Nb(1,"router-outlet"))},directives:[is,i.f],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}h2[_ngcontent-%COMP%]{font-size:20px;font-weight:500;letter-spacing:.005em;margin-bottom:0;margin-top:.83em}"]}),e})();var as=o("NJKB"),ls=o("fPB/");function ds(e,t){if(1&e&&(m.Rb(0,"option",2),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function bs(e,t){if(1&e&&(m.Rb(0,"option",2),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.memberId),m.zb(1),m.Cc(e.memberName)}}let us=(()=>{class e{constructor(e){this.memberData=e,this.errorMessage="",this.onSelectedRoleId=new m.o,this.onSelectedMemberId=new m.o,this.requestorRoles=[{value:"0",label:"[None]"},{value:"1008",label:"Volunteer"},{value:"1009",label:"Sponsor"},{value:"1010",label:"Mentor"},{value:"1013",label:"Donor"},{value:"1007",label:"Board Member"},{value:"2068",label:"Admin"},{value:"2069",label:"Student"}]}ngOnInit(){this.haveData=!1,this.haveMemberType=!1}setSelectedRole(e){console.log("selectedRole is set to "+e),this.haveMemberType=!0;const t=this.requestorRoles.filter(t=>t.value===e).map(e=>e.label);console.log("selectedValue is "+t[0]),this.fetchMembers(t[0]),this.onSelectedRoleId.emit(+e)}fetchMembers(e){console.log("in fetchMembers"),this.memberData.getCurrentMemberMiniDTOsByRole(e).subscribe(e=>{this.members=e},e=>console.error("Subscribe error: "+e),()=>{console.log("member-selector loaded "+this.members.length+" rows"),this.members.length>0&&(console.log(this.members[0].memberName),this.haveData=!0)})}setSelectedMember(e){console.log("selected memberId is set to "+e),this.onSelectedMemberId.emit(+e)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(d.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-member-selector"]],inputs:{memberTypeLabel:"memberTypeLabel"},outputs:{onSelectedRoleId:"onSelectedRoleId",onSelectedMemberId:"onSelectedMemberId"},decls:12,vars:7,consts:[["for","requestorRoleSelector"],["id","requestorRoleSelector",1,"form-control","input-sm",3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","requestorSelector"],["id","MemberSelector",1,"form-control","input-sm",3,"disabled","change"]],template:function(e,t){1&e&&(m.Rb(0,"label",0),m.Bc(1),m.Qb(),m.Rb(2,"select",1),m.cc("change",(function(e){return t.setSelectedRole(e.target.value)})),m.Rb(3,"option",2),m.Bc(4,"Select Role"),m.Qb(),m.zc(5,ds,2,2,"option",3),m.Qb(),m.Rb(6,"label",4),m.Bc(7),m.Qb(),m.Rb(8,"select",5),m.cc("change",(function(e){return t.setSelectedMember(e.target.value)})),m.Rb(9,"option",2),m.Bc(10,"Select Member"),m.Qb(),m.zc(11,bs,2,2,"option",3),m.Qb()),2&e&&(m.zb(1),m.Dc("",t.memberTypeLabel," Role: "),m.zb(2),m.jc("value",null),m.zb(2),m.jc("ngForOf",t.requestorRoles),m.zb(2),m.Dc("",t.memberTypeLabel," Person: "),m.zb(1),m.jc("disabled",!t.haveMemberType),m.zb(1),m.jc("value",null),m.zb(2),m.jc("ngForOf",t.members))},directives:[s.p,s.v,h.k],styles:[""]}),e})();function ms(e,t){if(1&e&&(m.Rb(0,"div",20),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function hs(e,t){if(1&e&&(m.Rb(0,"div",21),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function ps(e,t){if(1&e&&(m.Rb(0,"option",22),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}const gs=function(){return{required:"Request Status is required"}};let fs=(()=>{class e{constructor(e,t,o,s,n){this.currRoute=e,this.router=t,this.followUpData=o,this._fb=s,this.session=n,this.followUpEvent=new ls.a;const r=new Date;this.followUpEvent.eventDateTime=new Date(r.getTime()-6e4*r.getTimezoneOffset()),this.followUpStatuses=l.a.followUpStatuses,this.followUpEvent.followUpRequestId=this.currRoute.snapshot.params.requestId,this.followUpEvent.enteredById=this.session.userId,this.followUpEvent.assignedToId=2433,this.followUpEvent.assignedToRoleId=2068,this.followUpEvent.comments_English="",this.followUpEvent.comments_Spanish="",this.isLoading=!0}ngOnInit(){this.myForm=this._fb.group({requestStatusId:[this.followUpEvent.requestStatusId],assignedToSelector:[this.followUpEvent.assignedToRoleId],assignedToRoleSelector:[this.followUpEvent.assignedToId],comments_English:[this.followUpEvent.comments_English],comments_Spanish:[this.followUpEvent.comments_Spanish]}),this.errorMessage="",this.successMessage="",this.submitted=!1,console.log("entetered by"+this.followUpEvent.enteredById),console.log("Hi followUpEvents constructor with event object "),console.log(this.followUpEvent),this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1})}retrieveFormValues(){console.log("retrieveFormValues "+JSON.stringify(this.myForm.value)),this.followUpEvent=Object.assign(Object.assign({},this.followUpEvent),this.myForm.value)}onSubmit(){if(console.log("Hi followUpEvents Submit with event object "),console.log(this.followUpEvent),this.retrieveFormValues(),this.myForm.invalid)return this.errorMessage="",window.scrollTo(0,0),!1;this.followUpData.postFollowUpEvent(this.followUpEvent).subscribe(e=>{console.log("followUp Event completed -- sending Initial Event with response"),console.log(e)},e=>{this.errorMessage=e.message,this.isLoading=!1},()=>{this.submitted=!0,this.isLoading=!1;const e="/admins/follow-up-requests";console.log("after call to addFollowUpEvent; navigating to "+e),this.router.navigateByUrl(e)})}onCancel(){this.navigateBackInContext()}navigateBackInContext(){const e="/admins/follow-up-requests";console.log("after Submit or Cancel navigating to "+e),this.router.navigate([e],{})}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}onSelectedRoleId(e){this.followUpEvent.assignedToRoleId=e,console.log("container form has assignedToRoleId "+e)}onSelectedMemberId(e){this.followUpEvent.assignedToId=e,console.log("container form has AssignedToId "+e)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(i.b),m.Mb(as.a),m.Mb(s.d),m.Mb(T.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:33,vars:9,consts:[[1,"card-header","bg-warning","text-for-warning",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[3,"disabled"],[3,"followUpRequestId"],[1,"controls"],[3,"memberTypeLabel","onSelectedRoleId","onSelectedMemberId"],[1,"form-group"],["for","requestStatusId"],["formControlName","requestStatusId",1,"form-control","input-sm"],[3,"value",4,"ngFor","ngForOf"],["control","requestStatusId",1,"red",3,"errors"],["for","comments_English"],["id","comments_English","formControlName","comments_English","type","text","placeholder","",1,"form-control","input-sm"],["success",""],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[3,"value"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"div",0),m.Bc(2," Add New FollowUp Request Detail "),m.Qb(),m.Rb(3,"div",1),m.zc(4,ms,2,1,"div",2),m.zc(5,hs,2,1,"div",3),m.Rb(6,"form",4),m.Rb(7,"fieldset",5),m.Nb(8,"app-follow-up-events",6),m.Rb(9,"div",7),m.Rb(10,"app-member-selector",8),m.cc("onSelectedRoleId",(function(e){return t.onSelectedRoleId(e)}))("onSelectedMemberId",(function(e){return t.onSelectedMemberId(e)})),m.Qb(),m.Qb(),m.Rb(11,"div",9),m.Rb(12,"div",7),m.Rb(13,"label",10),m.Bc(14,"Follow-Up Status:"),m.Qb(),m.Rb(15,"select",11),m.zc(16,ps,2,2,"option",12),m.Qb(),m.Nb(17,"app-display-errors",13),m.Qb(),m.Rb(18,"div",7),m.Rb(19,"label",14),m.Bc(20,"Comments (English or Spanish)"),m.Qb(),m.Rb(21,"textarea",15,16),m.Bc(23,"              "),m.Qb(),m.Qb(),m.Qb(),m.Rb(24,"div",9),m.Rb(25,"div",17),m.Rb(26,"span"),m.Rb(27,"button",18),m.cc("click",(function(){return t.onSubmit()})),m.Bc(28," Submit "),m.Qb(),m.Qb(),m.Bc(29,"\xa0 "),m.Rb(30,"span"),m.Rb(31,"button",19),m.cc("click",(function(){return t.onCancel()})),m.Bc(32," Cancel "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(4),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("formGroup",t.myForm),m.zb(1),m.jc("disabled",t.submitted),m.zb(1),m.jc("followUpRequestId","1010"),m.zb(2),m.jc("memberTypeLabel","Assigned-to"),m.zb(6),m.jc("ngForOf",t.followUpStatuses),m.zb(1),m.jc("errors",m.mc(8,gs)))},directives:[h.l,s.w,s.n,s.f,a.a,us,s.t,s.m,s.e,h.k,g.a,s.b,s.p,s.v],styles:[""]}),e})();var vs=o("LkS6"),Ss=o("WhHa");function Rs(e,t){if(1&e&&(m.Rb(0,"option",3),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.studentGUId),m.zb(1),m.Cc(e.studentName)}}let Ms=(()=>{class e{constructor(e){this.studentData=e,this.errorMessage="",this.onSelectedStudentGUId=new m.o}ngOnInit(){this.haveData=!1,this.studentData.getCurrentStudentMiniDTOs("").subscribe(e=>{this.students=e},e=>console.error("Subscribe error: "+e),()=>{console.log("student selector has All students: "+this.students.length),this.students=this.students.filter(e=>"N/A, N/A"!==e.studentName),console.log("student selector has Current students: "+this.students.length),this.students.length>0&&(console.log(this.students[0].studentName),this.haveData=!0)})}setSelectedStudent(e){console.log("selected studentGUId is set to "+e),this.onSelectedStudentGUId.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(qt.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-student-selector"]],outputs:{onSelectedStudentGUId:"onSelectedStudentGUId"},decls:7,vars:2,consts:[[1,"controls"],["for","StudentSelector"],["name","StudentSelector",1,"form-control","input-sm",3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"label",1),m.Bc(2,"Student:"),m.Qb(),m.Rb(3,"select",2),m.cc("change",(function(e){return t.setSelectedStudent(e.target.value)})),m.Rb(4,"option",3),m.Bc(5,"Select Student"),m.Qb(),m.zc(6,Rs,2,2,"option",4),m.Qb(),m.Qb()),2&e&&(m.zb(4),m.jc("value",null),m.zb(2),m.jc("ngForOf",t.students))},directives:[s.p,s.v,h.k],encapsulation:2}),e})();function ys(e,t){if(1&e&&(m.Rb(0,"div",16),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function Is(e,t){if(1&e&&(m.Rb(0,"div",17),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}let Qs=(()=>{class e{constructor(e,t,o,s,n,r){this.currRoute=e,this.router=t,this.followUpData=o,this._fb=s,this.session=n,this.xlator=r,this.requestStatuses=[{value:"0",label:"[None]"},{value:"2091",label:"Requested"},{value:"2092",label:"Assigned"},{value:"2104",label:"Closed"}],this.requestorRoles=[{value:"0",label:"[None]"},{value:"1008",label:"Volunteer"},{value:"1009",label:"Sponsor"},{value:"1010",label:"Mentor"},{value:"1013",label:"Donor"},{value:"1007",label:"Board Member"},{value:"2068",label:"Admin"}],this.myForm=s.group({studentSelector:[""],requestorRoleSelector:[""],requestorSelector:[""],targetDate:[""],description_English:[""],description_Spanish:[""]}),this.followUpRequest=new vs.a;const i=new Date;this.followUpRequest.requestDateTime=new Date(i.getTime()-6e4*i.getTimezoneOffset()),console.log("reportDateTime = "+this.followUpRequest.requestDateTime),this.errorMessage="",this.successMessage="",this.submitted=!1}ngOnInit(){this.isLoading=!0,this.myForm.valueChanges.subscribe(()=>{this.errorMessage="",this.successMessage="",this.submitted=!1})}retrieveFormValues(){console.log("retrieveFormValues "+JSON.stringify(this.myForm.value)),this.followUpRequest=Object.assign(Object.assign({},this.followUpRequest),this.myForm.value)}onSubmit(){return console.log("Hi from FollowUpRequests Submit"),this.myForm.invalid?(this.errorMessage="",window.scrollTo(0,0),!1):(this.retrieveFormValues(),this.followUpData.postFollowUpRequest(this.followUpRequest).subscribe(e=>{console.log("followUp Request completed -- sending Initial Event with response"),console.log(e.followUpRequest),this.submitInitialEvent(e.followUpRequest)},e=>{this.errorMessage=e,this.isLoading=!1},()=>{}),!1)}onCancel(){this.navigateBackInContext()}submitInitialEvent(e){console.log("in submitInitialEvent with FollowUpRequest"),console.log(e);const t=new ls.a;t.followUpRequestId=e.followUpRequestId,t.eventDateTime=e.requestDateTime,t.enteredById=this.session.getUserId(),t.requestStatusId=2092,t.assignedToId=2433,t.assignedToRoleId=2068,t.comments_English="Initial request received",t.comments_Spanish="Solicitud inicial recibida",console.log("ready to submit intitial event with"),console.log(t),this.followUpData.postFollowUpEvent(t).subscribe(e=>{console.log("have response to followUpRequest post with response "),console.log(e)},e=>{this.errorMessage=e,this.isLoading=!1},()=>{this.submitted=!0,this.isLoading=!1;const e="/admins/follow-up-requests";console.log("after call to addFollowUpEvent; navigating to "+e),this.router.navigateByUrl(e)})}navigateBackInContext(){const e="/admins/follow-up-requests";console.log("after Submit or Cancel navigating to "+e),this.router.navigate([e],{})}hasChanges(){return console.log("hasChanges has submitted "+this.submitted),console.log("hasChanges has form dirty "+this.myForm.dirty),console.log("hasChanges net is "+this.myForm.dirty||!1),this.myForm.dirty&&!this.submitted}onSelectedStudentGUId(e){this.followUpRequest.studentGUId=e,console.log("container form has studentGUId "+e)}onSelectedRoleId(e){this.followUpRequest.requestorRoleId=e,console.log("container form has reqeustorRoleId "+e)}onSelectedMemberId(e){this.followUpRequest.requestorId=e,console.log("container form has reqeustorMemberId "+e)}translateFromSpanish(e){this.xlator.translateFromSpanish(e)}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(i.b),m.Mb(as.a),m.Mb(s.d),m.Mb(T.a),m.Mb(Ss.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-follow-up-requests-add"]],decls:27,vars:5,consts:[[1,"card"],[1,"card-header","bg-warning","text-for-warning",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"formGroup"],[3,"disabled"],[1,"form-group"],[1,"controls"],[3,"onSelectedStudentGUId"],[3,"memberTypeLabel","onSelectedRoleId","onSelectedMemberId"],["formControlName","description_English","type","text","placeholder","Brief Description of Request",1,"form-control","input-sm"],["success",""],[1,"col-md-6","col-md-offset-1"],[1,"btn","btn-primary",2,"width","80px","margin-right","10px",3,"click"],["type","button",1,"btn","btn-default",2,"width","75px",3,"click"],[1,"alert","alert-danger"],[1,"alert","alert-success"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2," Add New FollowUp Request "),m.Qb(),m.Rb(3,"div",2),m.zc(4,ys,2,1,"div",3),m.zc(5,Is,2,1,"div",4),m.Rb(6,"form",5),m.Rb(7,"fieldset",6),m.Rb(8,"div",7),m.Rb(9,"div",8),m.Rb(10,"app-student-selector",9),m.cc("onSelectedStudentGUId",(function(e){return t.onSelectedStudentGUId(e)})),m.Qb(),m.Qb(),m.Rb(11,"div",8),m.Rb(12,"app-member-selector",10),m.cc("onSelectedRoleId",(function(e){return t.onSelectedRoleId(e)}))("onSelectedMemberId",(function(e){return t.onSelectedMemberId(e)})),m.Qb(),m.Qb(),m.Rb(13,"div",8),m.Rb(14,"label"),m.Bc(15,"Brief Description (English or Spanish)"),m.Qb(),m.Nb(16,"input",11,12),m.Qb(),m.Qb(),m.Rb(18,"div",7),m.Rb(19,"div",13),m.Rb(20,"span"),m.Rb(21,"button",14),m.cc("click",(function(){return t.onSubmit()})),m.Bc(22," Submit "),m.Qb(),m.Qb(),m.Bc(23,"\xa0 "),m.Rb(24,"span"),m.Rb(25,"button",15),m.cc("click",(function(){return t.onCancel()})),m.Bc(26," Cancel "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(4),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("formGroup",t.myForm),m.zb(1),m.jc("disabled",t.submitted),m.zb(5),m.jc("memberTypeLabel","Requestor"))},directives:[h.l,s.w,s.n,s.f,Ms,us,s.b,s.m,s.e],styles:[""]}),e})();var ws=o("1w/L");function Cs(e,t){if(1&e&&(m.Rb(0,"span",5),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function Ns(e,t){if(1&e&&(m.Rb(0,"span",6),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function zs(e,t){1&e&&(m.Rb(0,"div",7),m.Nb(1,"app-loading-container"),m.Qb())}function js(e,t){if(1&e&&(m.Rb(0,"option",17),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("value",e.value),m.zb(1),m.Cc(e.label)}}function Gs(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"div",9),m.Rb(2,"span"),m.Bc(3,"Requests / Corrientes "),m.Qb(),m.Rb(4,"span"),m.Rb(5,"span"),m.Rb(6,"span",10),m.cc("click",(function(){return m.sc(e),m.ec(2).followUpRequestAdd()})),m.Bc(7," Add New FollowUpRequest "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Rb(8,"div"),m.Rb(9,"label",11),m.Bc(10,"Request Status:"),m.Qb(),m.Rb(11,"select",12),m.cc("ngModelChange",(function(t){return m.sc(e),m.ec(2).selectedFollowUpStatusId=t}))("change",(function(t){return m.sc(e),m.ec(2).setSelectedFollowUpStatus(t.target.value)})),m.zc(12,js,2,2,"option",13),m.Qb(),m.Rb(13,"span",14),m.Bc(14," \xa0\xa0"),m.Rb(15,"input",15),m.cc("ngModelChange",(function(t){return m.sc(e),m.ec(2).displayCompleteHistory=t})),m.Qb(),m.Bc(16,"\xa0"),m.Rb(17,"span"),m.Bc(18,"Display Complete History"),m.Qb(),m.Qb(),m.Qb(),m.Nb(19,"app-follow-up-requests-list",16),m.Qb()}if(2&e){const e=m.ec(2);m.zb(11),m.jc("ngModel",e.selectedFollowUpStatusId),m.zb(1),m.jc("ngForOf",e.followUpStatuses),m.zb(3),m.jc("ngModel",e.displayCompleteHistory),m.zb(4),m.jc("followUpRequests",e.followUpRequests)("displayCompleteHistory",e.displayCompleteHistory)("showAddDetails",e.showAddDetails)}}function Bs(e,t){if(1&e&&(m.Rb(0,"div"),m.zc(1,Gs,20,6,"div",8),m.Qb()),2&e){const e=m.ec();m.zb(1),m.jc("ngIf",!e.errorMessage)}}let Os=(()=>{class e{constructor(e,t,o){this.followUpData=e,this.router=t,this.session=o,this.followUpStatuses=l.a.followUpStatuses,this.selectedFollowUpStatusId=l.a.followUpStatuses[1].value,this.showAddDetails="2092"===this.selectedFollowUpStatusId}ngOnInit(){console.log("calling fetchFilterdData with "+this.selectedFollowUpStatusId),this.fetchFilteredData()}fetchFilteredData(){this.isLoading=!0,console.log("in fetchFilteredData for FollowUpRequests"),this.followUpData.getFollowUpRequests(this.selectedFollowUpStatusId).subscribe(e=>{this.followUpRequests=e},e=>console.error("Subscribe error: "+e),()=>{console.log("done >>"),console.log(this.followUpRequests),console.log("<<"),this.isLoading=!1})}followUpRequestAdd(){console.log("in follow-up-requests: FollowUpRequestAdd, ready to navigate"),this.router.navigateByUrl("/admins/follow-up-requests-add")}setSelectedFollowUpStatus(e){this.selectedFollowUpStatusId=e,this.showAddDetails="2092"===this.selectedFollowUpStatusId,this.fetchFilteredData()}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(as.a),m.Mb(i.b),m.Mb(T.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-follow-up-requests"]],decls:5,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[4,"ngIf"],[1,"card-header","bg-warning","text-for-warning",2,"font-size","large"],["data-cy","add-follow-up",1,"btn","btn-default","active",2,"margin-left","10px",3,"click"],["for","MRReviewedStatusSelector"],["name","MRReviewedStatusSelector",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"checkboxes"],["type","checkbox",3,"ngModel","ngModelChange"],[3,"followUpRequests","displayCompleteHistory","showAddDetails"],[3,"value"]],template:function(e,t){1&e&&(m.zc(0,Cs,2,1,"span",0),m.zc(1,Ns,2,1,"span",1),m.Rb(2,"div",2),m.zc(3,zs,2,0,"div",3),m.zc(4,Bs,2,1,"div",4),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,s.t,s.m,s.o,h.k,s.a,ws.a,s.p,s.v],styles:[".checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:3em}.checkboxes[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .checkboxes[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:middle}"]}),e})();class Fs{constructor(e,t){this.sponsorGroupId=e,this.sponsorGroupName=t}}class Ds{constructor(e,t){this.sponsorGroupMemberId=e,this.sponsorGroupId=t}}function Us(e,t){if(1&e&&(m.Rb(0,"div",6),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function xs(e,t){if(1&e&&(m.Rb(0,"div",7),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function ks(e,t){1&e&&(m.Rb(0,"div",8),m.Nb(1,"app-loading-container"),m.Qb())}function Ps(e,t){if(1&e&&(m.Rb(0,"option",12),m.Bc(1),m.Qb()),2&e){const e=t.$implicit;m.jc("ngValue",e),m.zb(1),m.Dc(" ",e.memberName,"")}}const Ts=function(){return{memberId:0,memberName:""}};function Ls(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"form",9),m.Rb(2,"table",10),m.Rb(3,"thead"),m.Rb(4,"tr"),m.Rb(5,"th"),m.Bc(6,"Select New Sponsor Group Member:"),m.Qb(),m.Qb(),m.Qb(),m.Rb(7,"tbody"),m.Rb(8,"tr"),m.Rb(9,"td"),m.Rb(10,"select",11),m.cc("change",(function(t){return m.sc(e),m.ec().setSelectedMember(t.target.value)})),m.Rb(11,"option",12),m.Bc(12,"Select SponsorGroup Member"),m.Qb(),m.zc(13,Ps,2,2,"option",13),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(1),m.jc("formGroup",e.myForm),m.zb(10),m.jc("ngValue",m.mc(3,Ts)),m.zb(2),m.jc("ngForOf",e.memberSponsors)}}let Es=(()=>{class e{constructor(e,t,o,s){this.currRoute=e,this.memberData=t,this.router=o,this.formBuilder=s,this.bReadOnly=!0,this.onSelectedMember=new m.o,this.isLoading=!1,this.myForm=s.group({memberSelector:[{value:""}]})}ngOnInit(){this.fetchData()}fetchData(){this.isLoading=!0,console.log("in fetchData for getActiveSponsorMembers"),this.memberData.getActiveSponsorMembers().subscribe(e=>{this.memberSponsors=e,console.log("getActiveMemberSponsors"),console.log(this.memberSponsors[0])},e=>console.error("Subscribe error: "+e),()=>{console.log("sponsor-group-member-edit loaded "+this.memberSponsors.length+" rows"),this.isLoading=!1})}setSelectedMember(){const e=new Ds;return e.sponsorGroupMemberId=this.myForm.controls.memberSelector.value.memberId,e.sponsorGroupId=+this.sponsorGroupId,console.log("after constructor assignments"),console.log(e),this.memberData.addNewSponsorGroupMember(e).subscribe(()=>{window.setTimeout(()=>{this.successMessage="Changes were saved successfully.",console.log("// cause sibling to reload by sending @Output message up through parent"),this.eventMessage="newMember:"+e.sponsorGroupMemberId,this.onSelectedMember.emit(this.eventMessage),this.myForm.controls.memberSelector.setValue({memberId:0,memberName:""})},0),this.submitted=!0,this.isLoading=!1,window.setTimeout(()=>{this.successMessage=""},3e3)},e=>{console.log(this.errorMessage=e.message),this.isLoading=!1,this.myForm.controls.memberSelector.setValue({memberId:0,memberName:""}),window.setTimeout(()=>{this.errorMessage=""},3e3)}),!1}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(d.a),m.Mb(i.b),m.Mb(s.d))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-sponsor-group-member-edit"]],inputs:{sponsorGroupId:"sponsorGroupId"},outputs:{onSelectedMember:"onSelectedMember"},decls:6,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[2,"max-width","900px"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"form-horizontal",3,"formGroup"],[1,"table","table-condensed"],["formControlName","memberSelector",1,"form-control","input-sm",3,"change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(m.zc(0,Us,2,1,"div",0),m.zc(1,xs,2,1,"div",1),m.Rb(2,"div",2),m.Rb(3,"div",3),m.zc(4,ks,2,0,"div",4),m.zc(5,Ls,14,4,"div",5),m.Qb(),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(2),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,s.w,s.n,s.f,s.t,s.m,s.e,s.p,s.v,h.k],encapsulation:2}),e})();function _s(e,t){if(1&e&&(m.Rb(0,"div",6),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function As(e,t){if(1&e&&(m.Rb(0,"div",7),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function qs(e,t){1&e&&(m.Rb(0,"div",8),m.Nb(1,"app-loading-container"),m.Qb())}function $s(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"form",9),m.Rb(2,"div",10),m.Rb(3,"div",11),m.Rb(4,"div",12),m.Rb(5,"span",13),m.cc("click",(function(){return m.sc(e),m.ec().location.back()})),m.Bc(6," <<\xa0 Back "),m.Qb(),m.Bc(7," \xa0 "),m.Qb(),m.Rb(8,"div",12),m.Nb(9,"input",14),m.Rb(10,"label",15),m.Bc(11,"SponsorGroup Name"),m.Qb(),m.Nb(12,"input",16),m.Qb(),m.Rb(13,"div",12),m.Rb(14,"button",17),m.cc("click",(function(){return m.sc(e),m.ec().saveSponsorGroup()})),m.Bc(15," Save Name Change "),m.Qb(),m.Qb(),m.Qb(),m.Rb(16,"div",11),m.Rb(17,"div",12),m.Nb(18,"app-sponsor-group-members",18),m.Qb(),m.Rb(19,"div",12),m.Rb(20,"app-sponsor-group-member-edit",19),m.cc("onSelectedMember",(function(t){return m.sc(e),m.ec().receiveSelectedMemberEvent(t)})),m.Bc(21,"> "),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(1),m.jc("formGroup",e.myForm),m.zb(17),m.jc("sponsorGroupId",e.sponsorGroupId)("newMemberNotification",e.newMemberMessage),m.zb(2),m.jc("sponsorGroupId",e.sponsorGroupId)}}let Vs=(()=>{class e{constructor(e,t,o,n,r){this.currRoute=e,this.sponsorGroupData=t,this.router=o,this.formBuilder=n,this.location=r,this.bReadOnly=!0,this.isLoading=!1,this.myForm=n.group({sponsorGroupId:[{value:"",hidden:!0}],sponsorGroupName:["",s.u.compose([s.u.required,s.u.maxLength(50)])]})}ngOnInit(){this.sponsorGroup=new Fs,this.sponsorGroupId=this.currRoute.snapshot.params.id,console.log("data service with sponsorGroupId: "+this.sponsorGroupId),this.fetchData()}fetchData(){this.isLoading=!0,this.sponsorGroupData.getSponsorGroup(this.sponsorGroupId).subscribe(e=>{this.sponsorGroup=e},e=>this.errorMessage=e,()=>{console.log("done "+this.sponsorGroup.sponsorGroupId+":"+this.sponsorGroup.sponsorGroupName),this.isLoading=!1,this.setFormValues(this.sponsorGroup)})}setFormValues(e){console.log("setFormValues "+e.sponsorGroupName),this.myForm.setValue({sponsorGroupId:e.sponsorGroupId,sponsorGroupName:e.sponsorGroupName})}retrieveFormValues(){console.log("retrieveFormValues "+JSON.stringify(this.myForm.value)),this.sponsorGroup=Object.assign(Object.assign({},this.sponsorGroup),this.myForm.value)}saveSponsorGroup(){return console.log("saving admin student "),this.isLoading=!0,this.retrieveFormValues(),this.sponsorGroupData.updateSponsorGroup(this.sponsorGroup).subscribe(()=>{window.setTimeout(()=>{this.successMessage="Changes were saved successfully."},0),this.submitted=!0,this.isLoading=!1,window.setTimeout(()=>{this.successMessage=""},3e3)},e=>{this.errorMessage=e,this.isLoading=!1}),!1}receiveSelectedMemberEvent(e){console.log("parent recevied SelectedMemberEvent"),this.newMemberMessage=e}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(i.a),m.Mb(Re.a),m.Mb(i.b),m.Mb(s.d),m.Mb(h.h))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-sponsor-group"]],decls:6,vars:5,consts:[["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[2,"max-width","900px"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],[1,"form-horizontal",3,"formGroup"],[1,"row"],[1,"col"],[1,"form-group"],[1,"btn","btn-primary","btn-sm",3,"click"],["id","sponsorGroupId","formControlName","sponsorGroupId","type","text","readonly","",1,"form-control","form-control-sm"],["for","sponsorGroupName"],["id","sponsorGroupName","formControlName","sponsorGroupName","type","text","placeholder","SponsorGroup Name",1,"form-control","form-control-sm"],[1,"btn","btn-primary",3,"click"],[3,"sponsorGroupId","newMemberNotification"],[3,"sponsorGroupId","onSelectedMember"]],template:function(e,t){1&e&&(m.zc(0,_s,2,1,"div",0),m.zc(1,As,2,1,"div",1),m.Rb(2,"div",2),m.Rb(3,"div",3),m.zc(4,qs,2,0,"div",4),m.zc(5,$s,22,4,"div",5),m.Qb(),m.Qb()),2&e&&(m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(2),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,s.w,s.n,s.f,s.b,s.m,s.e,vo,Es],encapsulation:2}),e})();function Ys(e,t){if(1&e&&(m.Rb(0,"span",8),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.errorMessage)}}function Js(e,t){if(1&e&&(m.Rb(0,"span",9),m.Bc(1),m.Qb()),2&e){const e=m.ec();m.zb(1),m.Cc(e.successMessage)}}function Hs(e,t){1&e&&(m.Rb(0,"div",10),m.Nb(1,"app-loading-container"),m.Qb())}function Xs(e,t){if(1&e){const e=m.Sb();m.Rb(0,"tr"),m.Rb(1,"td"),m.Bc(2),m.Qb(),m.Rb(3,"td"),m.Bc(4),m.Rb(5,"span",20),m.cc("click",(function(){m.sc(e);const o=t.$implicit;return m.ec(2).editSponsorGroup(o.sponsorGroupId)})),m.Bc(6," Edit"),m.Qb(),m.Qb(),m.Rb(7,"td"),m.Bc(8),m.Qb(),m.Qb()}if(2&e){const e=t.$implicit,o=t.index;m.zb(2),m.Dc(" ",o+1," "),m.zb(2),m.Dc(" ",e.sponsorGroupName," "),m.zb(4),m.Dc(" ",e.sponsorGroupMemberName," ")}}function Ws(e,t){if(1&e){const e=m.Sb();m.Rb(0,"div"),m.Rb(1,"table",11),m.Rb(2,"thead"),m.Rb(3,"tr"),m.Nb(4,"th"),m.Rb(5,"th",12),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(6," Sponsor Group"),m.Qb(),m.Rb(7,"th",13),m.cc("onSortColumn",(function(t){return m.sc(e),m.ec().onSortColumn(t)})),m.Bc(8,"Group Member Name "),m.Qb(),m.Qb(),m.Qb(),m.Rb(9,"tbody"),m.zc(10,Xs,9,3,"tr",14),m.Qb(),m.Qb(),m.Rb(11,"div",15),m.Rb(12,"label",16),m.Bc(13,"Add new Sponsor Group"),m.Qb(),m.Nb(14,"input",17,18),m.Rb(16,"button",19),m.cc("click",(function(){m.sc(e);const t=m.rc(15);return m.ec().addNewSponsorGroup(t.value)})),m.Bc(17," Save "),m.Qb(),m.Qb(),m.Qb()}if(2&e){const e=m.ec();m.zb(10),m.jc("ngForOf",e.sponsorGroups)}}let Ks=(()=>{class e{constructor(e,t,o){this.sponsorGroupData=e,this.router=t,this.columnSorter=o,this.isLoading=!1}ngOnInit(){this.testNameVisibility$.subscribe(e=>{this.displayTestNames=e,this.fetchData()})}fetchData(){this.isLoading=!0,console.log("in fetchFilteredData"),this.sponsorGroupData.getSponsorGroupsWithMembers().subscribe(e=>{this.sponsorGroups=e.filter(e=>this.displayTestNames?e:this.displayTestNames||"_Test _Sponsor _Group"===e.sponsorGroupName?void 0:e)},e=>this.errorMessage=e,()=>{console.log("done"+this.sponsorGroups[0].sponsorGroupId),this.isLoading=!1})}gotoMember(e,t){console.log("setting memberName to "+t);const o=["/admins/members/member/"+e];console.log("navigating to "+o),this.router.navigate(o)}editSponsorGroup(e){const t=["/admins/sponsor-group/"+e];console.log("navigating to "+t),this.router.navigate(t)}addNewSponsorGroup(e){if(!e||e.length<5)return void alert("Sponsor Group Name must be at least 5 characters long");const t=new Fs;t.sponsorGroupName=e,console.log("adding sponsorGroupName "+t.sponsorGroupName),this.sponsorGroupData.addNewSponsorGroup(t).subscribe(()=>{console.log(this.successMessage="New SponsorGroup "+e+" added successfully"),this.isLoading=!1,this.fetchData(),window.setTimeout(()=>{this.successMessage=""},3e3)},e=>{console.log(this.errorMessage=e),this.isLoading=!1})}onSortColumn(e){return console.log("parent received sortColumnCLick event with "+e.sortColumn),this.sponsorGroups.sort((t,o)=>this.columnSorter.compareValues(t,o,e))}onSorted(){console.log("sorted event received")}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(Re.a),m.Mb(i.b),m.Mb(L.a))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-sponsor-groups"]],decls:10,vars:5,consts:[[1,"card","bg-primary"],[1,"card-header","text-white",2,"font-size","large"],[1,"card-body","bg-white"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"ngSwitch"],["class","text-center col-md-4 col-md-offset-4",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-center","col-md-4","col-md-offset-4"],["appSortableTable","",1,"table-sm","table-striped"],["app-sortable-column","sponsorGroupName","sort-direction","asc",3,"onSortColumn"],["app-sortable-column","sponsorGroupMemberName",3,"onSortColumn"],[4,"ngFor","ngForOf"],[1,"form-group"],["for","SponsorGroupName"],["id","SponsorGroupName","type","text","placeholder","Sponsor Group Name",1,"form-control","form-control-sm"],["SponsorGroupName",""],[1,"btn","btn-primary",3,"click"],[1,"link",3,"click"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Rb(1,"div",1),m.Bc(2," Sponsor Groups "),m.Qb(),m.Rb(3,"div",2),m.zc(4,Ys,2,1,"span",3),m.zc(5,Js,2,1,"span",4),m.Rb(6,"div",5),m.zc(7,Hs,2,0,"div",6),m.zc(8,Ws,18,1,"div",7),m.Qb(),m.Qb(),m.Bc(9," l"),m.Qb()),2&e&&(m.zb(4),m.jc("ngIf",t.errorMessage),m.zb(1),m.jc("ngIf",t.successMessage),m.zb(1),m.jc("ngSwitch",t.isLoading),m.zb(1),m.jc("ngSwitchCase",!0),m.zb(1),m.jc("ngSwitchCase",!1))},directives:[h.l,h.m,h.n,p.a,E,_.a,h.k],styles:['.report-row[_ngcontent-%COMP%]{padding:4px}th[app-sortable-column][_ngcontent-%COMP%]{text-align:left;cursor:pointer;-webkit-text-decoration-line:underline;text-decoration-line:underline;-webkit-text-decoration-style:solid;text-decoration-style:solid}.up-arrow[_ngcontent-%COMP%]:before{content:"^&nbsp;"}.down-arrow[_ngcontent-%COMP%]:after{content:"v&nbsp;&nbsp;"}']}),Object(U.a)([Object(x.d)(P.a.getTestNamesVisibility),Object(U.b)("design:type",k.a)],e.prototype,"testNameVisibility$",void 0),e})();var Zs=o("jEWH"),en=o("tk/3");let tn=(()=>{class e extends Zs.a{constructor(e,t){super(e,t),this.http=e,this.webApiPrefixService=t}getServerEnvironment(){const e=this.WebApiPrefix+"reports/server_environment";return console.log("sending AuthHttp get request for ServerEnvironment with "+e),this.http.get(e).pipe(Object(ne.a)(this.handleError))}}return e.\u0275fac=function(t){return new(t||e)(m.Zb(en.a),m.Zb(u.a))},e.\u0275prov=m.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class on{constructor(e,t,o){this.webApiServerName=e,this.databaseServerName=t,this.databaseName=o}}let sn=(()=>{class e{constructor(e){this.sqlReports=e,console.log("hi from server-environment constructor")}ngOnInit(){this.env=new on("zz","xx","yy"),this.fetchData()}fetchData(){console.log("fetchData for ServerEnvironment"),this.isLoading=!0,this.sqlReports.getServerEnvironment().subscribe(e=>{this.env=e,console.log(this.env),console.log(this.env.databaseServerName),console.log(this.env.databaseName),console.log(this.env.webApiServerName)},e=>{this.errorMessage=e},()=>{console.log("done"),this.isLoading=!1})}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(tn))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-server-environment"]],decls:19,vars:3,consts:[[1,"row"],[1,"col"]],template:function(e,t){1&e&&(m.Rb(0,"div"),m.Rb(1,"div",0),m.Rb(2,"div",1),m.Rb(3,"table"),m.Rb(4,"tr"),m.Rb(5,"th"),m.Bc(6,"WebAPI ServerName "),m.Qb(),m.Bc(7),m.Nb(8,"th"),m.Qb(),m.Rb(9,"tr"),m.Rb(10,"th"),m.Bc(11,"Database ServerName "),m.Qb(),m.Bc(12),m.Nb(13,"th"),m.Qb(),m.Rb(14,"tr"),m.Rb(15,"th"),m.Bc(16,"Database Name "),m.Qb(),m.Bc(17),m.Nb(18,"th"),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&e&&(m.zb(7),m.Dc("",t.env.webApiServerName," "),m.zb(5),m.Dc("",t.env.databaseServerName," "),m.zb(5),m.Dc("",t.env.databaseName," "))},encapsulation:2}),e})(),nn=(()=>{class e{constructor(e){this.store=e,this.strVisibility="Not Visible",this.currentState$.subscribe(e=>{this.displayTestNames=e}),this.strVisibility=this.displayTestNames?"Visible":"Not Visible"}toggleTestNamesVisibility(){console.log("toggle"),this.displayTestNames=!this.displayTestNames,this.strVisibility=this.displayTestNames?"Visible":"Not Visible",this.store.dispatch(new At.g(this.displayTestNames))}}return e.\u0275fac=function(t){return new(t||e)(m.Mb(x.g))},e.\u0275cmp=m.Gb({type:e,selectors:[["app-test-names-visibility"]],decls:7,vars:1,consts:[[1,"btn","default-btn","btn-primary","btn-sm",3,"click"],[2,"font-weight","bold"]],template:function(e,t){1&e&&(m.Rb(0,"button",0),m.cc("click",(function(){return t.toggleTestNamesVisibility()})),m.Bc(1,"toggleTestNamesVisibility"),m.Qb(),m.Rb(2,"span"),m.Bc(3,"Current Value: "),m.Rb(4,"span",1),m.Bc(5),m.Qb(),m.Qb(),m.Bc(6,"\n\xa0")),2&e&&(m.zb(5),m.Dc(" ",t.strVisibility,""))},encapsulation:2}),Object(U.a)([Object(x.d)(P.a.getTestNamesVisibility),Object(U.b)("design:type",k.a)],e.prototype,"currentState$",void 0),e})();const rn=[{path:"",component:cs,canActivate:[c.a],children:[{path:"",pathMatch:"full",component:Se},{path:"sponsor-groups",component:Ks},{path:"sponsor-group/:id",component:Vs},{path:"members",component:Se},{path:"members/memberList",component:W},{path:"members/createNewMember",component:D},{path:"members/member",component:We},{path:"students",component:no},{path:"students/studentList",component:Zt},{path:"students/student",component:Xo},{path:"students/student/mentorReports",component:_t},{path:"mentor-reports/summary-tracking",component:mt},{path:"mentor-reports/mr-container",component:Qt},{path:"mentor-reports/summary-updates",component:xt,canDeactivate:[c.f]},{path:"follow-up-requests",component:Os},{path:"follow-up-events",component:a.a},{path:"follow-up-requests-add",component:Qs},{path:"follow-up-events-add/:requestId",component:fs},{path:"utilities",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],decls:4,vars:0,consts:[[1,"row"]],template:function(e,t){1&e&&(m.Rb(0,"div",0),m.Nb(1,"app-server-environment"),m.Qb(),m.Rb(2,"div",0),m.Nb(3,"app-test-names-visibility"),m.Qb())},directives:[sn,nn],styles:["[_nghost-%COMP%]{display:block;padding:0 16px}input[_ngcontent-%COMP%]{width:250px}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0 0 0 8px}.bodytext[_ngcontent-%COMP%]{margin:25px}"]}),e})()}]}];let cn=(()=>{class e{}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(rn)],i.e]}),e})(),an=(()=>{class e{}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(t){return new(t||e)},imports:[[r.a,cn,s.r,s.h,n.a]]}),e})()},qGxU:function(e,t,o){"use strict";o.d(t,"a",(function(){return I}));var s=o("mrSG"),n=o("AcyG"),r=o("LRne"),i=o("HDdC"),c=o("vkgz"),a=o("Kj3r"),l=o("/uUt"),d=o("eIep"),b=o("JIr8"),u=o("6VDH"),m=o("dfvj"),h=o("fXoL"),p=o("2vts"),g=o("tyNb"),f=o("ofXK"),v=o("3Pt+"),S=o("1kSV");function R(e,t){1&e&&(h.Rb(0,"span"),h.Bc(1," Or: "),h.Qb())}function M(e,t){if(1&e){const e=h.Sb();h.Rb(0,"span",10),h.cc("click",(function(){return h.sc(e),h.ec().gotoStudentList()})),h.Bc(1,"Browse Students "),h.Qb()}}let y=(()=>{class e{constructor(e){this.studentData=e}search(e){return""===e?Object(r.a)([]):this.studentData.getCurrentStudentMiniDTOs(e).pipe(Object(c.a)(e=>console.log(e)))}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(p.a))},e.\u0275prov=h.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),I=(()=>{class e{constructor(e,t,o,s){this._service=e,this.router=t,this.studentData=o,this.store=s,this.searching=!1,this.searchFailed=!1,this.currentGUId="0000",this.search=e=>e.pipe(Object(a.a)(500),Object(l.a)(),Object(c.a)(()=>this.searching=!0),Object(d.a)(e=>this._service.search(e).pipe(Object(c.a)(()=>this.searchFailed=!1),Object(c.a)(e=>console.log(e[0].studentName)),Object(b.a)(()=>(this.searchFailed=!0,Object(r.a)([]))))),Object(c.a)(()=>this.searching=!1)),this.formatter=e=>e.studentName+" <"+e.email+">",console.log("name-lookup constructor!")}ngOnInit(){this.subscribeForStudentGUIds2()}onSelect(e){console.log(e.item.studentId),console.log(e.item.studentGUId),this.currentGUId=e.item.studentGUId,this.store.dispatch(new u.c(this.currentGUId)),this.email=e.item.email,this.studentName=e.item.studentName}onFocus(){const e=document.getElementById("search-string");e.focus(),e.select()}onInput(){0===document.getElementById("search-string").value.length&&this.resetStudentData()}onClear(){console.log("onClear");const e=document.getElementById("search-string");e.focus(),e.value="",this.resetStudentData()}subscribeForStudentGUIds2(){this.subscription=this.currentGUId$.subscribe(e=>{this.studentGUId=e,console.log("************NGXS: header new StudentGUId received"+this.studentGUId),this.studentGUId&&"0000"!==this.studentGUId&&(this.currentGUId=this.studentGUId,this.fetchData())})}resetStudentData(){console.log("studentLookup reset"),this.currentGUId="0000",this.store.dispatch(new u.c(this.studentGUId))}fetchData(){this.studentData.getCurrentStudentMiniDTO(this.currentGUId).subscribe(e=>{this.studentMiniDTO=e},e=>console.error("Subscribe error: "+e),()=>{this.email=this.studentMiniDTO.email,this.studentName=this.studentMiniDTO.studentName})}gotoStudentList(){this.router.navigateByUrl("admins/students/studentList")}gotoStudent(){if("0000"!==this.currentGUId){const e=["admins/students/student",{guid:this.currentGUId}];console.log("navigating to "+e),this.router.navigate(e)}}}return e.\u0275fac=function(t){return new(t||e)(h.Mb(y),h.Mb(g.b),h.Mb(p.a),h.Mb(n.g))},e.\u0275cmp=h.Gb({type:e,selectors:[["app-student-lookup"]],inputs:{showSearchButton:"showSearchButton"},decls:17,vars:13,consts:[["for","search-string"],[2,"margin-bottom","2px","margin-left","3rem"],[4,"ngIf"],["style","margin-bottom: 2px; margin-left: 1rem;","class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between"],["id","search-string","type","text","placeholder","Last Name or First Name or Email",1,"form-control",3,"editable","ngModel","ngbTypeahead","inputFormatter","resultFormatter","ngModelChange","input","focus","selectItem"],[1,"btn",2,"margin-left","-25px",3,"click"],[1,"row"],[1,"link",2,"margin-top",".4rem","margin-left","1rem",3,"hidden","click"],[2,"margin-left","1rem","margin-top",".2rem",3,"hidden"],[1,"btn","btn-sm","btn-primary",2,"margin-bottom","2px","margin-left","1rem",3,"click"]],template:function(e,t){1&e&&(h.Rb(0,"label",0),h.Bc(1,"Search for Student:"),h.Qb(),h.Rb(2,"span",1),h.zc(3,R,2,0,"span",2),h.zc(4,M,2,0,"span",3),h.Qb(),h.Rb(5,"div",4),h.Rb(6,"input",5),h.cc("ngModelChange",(function(e){return t.studentMiniDTO=e}))("input",(function(){return t.onInput()}))("focus",(function(){return t.onFocus()}))("selectItem",(function(e){return t.onSelect(e)})),h.Qb(),h.Rb(7,"span"),h.Rb(8,"button",6),h.cc("click",(function(){return t.onClear()})),h.Rb(9,"b"),h.Bc(10,"[\u2716]"),h.Qb(),h.Qb(),h.Qb(),h.Qb(),h.Rb(11,"div",7),h.Rb(12,"span",8),h.cc("click",(function(){return t.gotoStudent()})),h.Bc(13),h.Qb(),h.Nb(14,"br"),h.Rb(15,"span",9),h.Bc(16),h.Qb(),h.Qb()),2&e&&(h.zb(3),h.jc("ngIf",t.showSearchButton),h.zb(1),h.jc("ngIf",t.showSearchButton),h.zb(2),h.Eb("is-invalid",t.searchFailed),h.jc("editable",!1)("ngModel",t.studentMiniDTO)("ngbTypeahead",t.search)("inputFormatter",t.formatter)("resultFormatter",t.formatter),h.zb(6),h.jc("hidden","0000"==t.currentGUId),h.zb(1),h.Dc("Student Profile: ",t.studentName," "),h.zb(2),h.jc("hidden","0000"==t.currentGUId),h.zb(1),h.Dc(" Email: ",t.email," "))},directives:[f.l,v.b,S.e,v.m,v.o],styles:[".form-control[_ngcontent-%COMP%] { width: 300px; display: inline; }"]}),Object(s.a)([Object(n.d)(m.a.getSelectedStudentGUId),Object(s.b)("design:type",i.a)],e.prototype,"currentGUId$",void 0),e})()}}]);