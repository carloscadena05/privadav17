<div class="py-4 px-3 px-md-5">
  <h1 class="title text-center text-sm-left">Editar Reporte</h1>

  <app-alert (didClose)="closeAlert($event)" [isShown]="successAlert" [type]="'success'"
    *ngIf="successAlert"></app-alert>
  <app-alert (didClose)="closeAlert($event)" [isShown]="errorAlert" [type]="'error'" *ngIf="errorAlert"></app-alert>

  <form [formGroup]="myForm">

    <p class="subtitle text-center mt-3 mb-2 mt-sm-4 mb-sm-3">
      <!-- Periodo: <b>{{selectedQRPeriod}}</b> -->
       <!-- TEMP TEMP TEMP-->
       Periodo: 2024-2
    </p>

    <fieldset [disabled]="submitted">

      <div class="form-group">

        <div hidden class="controls">
          <label for="selfReportId">Id</label>
          <textarea id="selfReportId" formControlName="selfReportId" type="text" class="form-control input-sm">
          </textarea>
        </div>

        <div class="border border-dark rounded-lg bg-white  p-sm-4 p-2">
          <!-- change pre tag for an ordered list to avoid horizontal scroll -->
          REDACTA A MANERA DE ENSAYO LAS RESPUESTAS A ESTAS PREGUNTAS:
          <ol class="px-4 my-3" style="list-style-type: none;">
            <li>
              <!-- <h3 class="question-header text-center"> -->
                1.	Este primer semestre del año ¿Que fué lo que más disfrutaste académicamente? y ¿Qué fue lo más difícil de sobrellevar?, cuéntanos ¿por qué?
              <!-- </h3> -->
            <li>
              2.	¿Cuáles son las preguntas que más te haz hecho a ti mismo en el trayecto de tu carrera?
            </li>
            <li>
              3.	En el tiempo que llevas en Jóvenes Adelante¿Cómo ha sido tu experiencia con nosotros? Qué mejoraría de nuestro seguimiento, cambiarías algo del programa, que áreas de oportunidad observas.
            </li>
            <li>
              4.	Cuéntanos ¿en qué ámbitos tu mentor te ha ayudado a crecer? y ¿en qué aspectos consideras que necesitas un poco más de apoyo?.
            </li>
            <li>
              5.	¿Cómo está tu familia? Nos interesa saber si hay alguna situación difícil o muy agradable por la que estén pasando? Estoy aquí para leerte.
            </li>
            <li>
              6.	En el punto que vas de tu carrera, ¿En qué notas que haz evolucionado, crecido o madurado? y ¿Por qué?
            </li>
            <li>
              7.	¿Qué hábito notas que te está poniendo el pié para lograr tus metas?
            </li>
            <li>
              8.	Emocionalmente, ¿Cómo te has sentido durante estos cuatro meses? Más allá de responder “bien” o “mal” nos gustaría leerte, eres importante para nosotros.
            </li>
          </ol>

        </div>
        <p>Tu reporte en español: </p>
        <div class="rounded-lg textarea-container mt-3 mt-sm-4 mt-md-5" [ngClass]="myForm.controls['narrative_Spanish'].errors?.required ? 'red-border' :
                    myForm.controls['narrative_Spanish'].valid && myForm.controls['narrative_Spanish'].value.length > 0 ?
                    'green-border' : 'blue-border'">
          <textarea id="narrative_Spanish" #success formControlName="narrative_Spanish" type="text" required
            class="custom-textarea p-sm-4 p-2 pb-0" maxlength="4500"
            placeholder="Escribe tu reporte a forma de ensayo con un máximo de 4500 caracteres">
          </textarea>
          <div class="characters-left bold text-right m-4"
            *ngIf="!myForm.controls['narrative_Spanish'].errors?.required">
            {{ 4500 - myForm.controls['narrative_Spanish'].value.length }} caracteres disponibles
          </div>
        </div>

        <div style="color:mediumblue" class="mt-2 mt-sm-3 mt-md-4"><b>
              Si desea que el texto en inglés se traduzca de nuevo, elimínelo antes de introducir un nuevo texto en
              español.</b>
        </div>

        <p>Tu reporte en inglés </p>
        <div class="rounded-lg textarea-container mt-2 mt-sm-3 mt-md-4" [ngClass]="myForm.controls['narrative_English'].valid && myForm.controls['narrative_English'].value.length > 0 ?
                    'green-border' : 'blue-border'">
          <textarea id="narrative_English" #success formControlName="narrative_English" type="text"
            class="custom-textarea p-sm-4 p-2 pb-0" maxlength="4500"
            placeholder="Dejar en blanco para traducción automática">
          </textarea>

          <div class="characters-left bold text-right m-4"
            *ngIf="!myForm.controls['narrative_English'].errors?.required">
            {{ 4500 - myForm.controls['narrative_English'].value.length }} characters left
          </div>
        </div>

      </div>

      <div class="p-4 text-error" *ngIf="myForm.controls['narrative_Spanish'].errors?.required">
        No se puede registrar un reporte vacío
      </div>

      <!-- buttons -->
      <div class="text-center">
        <button class="btn save mr-4" (click)="onSubmit()"
          [disabled]="myForm.controls['narrative_Spanish'].errors?.required || myForm.controls['narrative_Spanish'].value == null">
          Guardar
        </button>
        <button class="btn cancel ml-4 mr-0" (click)="onCancel()">
          Cancelar
        </button>
      </div>
    </fieldset>
  </form>
</div>
