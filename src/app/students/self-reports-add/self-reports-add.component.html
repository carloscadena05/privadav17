<div class="card bg-primary" style="min-width: 46em">
  <div class="card-header text-white" style="font-size: large">Añadir Nuevo Reporte</div>
  <div class="card-body bg-white" style="min-width: 46em">
    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>

    <form [formGroup]="myForm">
      <fieldset [disabled]="submitted">
        <div class="form-group">
          <div class="controls">
            Año/Periodo de este reporte
            <select
              name="activePeriodSelector"
              data-cy="period-selector"
              (change)="setSelectedYearPeriod($event.target.value)"
            >
              <option *ngFor="let yearPeriod of activeQRPeriods" [value]="yearPeriod.value">{{ yearPeriod.label }}</option>
            </select>
          </div>
          <!-- <span *ngIf="!reportPeriod.valid &amp;&amp; reportPeriod.touched" class="red"> Month is required</span> -->
        </div>
        <pre style="font-size: 120%">

          1. Explica cómo te sientes en tu cierre de ciclo escolar, en los ámbitos académico, personal, familiar y económico.

          2. Qué logros han tenido en lo que va del año? Ya sea en el ámbito académico, personal, laboral, familiar....etc

          3. ¿Hay algún proyecto que están desarrollando?, si es así cuéntanos más.

          4. ¿Qué dificultades están enfrentando? En cualquier ámbito.

          5. Ahora que se acerca el regreso a clases presenciales ¿a qué nuevas situaciones se tendrán que enfrentar?

          6. ¿Tienen alguna dificultad económica actualmente?

          </pre>
        <textarea
          id="narrative_English"
          #success
          formControlName="narrative_English"
          #narrative_English
          [(ngModel)]="selfReport.narrative_English"
          type="text"
          class="form-control input-sm narrative"
          placeholder=""
        >
        </textarea>
        <span class="form-text text-muted"
          ><code>{{ narrative_English.value.length }}</code> of <code>4500</code> characters</span
        >

        <app-display-errors
          control="narrative_English"
          class="red"
          [errors]="{
            required: 'An entry is required, even if it is just N/A',
            maxlength: 'Entrada no puede exceder los 4500 caracteres.'
          }"
        ></app-display-errors>

        <div class="col-md-6 col-md-offset-1">
          <span>
            <button
              class="btn btn-primary"
              style="width: 90px; margin-right: 10px; margin-top: 5px"
              (click)="onSubmit()"
            >
              Guardar
            </button> </span
          >&nbsp;
          <span>
            <button class="btn btn-default" style="width: 90px; margin-top: 5px" (click)="onCancel()">Cancelar</button>
            <div class="red" [hidden]="myForm.valid">
              Año, Periodo, y texto de reporte deben ser completados correctamente y no más de 4500 caracteres antes de
              guardar.
            </div>
          </span>
        </div>
      </fieldset>
    </form>
  </div>
</div>
