<div class="card bg-primary">
  <div class="card-header text-white" style="font-size:large"> Mentor Report Review
  </div>
  <div class="card-body bg-white">
    <span *ngIf="errorMessage" class="alert alert-danger">{{errorMessage}}</span>
    <span *ngIf="successMessage" class="alert alert-success">{{successMessage}}</span>

    <div>
      <div class="controls">

        <label for="yearSelector">&nbsp;Report Year/Month:</label>
        <select name="yearSelector" [(ngModel)]="selectedYear" (change)="setSelectedYear($event.target.value)">>
          <option *ngFor="let year of years" [value]="year.value">{{year.label}}</option>
        </select>
        <select name="monthSelector" [(ngModel)]="selectedMonth" (change)="setSelectedMonth($event.target.value)">
          <option *ngFor="let month of months" [value]="month.value">{{month.label}}</option>
        </select>

        <label for="MRSummaryStatusSelector">Summary Status:</label>
        <select name="MRSummaryStatusSelector" [(ngModel)]="selectedMRSummaryStatus"
                (change)="setSelectedMRSummaryStatus($event.target.value)">
          <option *ngFor="let status of mrSummaryStatuses" [value]="status.value">{{status.label}}</option>
        </select>

        <!-- <label>&nbsp;Highlight Status:
          <select name="highlightStatusSelector" [(ngModel)]="selectedHighlightStatus"
                  (change)="setSelectedHighlightStatus($event.target.value)">
            <option *ngFor="let status of highlightStatuses" [value]="status.value">{{status.label}}</option>
          </select>
        </label> -->

        <span class="checkboxes">
          &nbsp;&nbsp;<label><input type="checkbox" [(ngModel)]="displayOriginalFields">&nbsp;<span>Display Original
              Content</span></label>
        </span>
      </div>
      <app-status-counts [year]=selectedYear [month]=selectedMonth>
      </app-status-counts>

    </div>

    <div [ngSwitch]="isLoading">
      <div *ngSwitchCase="true" class="text-center col-md-4 col-md-offset-4">
        <app-loading-container>
        </app-loading-container>
      </div>
      <div *ngSwitchCase="false">
        <div class="row" style="border-bottom: 3px solid #ccc; margin-top: 2px;"
             *ngFor="let lmr of mentorReportByMonth, let i = index">
          <div class="col-md-12">
            <div class="row" id='{{"id" + lmr.mentorReportId}}'>
              &nbsp;
              <button class="btn default-btn btn-primary btn-sm"
                      (click)="gotoReportSummary(lmr.mentorReportId,lmr.studentName)">Review</button>
              &nbsp;

              <span class="padded link">
                [Student:
                {{ lmr.studentName }} ]
              </span>
              <span class="padded">
                [Mentor:
                {{ lmr.mentorName }} ]
              </span>
              <span class="padded">
                [Sponsor:
                {{ lmr.sponsorGroupName }} ]
              </span>

            </div>

            <div class="row">
              <span class="padded">
                &nbsp;Mentor Report Review Status: {{ lmr.reviewedStatus }}
              </span>
              <!-- <span class="padded">
                &nbsp;Highlight Status: {{ lmr.highlightStatus }}
              </span> -->
            </div>
            <div class="row">
              <span class="padded">
                &nbsp;Report Date:
                {{ lmr.reportDateTime | truncateDate }}
              </span>
              <span class="padded">
                &nbsp;Last Contact Month:
                {{ lmr.lastContactMonth | alphaMonth}}-{{ lmr.lastContactYear }}
              </span>
              <span class="padded">
                &nbsp;Emoji:
                <img src="{{smileys[lmr.emoji+1]}}" width="24px" />
              </span>
            </div>
            <!--<div class="row">
    <div class="padded">
      &nbsp;Follow-up Needed:
    </div>
    <div class="col-md-10">
      {{ lmr.followUpNeeded }}
    </div>
  </div>-->
            <div class="row" [hidden]=!displayOriginalFields>
              <div class="col-md2 padded">
                &nbsp;Description (English)
              </div>
              <div class="col-md-10">
                {{ lmr.narrative_English }}
              </div>
            </div>
            <div class="row" [hidden]=!displayOriginalFields>
              <div class="padded">
                &nbsp;Description (Spanish)
              </div>
              <div class="col-md-10">
                {{ lmr.narrative_Spanish }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


l