<div *ngIf="errorMessage" class="alert alert-danger">{{errorMessage}}</div>
<div *ngIf="successMessage" class="alert alert-success">{{successMessage}}</div>
<div style="max-width:900px">

  <div [ngSwitch]="isLoading">
    <div *ngSwitchCase="true" class="text-center col-md-4 col-md-offset-4">
      <app-loading-container>
      </app-loading-container>
    </div>
    <div *ngSwitchCase="false">
      <form [formGroup]="myForm" class="form-horizontal">
        <div class="row">
          <div class="col">
            <div class="form-group">
              <span class="btn btn-primary btn-sm" (click)="location.back()">
                &lt;&lt;&nbsp; Back
              </span>
              &nbsp;

              <span class="btn btn-primary btn-sm" (click)="mentorReportsReview()">
                Mentor Reports
              </span>

              <label for="ckEditMode">
                <input id="ckEditMode" type="checkbox" name="toggleReadOnly" (click)="setReadOnly()"
                       style="margin: 0 0 0 4px">
                Editable</label>
            </div>
            <div [hidden]="!showEditLink" (click)='gotoMemberRecord()' class='link'>(Edit
              name or email for Member)</div>

            <app-person-shared memberGUId="{{ studentDTO.memberRecordGUId }}">

            </app-person-shared>


            <div class="form-group">


              <label for="nickName">Nick Name</label>
              <input id="nickName" formControlName="nickName" type="text"
                     class="form-control form-control-sm" placeholder="Nickname" />
              <app-display-errors control="nickName" class="red" [errors]="{
                'maxlength': 'Nickname cannot exceed 20 characters in length.'
              }"></app-display-errors>

              <label for="photoUrl">Photo Filename</label>
              <input id="photoUrl" formControlName="photoUrl" type="text"
                     class="form-control form-control-sm" placeholder="Photo Filename" />
              <app-display-errors control="photoUrl" class="red" [errors]="{
                'maxlength': 'Photo Filename cannot exceed 225 characters in length.'
              }"></app-display-errors>


              <label for="cellPhone">Cell Phone</label>
              <input id="cellPhone" formControlName="cellPhone" type="text"
                     class="form-control form-control-sm" placeholder="Cell Phone Number: ###-###-####" />
              <app-display-errors control="cellPhone" class="red" [errors]="{
                'minlength': 'Cell Phone must be at least 7 characters in length.',
                'maxlength': 'Cell Phone cannot exceed 13 characters in length.'
              }"></app-display-errors>


              <label for="homePhone">Home Phone</label>
              <input id="homePhone" formControlName="homePhone" type="text"
                     class="form-control form-control-sm" placeholder="Home Phone Number: ###-###-####" />
              <app-display-errors control="homePhone" class="red" [errors]="{
                    'minlength': 'Cell Phone must be at least 7 characters in length.',
                    'maxlength': 'Cell Phone cannot exceed 13 characters in length.'
                  }"></app-display-errors>


              <label for="englishSkillLevelId">English Level:</label>
              <select formControlName="englishSkillLevelId"
                      class="form-control form-control-sm">
                <option *ngFor="let status of languageStatuses" [value]="status.value">{{status.label}}</option>
              </select>

              <label for="emergencyContactName">Emergency Contact Name</label>
              <input id="emergencyContactName" formControlName="emergencyContactName" type="text"
                     class="form-control form-control-sm" placeholder="Contact Person:" />
              <app-display-errors control="emergencyContactName" class="red" [errors]="{
                    'minlength': 'Name must be at least 5 characters in length.'
                  }"></app-display-errors>

              <label for="emergencyContactPhone">Emergency Contact Phone</label>
              <input id="emergencyContactPhone" formControlName="emergencyContactPhone" type="text"
                     class="form-control form-control-sm"
                     placeholder="Best Phone Number: ###-###-####" />
              <app-display-errors control="emergencyContactPhone" class="red" [errors]="{
                  'minlength': 'Phone number must be at least 7 characters in length.',
                  'maxlength': 'Phone number cannot exceed 13 characters in length.'
                }"></app-display-errors>

              <label for="prepaId">Prepa</label>
              <select id="prepaId" formControlName="prepaId"
                      class="form-control form-control-sm">
                <option *ngFor="let status of prepas" [value]="status.value">{{status.label}}</option>
              </select>

              <!-- <label for="inputInitialInterview">Initial Interview:</label>
          <textarea id="inputInitialInterview" formControlName="inputInitialInterview"
            [(ngModel)]="student.initialInterview" type="text" class="form-control form-control-sm"
            placeholder="Intitial Interview with Student">
          </textarea>
          <app-display-errors control="inputInitialInterview" class="red" [errors]="{
                'maxlength': 'Initial Interview cannot exceed 2000 characters in length.'
              }"></app-display-errors> -->

              <!-- <label for="studentStory">Student Story:</label>
          <textarea id="studentStory" formControlName="studentStory" [(ngModel)]="student.studentStory"
            type="text" class="form-control form-control-sm" placeholder="Consolidated Student Story">
          </textarea>
          <app-display-errors control="studentStory" class="red" [errors]="{
                'maxlength': 'Student Story cannot exceed 2000 characters in length.'
              }"></app-display-errors> -->


            </div>
          </div>
          <div class="col">
            <div class="row">
              <div style="width: 100%">
                <img [src]="photoPathName">
              </div>
            </div>

            <div class="row">
              <div class="col-6" style="padding:0 2px 0 4px;">
                <label for="statusId">Status</label>
                <select id="statusId" formControlName="statusId"
                        class="form-control form-control-sm">
                  <option *ngFor="let status of studentStatuses" [value]="status.value">{{status.label}}</option>
                </select>

                <label for="joinedFromId">Joined From</label>
                <select id="joinedFromId" formControlName="joinedFromId"
                        class="form-control form-control-sm">
                  <option *ngFor="let status of joinedFromTypes" [value]="status.value">{{status.label}}</option>
                </select>

                <label for="gradYear">Grad Year</label>
                <select id="gradYear" formControlName="gradYear"
                        class="form-control form-control-sm">
                  <option *ngFor="let year of gradYears" [value]="year.value">{{year.label}}</option>
                </select>


                <label for="gender">Gender</label>
                <select id="gender" formControlName="gender"
                        class="form-control form-control-sm">
                  <option *ngFor="let gender of genders" [value]="gender.value">{{gender.label}}</option>
                </select>
              </div>

              <div class="col-6" style="padding:0 2px 0 4px;">
                <label for="ja_Id">JA_ID</label>
                <input id="ja_Id" formControlName="ja_Id"
                       class="form-control form-control-sm" type="text" />

                <label for="yearJoinedJa">Year Joined</label>
                <select id="yearJoinedJa" formControlName="yearJoinedJa"
                        class="form-control form-control-sm">
                  <option *ngFor="let year of joinedYears" [value]="year.value">{{year.label}}</option>
                </select>

                <label for="gradMonthNum">Grad Month</label>
                <select id="gradMonthNum" formControlName="gradMonthNum"
                        class="form-control form-control-sm">
                  <option *ngFor="let month of gradMonths" [value]="month.value">{{month.label}}</option>
                </select>

                <label for="studentId">StudentId</label>
                <input id="studentId" formControlName="studentId"
                       readonly
                       class="form-control form-control-sm" type="text" />


              </div>
            </div>

            <div class="row">
              <label for="studentGUId">StudentGUId</label>
              <input id="studentGUId" formControlName="studentGUId"
                     readonly
                     class="form-control form-control-sm" type="text" />

              <label for="universityId">University</label>
              <select id="universityId" formControlName="universityId"
                      class="form-control form-control-sm">
                <option *ngFor="let status of universities" [value]="status.value">{{status.label}}</option>
              </select>

              <label for="major">Major</label>
              <input id="major" formControlName="major" type="text"
                     class="form-control form-control-sm" placeholder="" />

              <label for="curp">CURP</label>
              <input id="curp" formControlName="curp"
                     class="form-control form-control-sm" placeholder="" />

              <label for="rfc">RFC</label>
              <input id="rfc" formControlName="rfc" type="text"
                     class="form-control form-control-sm" placeholder="" />

              <label for="bankAccount">Bank Account</label>
              <input id="bankAccount" formControlName="bankAccount" type="text"
                     class="form-control form-control-sm" placeholder="" />
            </div>
          </div>

          <div class="col">

            <div class="form-group"></div>
            <label for="sponsorGroupId">Sponsor Group</label>
            <select id="sponsorGroupId" formControlName="sponsorGroupId"
                    class="form-control form-control-sm">
              <option *ngFor="let sponsor of sponsorGroups" [value]="sponsor.value">{{sponsor.label}}</option>
            </select>

            <app-sponsor-group-members
                                       [sponsorGroupId]="sponsorGroupIdParam">
            </app-sponsor-group-members>

            <label for="mentorName">Mentor (Read Only for Now)</label>
            <input id="mentorName" formControlName="mentorName" type="text"
                   readonly
                   class="form-control form-control-sm" placeholder="" />

            <!-- <label for="mentorGUId">Mentor</label>
            <select id="mentorGUId" formControlName="mentorGUId" class="form-control form-control-sm">
              <option *ngFor="let mentor of mentors" [value]="mentor.value">{{mentor.label}}</option>
            </select> -->

            <label for="gradeMonths">Academic Year / Grade Months</label>
            <app-grade-months [universityId]="student.universityId">
            </app-grade-months>

            <app-student-grades-status [gpaStatus]="studentDTO.gpaStatus"
                                       [gradeRptStatus]="studentDTO.gradeRptStatus">
            </app-student-grades-status>
            <app-student-mr-status [meetingStatus]="studentDTO.timelyMentorMeetingStatus"
                                   [reportStatus]="studentDTO.timelyMentorReportStatus"
                                   [emojiPathname]="emojiPathname">
            </app-student-mr-status>

          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <button class="btn btn-primary" *ngIf="bReadOnly" (click)="saveMyForm()" [disabled]="!myForm.valid">
              Save
            </button>
            <span class="red" [hidden]="myForm.valid || bReadOnly">All required fields must be filled in before
              saving.</span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>